var vj=Object.defineProperty;var bj=(e,t,r)=>t in e?vj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var At=(e,t,r)=>(bj(e,typeof t!="symbol"?t+"":t,r),r);import{r as P,a as xj,R as j,c as Es,g as Ce}from"./react-vendor-DFgGbHiX.js";import{r as Ma,_ as Ia,C as $a,a as gi,E as rs,F as ns,L as yw,g as zr,b as vw,d as bw,i as zh,c as xw,e as ww,v as Sw,f as ag,h as Pw,j as wj,k as Sj,l as Pj,S as as,m as Aj,n as Aw,o as _t,p as Oj,q as is,s as _j,t as jj,u as Ow,w as _w,x as X,y as We,z as Ue,A as fo,B as ye,D as nt,G as Ne,H as Un,I as Tj}from"./firebase-Bpgr5sFe.js";import{C as Id,S as ve,D as fe,i as ig,a as og,c as ir,b as $d,d as Rd,e as Ra,P as kj,f as Or}from"./game-logic-aSpcUhZZ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var jw={exports:{}},Oc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej=P,Cj=Symbol.for("react.element"),Nj=Symbol.for("react.fragment"),Mj=Object.prototype.hasOwnProperty,Ij=Ej.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$j={key:!0,ref:!0,__self:!0,__source:!0};function Tw(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Mj.call(t,n)&&!$j.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Cj,type:e,key:i,ref:o,props:a,_owner:Ij.current}}Oc.Fragment=Nj;Oc.jsx=Tw;Oc.jsxs=Tw;jw.exports=Oc;var f=jw.exports,Dd={},sg=xj;Dd.createRoot=sg.createRoot,Dd.hydrateRoot=sg.hydrateRoot;const Rj="modulepreload",Dj=function(e){return"/"+e},lg={},Lj=function(t,r,n){let a=Promise.resolve();return r&&r.length>0&&(document.getElementsByTagName("link"),a=Promise.all(r.map(i=>{if(i=Dj(i),i in lg)return;lg[i]=!0;const o=i.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":Rj,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((c,u)=>{l.addEventListener("load",c),l.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})}))),a.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Wh={};Object.defineProperty(Wh,"__esModule",{value:!0});Wh.parse=Gj;Wh.serialize=Hj;const Bj=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Fj=/^[\u0021-\u003A\u003C-\u007E]*$/,Uj=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Vj=/^[\u0020-\u003A\u003D-\u007E]*$/,zj=Object.prototype.toString,Wj=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function Gj(e,t){const r=new Wj,n=e.length;if(n<2)return r;const a=(t==null?void 0:t.decode)||qj;let i=0;do{const o=e.indexOf("=",i);if(o===-1)break;const s=e.indexOf(";",i),l=s===-1?n:s;if(o>l){i=e.lastIndexOf(";",o-1)+1;continue}const c=cg(e,i,o),u=ug(e,o,c),d=e.slice(c,u);if(r[d]===void 0){let h=cg(e,o+1,l),p=ug(e,l,h);const g=a(e.slice(h,p));r[d]=g}i=l+1}while(i<n);return r}function cg(e,t,r){do{const n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function ug(e,t,r){for(;t>r;){const n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function Hj(e,t,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!Bj.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=n(t);if(!Fj.test(a))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+a;if(!r)return i;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);i+="; Max-Age="+r.maxAge}if(r.domain){if(!Uj.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);i+="; Domain="+r.domain}if(r.path){if(!Vj.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);i+="; Path="+r.path}if(r.expires){if(!Kj(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return i}function qj(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Kj(e){return zj.call(e)==="[object Date]"}var dg="popstate";function Yj(e={}){function t(n,a){let{pathname:i,search:o,hash:s}=n.location;return Ld("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ho(a)}return Jj(t,r,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xj(){return Math.random().toString(36).substring(2,10)}function fg(e,t){return{usr:e.state,key:e.key,idx:t}}function Ld(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yi(t):t,state:r,key:t&&t.key||n||Xj()}}function ho({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Jj(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){s="POP";let y=u(),v=y==null?null:y-c;c=y,l&&l({action:s,location:m.location,delta:v})}function h(y,v){s="PUSH";let x=Ld(m.location,y,v);c=u()+1;let w=fg(x,c),A=m.createHref(x);try{o.pushState(w,"",A)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(A)}i&&l&&l({action:s,location:m.location,delta:1})}function p(y,v){s="REPLACE";let x=Ld(m.location,y,v);c=u();let w=fg(x,c),A=m.createHref(x);o.replaceState(w,"",A),i&&l&&l({action:s,location:m.location,delta:0})}function g(y){let v=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof y=="string"?y:ho(y);return x=x.replace(/ $/,"%20"),qe(v,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,v)}let m={get action(){return s},get location(){return e(a,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(dg,d),l=y,()=>{a.removeEventListener(dg,d),l=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return o.go(y)}};return m}function kw(e,t,r="/"){return Zj(e,t,r,!1)}function Zj(e,t,r,n){let a=typeof t=="string"?yi(t):t,i=hn(a.pathname||"/",r);if(i==null)return null;let o=Ew(e);Qj(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=uT(i);s=lT(o[l],c,n)}return s}function Ew(e,t=[],r=[],n=""){let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let c=Cr([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(qe(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Ew(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:oT(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of Cw(i.path))a(i,o,l)}),t}function Cw(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Cw(n.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function Qj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:sT(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var eT=/^:[\w-]+$/,tT=3,rT=2,nT=1,aT=10,iT=-2,hg=e=>e==="*";function oT(e,t){let r=e.split("/"),n=r.length;return r.some(hg)&&(n+=iT),t&&(n+=rT),r.filter(a=>!hg(a)).reduce((a,i)=>a+(eT.test(i)?tT:i===""?nT:aT),n)}function sT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function lT(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=sl({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=sl({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:Cr([i,d.pathname]),pathnameBase:pT(Cr([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Cr([i,d.pathnameBase]))}return o}function sl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cT(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let g=s[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=s[h];return d&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function cT(e,t=!1,r=!0){pr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function uT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pr(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function dT(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?yi(e):e;return{pathname:r?r.startsWith("/")?r:fT(r,t):t,search:mT(n),hash:gT(a)}}function fT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Iu(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Nw(e){let t=hT(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Mw(e,t,r,n=!1){let a;typeof e=="string"?a=yi(e):(a={...e},qe(!a.pathname||!a.pathname.includes("?"),Iu("?","pathname","search",a)),qe(!a.pathname||!a.pathname.includes("#"),Iu("#","pathname","hash",a)),qe(!a.search||!a.search.includes("#"),Iu("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}s=d>=0?t[d]:"/"}let l=dT(a,s),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Cr=e=>e.join("/").replace(/\/\/+/g,"/"),pT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Iw=["POST","PUT","PATCH","DELETE"];new Set(Iw);var vT=["GET",...Iw];new Set(vT);var vi=P.createContext(null);vi.displayName="DataRouter";var _c=P.createContext(null);_c.displayName="DataRouterState";var $w=P.createContext({isTransitioning:!1});$w.displayName="ViewTransition";var bT=P.createContext(new Map);bT.displayName="Fetchers";var xT=P.createContext(null);xT.displayName="Await";var yr=P.createContext(null);yr.displayName="Navigation";var os=P.createContext(null);os.displayName="Location";var vr=P.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var Gh=P.createContext(null);Gh.displayName="RouteError";function wT(e,{relative:t}={}){qe(ss(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=P.useContext(yr),{hash:a,pathname:i,search:o}=ls(e,{relative:t}),s=i;return r!=="/"&&(s=i==="/"?r:Cr([r,i])),n.createHref({pathname:s,search:o,hash:a})}function ss(){return P.useContext(os)!=null}function ra(){return qe(ss(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(os).location}var Rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dw(e){P.useContext(yr).static||P.useLayoutEffect(e)}function br(){let{isDataRoute:e}=P.useContext(vr);return e?IT():ST()}function ST(){qe(ss(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(vi),{basename:t,navigator:r}=P.useContext(yr),{matches:n}=P.useContext(vr),{pathname:a}=ra(),i=JSON.stringify(Nw(n)),o=P.useRef(!1);return Dw(()=>{o.current=!0}),P.useCallback((l,c={})=>{if(pr(o.current,Rw),!o.current)return;if(typeof l=="number"){r.go(l);return}let u=Mw(l,JSON.parse(i),a,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Cr([t,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[t,r,i,a,e])}P.createContext(null);function Lw(){let{matches:e}=P.useContext(vr),t=e[e.length-1];return t?t.params:{}}function ls(e,{relative:t}={}){let{matches:r}=P.useContext(vr),{pathname:n}=ra(),a=JSON.stringify(Nw(r));return P.useMemo(()=>Mw(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function PT(e,t){return Bw(e,t)}function Bw(e,t,r,n){var v;qe(ss(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(yr),{matches:i}=P.useContext(vr),o=i[i.length-1],s=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",u=o&&o.route;{let x=u&&u.path||"";Fw(l,!u||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let d=ra(),h;if(t){let x=typeof t=="string"?yi(t):t;qe(c==="/"||((v=x.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${x.pathname}" was given in the \`location\` prop.`),h=x}else h=d;let p=h.pathname||"/",g=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=kw(e,{pathname:g});pr(u||m!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),pr(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=TT(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},s,x.params),pathname:Cr([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Cr([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&y?P.createElement(os.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function AT(){let e=MT(),t=yT(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=P.createElement(P.Fragment,null,P.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:i},"ErrorBoundary")," or"," ",P.createElement("code",{style:i},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),r?P.createElement("pre",{style:a},r):null,o)}var OT=P.createElement(AT,null),_T=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(vr.Provider,{value:this.props.routeContext},P.createElement(Gh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jT({routeContext:e,match:t,children:r}){let n=P.useContext(vi);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(vr.Provider,{value:e},r)}function TT(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let l=a.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id])!==void 0);qe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let o=!1,s=-1;if(r)for(let l=0;l<a.length;l++){let c=a[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(s=l),c.route.id){let{loaderData:u,errors:d}=r,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||h){o=!0,s>=0?a=a.slice(0,s+1):a=[a[0]];break}}}return a.reduceRight((l,c,u)=>{let d,h=!1,p=null,g=null;r&&(d=i&&c.route.id?i[c.route.id]:void 0,p=c.route.errorElement||OT,o&&(s<0&&u===0?(Fw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):s===u&&(h=!0,g=c.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,u+1)),y=()=>{let v;return d?v=p:h?v=g:c.route.Component?v=P.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,P.createElement(jT,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:r!=null},children:v})};return r&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?P.createElement(_T,{location:r.location,revalidation:r.revalidation,component:p,error:d,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}function Hh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kT(e){let t=P.useContext(vi);return qe(t,Hh(e)),t}function ET(e){let t=P.useContext(_c);return qe(t,Hh(e)),t}function CT(e){let t=P.useContext(vr);return qe(t,Hh(e)),t}function qh(e){let t=CT(e),r=t.matches[t.matches.length-1];return qe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function NT(){return qh("useRouteId")}function MT(){var n;let e=P.useContext(Gh),t=ET("useRouteError"),r=qh("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function IT(){let{router:e}=kT("useNavigate"),t=qh("useNavigate"),r=P.useRef(!1);return Dw(()=>{r.current=!0}),P.useCallback(async(a,i={})=>{pr(r.current,Rw),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var pg={};function Fw(e,t,r){!t&&!pg[e]&&(pg[e]=!0,pr(!1,r))}P.memo($T);function $T({routes:e,future:t,state:r}){return Bw(e,void 0,r,t)}function ar(e){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RT({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){qe(!ss(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),s=P.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=yi(r));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=r,p=P.useMemo(()=>{let g=hn(l,o);return g==null?null:{location:{pathname:g,search:c,hash:u,state:d,key:h},navigationType:n}},[o,l,c,u,d,h,n]);return pr(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:P.createElement(yr.Provider,{value:s},P.createElement(os.Provider,{children:t,value:p}))}function DT({children:e,location:t}){return PT(Bd(e),t)}function Bd(e,t=[]){let r=[];return P.Children.forEach(e,(n,a)=>{if(!P.isValidElement(n))return;let i=[...t,a];if(n.type===P.Fragment){r.push.apply(r,Bd(n.props.children,i));return}qe(n.type===ar,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Bd(n.props.children,i)),r.push(o)}),r}var Js="get",Zs="application/x-www-form-urlencoded";function jc(e){return e!=null&&typeof e.tagName=="string"}function LT(e){return jc(e)&&e.tagName.toLowerCase()==="button"}function BT(e){return jc(e)&&e.tagName.toLowerCase()==="form"}function FT(e){return jc(e)&&e.tagName.toLowerCase()==="input"}function UT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VT(e,t){return e.button===0&&(!t||t==="_self")&&!UT(e)}var Cs=null;function zT(){if(Cs===null)try{new FormData(document.createElement("form"),0),Cs=!1}catch{Cs=!0}return Cs}var WT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $u(e){return e!=null&&!WT.has(e)?(pr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zs}"`),null):e}function GT(e,t){let r,n,a,i,o;if(BT(e)){let s=e.getAttribute("action");n=s?hn(s,t):null,r=e.getAttribute("method")||Js,a=$u(e.getAttribute("enctype"))||Zs,i=new FormData(e)}else if(LT(e)||FT(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(n=l?hn(l,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||Js,a=$u(e.getAttribute("formenctype"))||$u(s.getAttribute("enctype"))||Zs,i=new FormData(s,e),!zT()){let{name:c,type:u,value:d}=e;if(u==="image"){let h=c?`${c}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else c&&i.append(c,d)}}else{if(jc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Js,n=null,a=Zs,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}function Kh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function HT(e,t){if(e.id in t)return t[e.id];try{let r=await Lj(()=>import(e.module),__vite__mapDeps([]));return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function KT(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await HT(i,r);return o.links?o.links():[]}return[]}));return ZT(n.flat(1).filter(qT).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function mg(e,t,r,n,a,i){let o=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,s=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,c)=>o(l,c)||s(l,c)):i==="data"?t.filter((l,c)=>{var d;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||s(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function YT(e,t){return XT(e.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let a=[n.module];return n.imports&&(a=a.concat(n.imports)),a}).flat(1))}function XT(e){return[...new Set(e)]}function JT(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function ZT(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(JT(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function QT(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ek(){let e=P.useContext(vi);return Kh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tk(){let e=P.useContext(_c);return Kh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Yh=P.createContext(void 0);Yh.displayName="FrameworkContext";function Uw(){let e=P.useContext(Yh);return Kh(e,"You must render this element inside a <HydratedRouter> element"),e}function rk(e,t){let r=P.useContext(Yh),[n,a]=P.useState(!1),[i,o]=P.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,h=P.useRef(null);P.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let m=v=>{v.forEach(x=>{o(x.isIntersecting)})},y=new IntersectionObserver(m,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[e]),P.useEffect(()=>{if(n){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[n]);let p=()=>{a(!0)},g=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Ii(s,p),onBlur:Ii(l,g),onMouseEnter:Ii(c,p),onMouseLeave:Ii(u,g),onTouchStart:Ii(d,p)}]:[!1,h,{}]}function Ii(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function nk({page:e,...t}){let{router:r}=ek(),n=P.useMemo(()=>kw(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?P.createElement(ik,{page:e,matches:n,...t}):null}function ak(e){let{manifest:t,routeModules:r}=Uw(),[n,a]=P.useState([]);return P.useEffect(()=>{let i=!1;return KT(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function ik({page:e,matches:t,...r}){let n=ra(),{manifest:a,routeModules:i}=Uw(),{loaderData:o,matches:s}=tk(),l=P.useMemo(()=>mg(e,t,s,a,n,"data"),[e,t,s,a,n]),c=P.useMemo(()=>mg(e,t,s,a,n,"assets"),[e,t,s,a,n]),u=P.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,g=!1;if(t.forEach(y=>{var x;let v=a.routes[y.route.id];!v||!v.hasLoader||(!l.some(w=>w.route.id===y.route.id)&&y.route.id in o&&((x=i[y.route.id])!=null&&x.shouldRevalidate)||v.hasClientLoader?g=!0:p.add(y.route.id))}),p.size===0)return[];let m=QT(e);return g&&p.size>0&&m.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[m.pathname+m.search]},[o,n,a,l,t,e,i]),d=P.useMemo(()=>YT(c,a),[c,a]),h=ak(c);return P.createElement(P.Fragment,null,u.map(p=>P.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),d.map(p=>P.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),h.map(({key:p,link:g})=>P.createElement("link",{key:p,...g})))}function ok(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vw&&(window.__reactRouterVersion="7.1.1")}catch{}function sk({basename:e,children:t,window:r}){let n=P.useRef();n.current==null&&(n.current=Yj({window:r,v5Compat:!0}));let a=n.current,[i,o]=P.useState({action:a.action,location:a.location}),s=P.useCallback(l=>{P.startTransition(()=>o(l))},[o]);return P.useLayoutEffect(()=>a.listen(s),[a,s]),P.createElement(RT,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var zw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vn=P.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},p){let{basename:g}=P.useContext(yr),m=typeof c=="string"&&zw.test(c),y,v=!1;if(typeof c=="string"&&m&&(y=c,Vw))try{let T=new URL(window.location.href),I=c.startsWith("//")?new URL(T.protocol+c):new URL(c),E=hn(I.pathname,g);I.origin===T.origin&&E!=null?c=E+I.search+I.hash:v=!0}catch{pr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=wT(c,{relative:a}),[w,A,b]=rk(n,h),S=dk(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:a,viewTransition:d});function O(T){t&&t(T),T.defaultPrevented||S(T)}let _=P.createElement("a",{...h,...b,href:y||x,onClick:v||i?t:O,ref:ok(p,A),target:l,"data-discover":!m&&r==="render"?"true":void 0});return w&&!m?P.createElement(P.Fragment,null,_,P.createElement(nk,{page:x})):_});Vn.displayName="Link";var lk=P.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:s,children:l,...c},u){let d=ls(o,{relative:c.relative}),h=ra(),p=P.useContext(_c),{navigator:g,basename:m}=P.useContext(yr),y=p!=null&&gk(d)&&s===!0,v=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,x=h.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(x=x.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&m&&(w=hn(w,m)||w);const A=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let b=x===v||!a&&x.startsWith(v)&&x.charAt(A)==="/",S=w!=null&&(w===v||!a&&w.startsWith(v)&&w.charAt(v.length)==="/"),O={isActive:b,isPending:S,isTransitioning:y},_=b?t:void 0,T;typeof n=="function"?T=n(O):T=[n,b?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(O):i;return P.createElement(Vn,{...c,"aria-current":_,className:T,ref:u,style:I,to:o,viewTransition:s},typeof l=="function"?l(O):l)});lk.displayName="NavLink";var ck=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=Js,action:s,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},p)=>{let g=pk(),m=mk(s,{relative:c}),y=o.toLowerCase()==="get"?"get":"post",v=typeof s=="string"&&zw.test(s),x=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let A=w.nativeEvent.submitter,b=(A==null?void 0:A.getAttribute("formmethod"))||o;g(A||w.currentTarget,{fetcherKey:t,method:b,navigate:r,replace:a,state:i,relative:c,preventScrollReset:u,viewTransition:d})};return P.createElement("form",{ref:p,method:y,action:m,onSubmit:n?l:x,...h,"data-discover":!v&&e==="render"?"true":void 0})});ck.displayName="Form";function uk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ww(e){let t=P.useContext(vi);return qe(t,uk(e)),t}function dk(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let s=br(),l=ra(),c=ls(e,{relative:i});return P.useCallback(u=>{if(VT(u,t)){u.preventDefault();let d=r!==void 0?r:ho(l)===ho(c);s(e,{replace:d,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[l,s,c,r,n,t,e,a,i,o])}var fk=0,hk=()=>`__${String(++fk)}__`;function pk(){let{router:e}=Ww("useSubmit"),{basename:t}=P.useContext(yr),r=NT();return P.useCallback(async(n,a={})=>{let{action:i,method:o,encType:s,formData:l,body:c}=GT(n,t);if(a.navigate===!1){let u=a.fetcherKey||hk();await e.fetch(u,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function mk(e,{relative:t}={}){let{basename:r}=P.useContext(yr),n=P.useContext(vr);qe(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...ls(e||".",{relative:t})},o=ra();if(e==null){i.search=o.search;let s=new URLSearchParams(i.search),l=s.getAll("index");if(l.some(u=>u==="")){s.delete("index"),l.filter(d=>d).forEach(d=>s.append("index",d));let u=s.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Cr([r,i.pathname])),ho(i)}function gk(e,t={}){let r=P.useContext($w);qe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Ww("useViewTransitionState"),a=ls(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=hn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=hn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return sl(a.pathname,o)!=null||sl(a.pathname,i)!=null}new TextEncoder;const Gw=P.createContext(void 0),yk=({children:e})=>{const[t,r]=P.useState(()=>{const n=localStorage.getItem("gameSettings");return n&&JSON.parse(n).theme||"light"});return P.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),f.jsx(Gw.Provider,{value:{theme:t,setTheme:r},children:e})},vk=()=>{const e=P.useContext(Gw);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},bk=({isOpen:e,onClose:t,settings:r,onSave:n})=>{const[a,i]=P.useState(r),{setTheme:o}=vk(),s=l=>{i(c=>({...c,theme:l})),o(l)};return e?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 max-w-md w-full mx-4 shadow-xl relative",children:[f.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),f.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"Settings"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Line Width: ",a.lineWidth,"px"]}),f.jsx("input",{type:"range",min:"1",max:"5",value:a.lineWidth,onChange:l=>i(c=>({...c,lineWidth:parseInt(l.target.value)})),className:"w-full"}),f.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[f.jsx("span",{children:"Thin"}),f.jsx("span",{children:"Thick"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Theme"}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("button",{onClick:()=>s("light"),className:`px-4 py-2 rounded-lg flex-1 ${a.theme==="light"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Light"}),f.jsx("button",{onClick:()=>s("dark"),className:`px-4 py-2 rounded-lg flex-1 ${a.theme==="dark"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Dark"})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Options   (will be added soon)"}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",checked:a.soundEnabled,onChange:l=>i(c=>({...c,soundEnabled:l.target.checked})),className:"h-4 w-4 text-blue-500"}),f.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Enable Sound Effects"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",checked:a.gridLines,onChange:l=>i(c=>({...c,gridLines:l.target.checked})),className:"h-4 w-4 text-blue-500"}),f.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Show Grid Lines"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",checked:a.animations,onChange:l=>i(c=>({...c,animations:l.target.checked})),className:"h-4 w-4 text-blue-500"}),f.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Enable Animations "})]})]})]}),f.jsxs("div",{className:"mt-8 flex space-x-4 justify-end",children:[f.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),f.jsx("button",{onClick:()=>{n(a),t()},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Save Changes"})]})]})}):null};var Hw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gg=j.createContext&&j.createContext(Hw),ln=function(){return ln=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ln.apply(this,arguments)},xk=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};function qw(e){return e&&e.map(function(t,r){return j.createElement(t.tag,ln({key:r},t.attr),qw(t.child))})}function yt(e){return function(t){return j.createElement(wk,ln({attr:ln({},e.attr)},t),qw(e.child))}}function wk(e){var t=function(r){var n=e.attr,a=e.size,i=e.title,o=xk(e,["attr","size","title"]),s=a||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),j.createElement("svg",ln({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:ln(ln({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),i&&j.createElement("title",null,i),e.children)};return gg!==void 0?j.createElement(gg.Consumer,null,function(r){return t(r)}):t(Hw)}function Sk(e){return yt({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(e)}function Pk(e){return yt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function $n(e){return yt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"}}]})(e)}function Fd(e){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function Ak(e){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function zn(e){return yt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function Ok(e){return yt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"}}]})(e)}function _k(e){return yt({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 0 1-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 0 1-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 0 0-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 0 0-15.55-3.1l-31.17 10.39a11.95 11.95 0 0 0-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 0 1 8.93 21.57 46.536 46.536 0 0 1-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 0 1 0-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z"}}]})(e)}function jk(e){return yt({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function Tk(e){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function kk(e){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"}}]})(e)}function Ek(e){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function yg(e){return yt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Ck(e){return yt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function Nk(e){return yt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}const Mk=(e,t)=>t.some(r=>e instanceof r);let vg,bg;function Ik(){return vg||(vg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $k(){return bg||(bg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kw=new WeakMap,Ud=new WeakMap,Yw=new WeakMap,Ru=new WeakMap,Xh=new WeakMap;function Rk(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{r(cn(e.result)),a()},o=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&Kw.set(r,e)}).catch(()=>{}),Xh.set(t,e),t}function Dk(e){if(Ud.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{r(),a()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Ud.set(e,t)}let Vd={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Ud.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Yw.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return cn(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Lk(e){Vd=e(Vd)}function Bk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Du(this),t,...r);return Yw.set(n,t.sort?t.sort():[t]),cn(n)}:$k().includes(e)?function(...t){return e.apply(Du(this),t),cn(Kw.get(this))}:function(...t){return cn(e.apply(Du(this),t))}}function Fk(e){return typeof e=="function"?Bk(e):(e instanceof IDBTransaction&&Dk(e),Mk(e,Ik())?new Proxy(e,Vd):e)}function cn(e){if(e instanceof IDBRequest)return Rk(e);if(Ru.has(e))return Ru.get(e);const t=Fk(e);return t!==e&&(Ru.set(e,t),Xh.set(t,e)),t}const Du=e=>Xh.get(e);function Uk(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const o=indexedDB.open(e,t),s=cn(o);return n&&o.addEventListener("upgradeneeded",l=>{n(cn(o.result),l.oldVersion,l.newVersion,cn(o.transaction))}),r&&o.addEventListener("blocked",()=>r()),s.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",()=>a())}).catch(()=>{}),s}const Vk=["get","getKey","getAll","getAllKeys","count"],zk=["put","add","delete","clear"],Lu=new Map;function xg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Lu.get(t))return Lu.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=zk.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Vk.includes(r)))return;const i=async function(o,...s){const l=this.transaction(o,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),a&&l.done]))[0]};return Lu.set(t,i),i}Lk(e=>({...e,get:(t,r,n)=>xg(t,r)||e.get(t,r,n),has:(t,r)=>!!xg(t,r)||e.has(t,r)}));const Xw="@firebase/installations",Jh="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=1e4,Zw=`w:${Jh}`,Qw="FIS_v2",Wk="https://firebaseinstallations.googleapis.com/v1",Gk=60*60*1e3,Hk="installations",qk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Kn=new rs(Hk,qk,Kk);function e1(e){return e instanceof ns&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1({projectId:e}){return`${Wk}/projects/${e}/installations`}function r1(e){return{token:e.token,requestStatus:2,expiresIn:Xk(e.expiresIn),creationTime:Date.now()}}async function n1(e,t){const n=(await t.json()).error;return Kn.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function a1({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Yk(e,{refreshToken:t}){const r=a1(e);return r.append("Authorization",Jk(t)),r}async function i1(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Xk(e){return Number(e.replace("s","000"))}function Jk(e){return`${Qw} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=t1(e),a=a1(e),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&a.append("x-firebase-client",c)}const o={fid:r,authVersion:Qw,appId:e.appId,sdkVersion:Zw},s={method:"POST",headers:a,body:JSON.stringify(o)},l=await i1(()=>fetch(n,s));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:r1(c.authToken)}}else throw await n1("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=/^[cdef][\w-]{21}$/,zd="";function t2(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=r2(e);return e2.test(r)?r:zd}catch{return zd}}function r2(e){return Qk(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new Map;function l1(e,t){const r=Tc(e);c1(r,t),n2(r,t)}function c1(e,t){const r=s1.get(e);if(r)for(const n of r)n(t)}function n2(e,t){const r=a2();r&&r.postMessage({key:e,fid:t}),i2()}let Rn=null;function a2(){return!Rn&&"BroadcastChannel"in self&&(Rn=new BroadcastChannel("[Firebase] FID Change"),Rn.onmessage=e=>{c1(e.data.key,e.data.fid)}),Rn}function i2(){s1.size===0&&Rn&&(Rn.close(),Rn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="firebase-installations-database",s2=1,Yn="firebase-installations-store";let Bu=null;function Zh(){return Bu||(Bu=Uk(o2,s2,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Yn)}}})),Bu}async function ll(e,t){const r=Tc(e),a=(await Zh()).transaction(Yn,"readwrite"),i=a.objectStore(Yn),o=await i.get(r);return await i.put(t,r),await a.done,(!o||o.fid!==t.fid)&&l1(e,t.fid),t}async function u1(e){const t=Tc(e),n=(await Zh()).transaction(Yn,"readwrite");await n.objectStore(Yn).delete(t),await n.done}async function kc(e,t){const r=Tc(e),a=(await Zh()).transaction(Yn,"readwrite"),i=a.objectStore(Yn),o=await i.get(r),s=t(o);return s===void 0?await i.delete(r):await i.put(s,r),await a.done,s&&(!o||o.fid!==s.fid)&&l1(e,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(e){let t;const r=await kc(e.appConfig,n=>{const a=l2(n),i=c2(e,a);return t=i.registrationPromise,i.installationEntry});return r.fid===zd?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function l2(e){const t=e||{fid:t2(),registrationStatus:0};return d1(t)}function c2(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Kn.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=u2(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:d2(e)}:{installationEntry:t}}async function u2(e,t){try{const r=await Zk(e,t);return ll(e.appConfig,r)}catch(r){throw e1(r)&&r.customData.serverCode===409?await u1(e.appConfig):await ll(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function d2(e){let t=await wg(e.appConfig);for(;t.registrationStatus===1;)await o1(100),t=await wg(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Qh(e);return n||r}return t}function wg(e){return kc(e,t=>{if(!t)throw Kn.create("installation-not-found");return d1(t)})}function d1(e){return f2(e)?{fid:e.fid,registrationStatus:0}:e}function f2(e){return e.registrationStatus===1&&e.registrationTime+Jw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2({appConfig:e,heartbeatServiceProvider:t},r){const n=p2(e,r),a=Yk(e,r),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&a.append("x-firebase-client",c)}const o={installation:{sdkVersion:Zw,appId:e.appId}},s={method:"POST",headers:a,body:JSON.stringify(o)},l=await i1(()=>fetch(n,s));if(l.ok){const c=await l.json();return r1(c)}else throw await n1("Generate Auth Token",l)}function p2(e,{fid:t}){return`${t1(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ep(e,t=!1){let r;const n=await kc(e.appConfig,i=>{if(!f1(i))throw Kn.create("not-registered");const o=i.authToken;if(!t&&y2(o))return i;if(o.requestStatus===1)return r=m2(e,t),i;{if(!navigator.onLine)throw Kn.create("app-offline");const s=b2(i);return r=g2(e,s),s}});return r?await r:n.authToken}async function m2(e,t){let r=await Sg(e.appConfig);for(;r.authToken.requestStatus===1;)await o1(100),r=await Sg(e.appConfig);const n=r.authToken;return n.requestStatus===0?ep(e,t):n}function Sg(e){return kc(e,t=>{if(!f1(t))throw Kn.create("not-registered");const r=t.authToken;return x2(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function g2(e,t){try{const r=await h2(e,t),n=Object.assign(Object.assign({},t),{authToken:r});return await ll(e.appConfig,n),r}catch(r){if(e1(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await u1(e.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ll(e.appConfig,n)}throw r}}function f1(e){return e!==void 0&&e.registrationStatus===2}function y2(e){return e.requestStatus===2&&!v2(e)}function v2(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Gk}function b2(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function x2(e){return e.requestStatus===1&&e.requestTime+Jw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(e){const t=e,{installationEntry:r,registrationPromise:n}=await Qh(t);return n?n.catch(console.error):ep(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(e,t=!1){const r=e;return await P2(r),(await ep(r,t)).token}async function P2(e){const{registrationPromise:t}=await Qh(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(e){if(!e||!e.options)throw Fu("App Configuration");if(!e.name)throw Fu("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw Fu(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Fu(e){return Kn.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="installations",O2="installations-internal",_2=e=>{const t=e.getProvider("app").getImmediate(),r=A2(t),n=gi(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},j2=e=>{const t=e.getProvider("app").getImmediate(),r=gi(t,h1).getImmediate();return{getId:()=>w2(r),getToken:a=>S2(r,a)}};function T2(){Ia(new $a(h1,_2,"PUBLIC")),Ia(new $a(O2,j2,"PRIVATE"))}T2();Ma(Xw,Jh);Ma(Xw,Jh,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="analytics",k2="firebase_id",E2="origin",C2=60*1e3,N2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St=new yw("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},It=new rs("analytics","Analytics",M2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(e){if(!e.startsWith(tp)){const t=It.create("invalid-gtag-resource",{gtagURL:e});return St.warn(t.message),""}return e}function p1(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function $2(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function R2(e,t){const r=$2("firebase-js-sdk-policy",{createScriptURL:I2}),n=document.createElement("script"),a=`${tp}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function D2(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function L2(e,t,r,n,a,i){const o=n[a];try{if(o)await t[o];else{const l=(await p1(r)).find(c=>c.measurementId===a);l&&await t[l.appId]}}catch(s){St.error(s)}e("config",a,i)}async function B2(e,t,r,n,a){try{let i=[];if(a&&a.send_to){let o=a.send_to;Array.isArray(o)||(o=[o]);const s=await p1(r);for(const l of o){const c=s.find(d=>d.measurementId===l),u=c&&t[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",n,a||{})}catch(i){St.error(i)}}function F2(e,t,r,n){async function a(i,...o){try{if(i==="event"){const[s,l]=o;await B2(e,t,r,s,l)}else if(i==="config"){const[s,l]=o;await L2(e,t,r,n,s,l)}else if(i==="consent"){const[s]=o;e("consent","update",s)}else if(i==="get"){const[s,l,c]=o;e("get",s,l,c)}else if(i==="set"){const[s]=o;e("set",s)}else e(i,...o)}catch(s){St.error(s)}}return a}function U2(e,t,r,n,a){let i=function(...o){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=F2(i,e,t,r),{gtagCore:i,wrappedGtag:window[a]}}function V2(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(tp)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=30,W2=1e3;class G2{constructor(t={},r=W2){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const m1=new G2;function H2(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function q2(e){var t;const{appId:r,apiKey:n}=e,a={method:"GET",headers:H2(n)},i=N2.replace("{app-id}",r),o=await fetch(i,a);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(s=l.error.message)}catch{}throw It.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function K2(e,t=m1,r){const{appId:n,apiKey:a,measurementId:i}=e.options;if(!n)throw It.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:n};throw It.create("no-api-key")}const o=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new J2;return setTimeout(async()=>{s.abort()},C2),g1({appId:n,apiKey:a,measurementId:i},o,s,t)}async function g1(e,{throttleEndTimeMillis:t,backoffCount:r},n,a=m1){var i;const{appId:o,measurementId:s}=e;try{await Y2(n,t)}catch(l){if(s)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:s};throw l}try{const l=await q2(e);return a.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!X2(c)){if(a.deleteThrottleMetadata(o),s)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:s};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?ag(r,a.intervalMillis,z2):ag(r,a.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return a.setThrottleMetadata(o,d),St.debug(`Calling attemptFetch again in ${u} millis`),g1(e,d,n,a)}}function Y2(e,t){return new Promise((r,n)=>{const a=Math.max(t-Date.now(),0),i=setTimeout(r,a);e.addEventListener(()=>{clearTimeout(i),n(It.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function X2(e){if(!(e instanceof ns)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class J2{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Z2(e,t,r,n,a){if(a&&a.global){e("event",r,n);return}else{const i=await t,o=Object.assign(Object.assign({},n),{send_to:i});e("event",r,o)}}async function Q2(e,t,r,n){{const a=await t;e("config",a,{update:!0,user_properties:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(){if(ww())try{await Sw()}catch(e){return St.warn(It.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return St.warn(It.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tE(e,t,r,n,a,i,o){var s;const l=K2(e);l.then(p=>{r[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>St.error(p)),t.push(l);const c=eE().then(p=>{if(p)return n.getId()}),[u,d]=await Promise.all([l,c]);V2(i)||R2(i,u.measurementId),a("js",new Date);const h=(s=o==null?void 0:o.config)!==null&&s!==void 0?s:{};return h[E2]="firebase",h.update=!0,d!=null&&(h[k2]=d),a("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t){this.app=t}_delete(){return delete ja[this.app.options.appId],Promise.resolve()}}let ja={},Pg=[];const Ag={};let Uu="dataLayer",nE="gtag",Og,rp,_g=!1;function aE(){const e=[];if(zh()&&e.push("This is a browser extension environment."),xw()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,a)=>`(${a+1}) ${n}`).join(" "),r=It.create("invalid-analytics-context",{errorInfo:t});St.warn(r.message)}}function iE(e,t,r){aE();const n=e.options.appId;if(!n)throw It.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw It.create("no-api-key");if(ja[n]!=null)throw It.create("already-exists",{id:n});if(!_g){D2(Uu);const{wrappedGtag:i,gtagCore:o}=U2(ja,Pg,Ag,Uu,nE);rp=i,Og=o,_g=!0}return ja[n]=tE(e,Pg,Ag,t,Og,Uu,r),new rE(e)}function y1(e=vw()){e=zr(e);const t=gi(e,cl);return t.isInitialized()?t.getImmediate():oE(e)}function oE(e,t={}){const r=gi(e,cl);if(r.isInitialized()){const a=r.getImmediate();if(bw(t,r.getOptions()))return a;throw It.create("already-initialized")}return r.initialize({options:t})}async function sE(){if(zh()||!xw()||!ww())return!1;try{return await Sw()}catch{return!1}}function lE(e,t,r){e=zr(e),Q2(rp,ja[e.app.options.appId],t).catch(n=>St.error(n))}function ma(e,t,r,n){e=zr(e),Z2(rp,ja[e.app.options.appId],t,r,n).catch(a=>St.error(a))}const jg="@firebase/analytics",Tg="0.10.0";function cE(){Ia(new $a(cl,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return iE(n,a,r)},"PUBLIC")),Ia(new $a("analytics-internal",e,"PRIVATE")),Ma(jg,Tg),Ma(jg,Tg,"esm2017");function e(t){try{const r=t.getProvider(cl).getImmediate();return{logEvent:(n,a,i)=>ma(r,n,a,i)}}catch(r){throw It.create("interop-component-reg-failed",{reason:r})}}}cE();function np(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uE=v1,b1=new rs("auth","Firebase",v1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new yw("@firebase/auth");function dE(e,...t){ul.logLevel<=Aw.WARN&&ul.warn(`Auth (${as}): ${e}`,...t)}function Qs(e,...t){ul.logLevel<=Aw.ERROR&&ul.error(`Auth (${as}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(e,...t){throw ap(e,...t)}function sr(e,...t){return ap(e,...t)}function fE(e,t,r){const n=Object.assign(Object.assign({},uE()),{[t]:r});return new rs("auth","Firebase",n).create(t,{appName:e.name})}function ap(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return b1.create(e,...t)}function pe(e,t,...r){if(!e)throw ap(t,...r)}function _r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Qs(t),new Error(t)}function Dr(e,t){e||_r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function hE(){return kg()==="http:"||kg()==="https:"}function kg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hE()||zh()||"connection"in navigator)?navigator.onLine:!0}function mE(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t,r){this.shortDelay=t,this.longDelay=r,Dr(r>t,"Short delay should be less than long delay!"),this.isMobile=wj()||Sj()}get(){return pE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(e,t){Dr(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new cs(3e4,6e4);function w1(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function us(e,t,r,n,a={}){return S1(e,a,async()=>{let i={},o={};n&&(t==="GET"?o=n:i={body:JSON.stringify(n)});const s=is(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),x1.fetch()(P1(e,e.config.apiHost,r,s),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},i))})}async function S1(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},gE),t);try{const a=new bE(e),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ns(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const s=i.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ns(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ns(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ns(e,"user-disabled",o);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw fE(e,u,c);Rr(e,u)}}catch(a){if(a instanceof ns)throw a;Rr(e,"network-request-failed",{message:String(a)})}}async function vE(e,t,r,n,a={}){const i=await us(e,t,r,n,a);return"mfaPendingCredential"in i&&Rr(e,"multi-factor-auth-required",{_serverResponse:i}),i}function P1(e,t,r,n){const a=`${t}${r}?${n}`;return e.config.emulator?ip(e.config,a):`${e.config.apiScheme}://${a}`}class bE{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(sr(this.auth,"network-request-failed")),yE.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ns(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=sr(e,t,n);return a.customData._tokenResponse=r,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xE(e,t){return us(e,"POST","/v1/accounts:delete",t)}async function wE(e,t){return us(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function SE(e,t=!1){const r=zr(e),n=await r.getIdToken(t),a=op(n);pe(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:Zi(Vu(a.auth_time)),issuedAtTime:Zi(Vu(a.iat)),expirationTime:Zi(Vu(a.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Vu(e){return Number(e)*1e3}function op(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return Qs("JWT malformed, contained fewer than 3 sections"),null;try{const a=_j(r);return a?JSON.parse(a):(Qs("Failed to decode base64 JWT payload"),null)}catch(a){return Qs("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function PE(e){const t=op(e);return pe(t,"internal-error"),pe(typeof t.exp<"u","internal-error"),pe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof ns&&AE(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function AE({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zi(this.lastLoginAt),this.creationTime=Zi(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(e){var t;const r=e.auth,n=await e.getIdToken(),a=await po(e,wE(r,{idToken:n}));pe(a==null?void 0:a.users.length,r,"internal-error");const i=a.users[0];e._notifyReloadListener(i);const o=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?TE(i.providerUserInfo):[],s=jE(e.providerData,o),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(s!=null&&s.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new A1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,d)}async function _E(e){const t=zr(e);await dl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jE(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function TE(e){return e.map(t=>{var{providerId:r}=t,n=np(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kE(e,t){const r=await S1(e,{},async()=>{const n=is({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:i}=e.config,o=P1(e,a,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",x1.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pe(t.idToken,"internal-error"),pe(typeof t.idToken<"u","internal-error"),pe(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):PE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}async getToken(t,r=!1){return pe(!this.accessToken||this.refreshToken,t,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await kE(t,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,o=new mo;return n&&(pe(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),a&&(pe(typeof a=="string","internal-error",{appName:t}),o.accessToken=a),i&&(pe(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(e,t){pe(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Wn{constructor(t){var{uid:r,auth:n,stsTokenManager:a}=t,i=np(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new A1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const r=await po(this,this.stsTokenManager.getToken(this.auth,t));return pe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return SE(this,t)}reload(){return _E(this)}_assign(t){this!==t&&(pe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Wn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await dl(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await po(this,xE(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var n,a,i,o,s,l,c,u;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(a=r.email)!==null&&a!==void 0?a:void 0,p=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=r.photoURL)!==null&&o!==void 0?o:void 0,m=(s=r.tenantId)!==null&&s!==void 0?s:void 0,y=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=r.createdAt)!==null&&c!==void 0?c:void 0,x=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:A,isAnonymous:b,providerData:S,stsTokenManager:O}=r;pe(w&&O,t,"internal-error");const _=mo.fromJSON(this.name,O);pe(typeof w=="string",t,"internal-error"),Jr(d,t.name),Jr(h,t.name),pe(typeof A=="boolean",t,"internal-error"),pe(typeof b=="boolean",t,"internal-error"),Jr(p,t.name),Jr(g,t.name),Jr(m,t.name),Jr(y,t.name),Jr(v,t.name),Jr(x,t.name);const T=new Wn({uid:w,auth:t,email:h,emailVerified:A,displayName:d,isAnonymous:b,photoURL:g,phoneNumber:p,tenantId:m,stsTokenManager:_,createdAt:v,lastLoginAt:x});return S&&Array.isArray(S)&&(T.providerData=S.map(I=>Object.assign({},I))),y&&(T._redirectEventId=y),T}static async _fromIdTokenResponse(t,r,n=!1){const a=new mo;a.updateFromServerResponse(r);const i=new Wn({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await dl(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=new Map;function jr(e){Dr(e instanceof Function,"Expected a class definition");let t=Eg.get(e);return t?(Dr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Eg.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}O1.type="NONE";const Cg=O1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(e,t,r){return`firebase:${e}:${t}:${r}`}class Ta{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=el(this.userKey,a.apiKey,i),this.fullPersistenceKey=el("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Wn._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Ta(jr(Cg),t,n);const a=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=a[0]||jr(Cg);const o=el(n,t.config.apiKey,t.name);let s=null;for(const c of r)try{const u=await c._get(o);if(u){const d=Wn._fromJSON(t,u);c!==i&&(s=d),i=c;break}}catch{}const l=a.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ta(i,t,n):(i=l[0],s&&await i._set(o,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ta(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(T1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(E1(t))return"Blackberry";if(C1(t))return"Webos";if(sp(t))return"Safari";if((t.includes("chrome/")||j1(t))&&!t.includes("edge/"))return"Chrome";if(k1(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function _1(e=_t()){return/firefox\//i.test(e)}function sp(e=_t()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function j1(e=_t()){return/crios\//i.test(e)}function T1(e=_t()){return/iemobile/i.test(e)}function k1(e=_t()){return/android/i.test(e)}function E1(e=_t()){return/blackberry/i.test(e)}function C1(e=_t()){return/webos/i.test(e)}function Ec(e=_t()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function EE(e=_t()){var t;return Ec(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function CE(){return Oj()&&document.documentMode===10}function N1(e=_t()){return Ec(e)||k1(e)||C1(e)||E1(e)||/windows phone/i.test(e)||T1(e)}function NE(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(e,t=[]){let r;switch(e){case"Browser":r=Ng(_t());break;case"Worker":r=`${Ng(_t())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${as}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=i=>new Promise((o,s)=>{try{const l=t(i);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(e,t={}){return us(e,"GET","/v2/passwordPolicy",w1(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=6;class RE{constructor(t){var r,n,a,i;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:$E,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(i=t.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,n,a,i,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(a=l.containsLowercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mg(this),this.idTokenSubscription=new Mg(this),this.beforeStateQueue=new ME(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=jr(r)),this._initializationPromise=this.queue(async()=>{var n,a;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var r;const n=await this.assertedPersistence.getCurrentUser();let a=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=a==null?void 0:a._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===s)&&(l!=null&&l.user)&&(a=l.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(o){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await dl(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mE()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const r=t?zr(t):null;return r&&pe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&pe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IE(this),r=new RE(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new rs("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&jr(t)||this._popupRedirectResolver;pe(r,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[jr(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,a);return()=>{o=!0,l()}}else{const l=t.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=M1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&dE(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function lp(e){return zr(e)}class Mg{constructor(t){this.auth=t,this.observer=null,this.addObserver=Aj(r=>this.observer=r)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function BE(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const i=sr("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",LE().appendChild(n)})}function FE(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(e,t){const r=gi(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(bw(i,t??{}))return a;Rr(a,"already-initialized")}return r.initialize({options:t})}function VE(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(jr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function zE(e,t,r){const n=lp(e);pe(n._canInitEmulator,n,"emulator-config-failed"),pe(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,i=I1(t),{host:o,port:s}=WE(t),l=s===null?"":`:${s}`;n.config.emulator={url:`${i}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})}),GE()}function I1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function WE(e){const t=I1(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:Ig(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:Ig(o)}}}function Ig(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function GE(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return _r("not implemented")}_getIdTokenResponse(t){return _r("not implemented")}_linkToIdToken(t,r){return _r("not implemented")}_getReauthenticationResolver(t){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(e,t){return vE(e,"POST","/v1/accounts:signInWithIdp",w1(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="http://localhost";class Xn extends $1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Xn(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Rr("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a}=r,i=np(r,["providerId","signInMethod"]);if(!n||!a)return null;const o=new Xn(n,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return ka(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,ka(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,ka(t,r)}buildRequest(){const t={requestUri:HE,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=is(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn extends ds{constructor(){super("facebook.com")}static credential(t){return Xn._fromParams({providerId:tn.PROVIDER_ID,signInMethod:tn.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tn.credentialFromTaggedObject(t)}static credentialFromError(t){return tn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tn.credential(t.oauthAccessToken)}catch{return null}}}tn.FACEBOOK_SIGN_IN_METHOD="facebook.com";tn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn extends ds{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Xn._fromParams({providerId:rn.PROVIDER_ID,signInMethod:rn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return rn.credentialFromTaggedObject(t)}static credentialFromError(t){return rn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return rn.credential(r,n)}catch{return null}}}rn.GOOGLE_SIGN_IN_METHOD="google.com";rn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn extends ds{constructor(){super("github.com")}static credential(t){return Xn._fromParams({providerId:nn.PROVIDER_ID,signInMethod:nn.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nn.credentialFromTaggedObject(t)}static credentialFromError(t){return nn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nn.credential(t.oauthAccessToken)}catch{return null}}}nn.GITHUB_SIGN_IN_METHOD="github.com";nn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends ds{constructor(){super("twitter.com")}static credential(t,r){return Xn._fromParams({providerId:an.PROVIDER_ID,signInMethod:an.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return an.credentialFromTaggedObject(t)}static credentialFromError(t){return an.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return an.credential(r,n)}catch{return null}}}an.TWITTER_SIGN_IN_METHOD="twitter.com";an.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const i=await Wn._fromIdTokenResponse(t,n,a),o=$g(n);return new Da({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=$g(n);return new Da({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function $g(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends ns{constructor(t,r,n,a){var i;super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,fl.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new fl(t,r,n,a)}}function D1(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?fl._fromErrorAndOperation(e,i,t,n):i})}async function qE(e,t,r=!1){const n=await po(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Da._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KE(e,t,r=!1){const{auth:n}=e,a="reauthenticate";try{const i=await po(e,D1(n,a,t,e),r);pe(i.idToken,n,"internal-error");const o=op(i.idToken);pe(o,n,"internal-error");const{sub:s}=o;return pe(e.uid===s,n,"user-mismatch"),Da._forOperation(e,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Rr(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(e,t,r=!1){const n="signIn",a=await D1(e,n,t),i=await Da._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(i.user),i}function XE(e,t,r,n){return zr(e).onIdTokenChanged(t,r,n)}function JE(e,t,r){return zr(e).beforeAuthStateChanged(t,r)}const hl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(hl,"1"),this.storage.removeItem(hl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){const e=_t();return sp(e)||Ec(e)}const QE=1e3,eC=10;class B1 extends L1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ZE()&&NE(),this.fallbackToPolling=N1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(n);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!r)return}const a=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);CE()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,eC):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},QE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}B1.type="LOCAL";const tC=B1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends L1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}F1.type="SESSION";const U1=F1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new Cc(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:i}=r.data,o=this.handlersMap[a];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const s=Array.from(o).map(async c=>c(r.origin,i)),l=await rC(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,o;return new Promise((s,l)=>{const c=cp("",20);a.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:a,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:r},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function aC(e){lr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function iC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oC(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function sC(){return V1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebaseLocalStorageDb",lC=1,pl="firebaseLocalStorage",W1="fbase_key";class fs{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Nc(e,t){return e.transaction([pl],t?"readwrite":"readonly").objectStore(pl)}function cC(){const e=indexedDB.deleteDatabase(z1);return new fs(e).toPromise()}function Gd(){const e=indexedDB.open(z1,lC);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(pl,{keyPath:W1})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(pl)?t(n):(n.close(),await cC(),t(await Gd()))})})}async function Rg(e,t,r){const n=Nc(e,!0).put({[W1]:t,value:r});return new fs(n).toPromise()}async function uC(e,t){const r=Nc(e,!1).get(t),n=await new fs(r).toPromise();return n===void 0?null:n.value}function Dg(e,t){const r=Nc(e,!0).delete(t);return new fs(r).toPromise()}const dC=800,fC=3;class G1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gd(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>fC)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cc._getInstance(sC()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await iC(),!this.activeServiceWorker)return;this.sender=new nC(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||oC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gd();return await Rg(t,hl,"1"),await Dg(t,hl),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rg(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>uC(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Dg(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const i=Nc(a,!1).getAll();return new fs(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;for(const{fbase_key:a,value:i}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G1.type="LOCAL";const hC=G1;new cs(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(e,t){return t?jr(t):(pe(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends $1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ka(t,this._buildIdpRequest())}_linkToIdToken(t,r){return ka(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function mC(e){return YE(e.auth,new up(e),e.bypassAuthState)}function gC(e){const{auth:t,user:r}=e;return pe(r,t,"internal-error"),KE(r,new up(e),e.bypassAuthState)}async function yC(e){const{auth:t,user:r}=e;return pe(r,t,"internal-error"),qE(r,new up(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,r,n,a,i=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:o,type:s}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mC;case"linkViaPopup":case"linkViaRedirect":return yC;case"reauthViaPopup":case"reauthViaRedirect":return gC;default:Rr(this.auth,"internal-error")}}resolve(t){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new cs(2e3,1e4);class ga extends H1{constructor(t,r,n,a,i){super(t,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pe(t,this.auth,"internal-error"),t}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const t=cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vC.get())};t()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="pendingRedirect",tl=new Map;class xC extends H1{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=tl.get(this.auth._key());if(!t){try{const n=await wC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}tl.set(this.auth._key(),t)}return this.bypassAuthState||tl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wC(e,t){const r=AC(t),n=PC(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function SC(e,t){tl.set(e._key(),t)}function PC(e){return jr(e._redirectPersistence)}function AC(e){return el(bC,e.config.apiKey,e.name)}async function OC(e,t,r=!1){const n=lp(e),a=pC(n,t),o=await new xC(n,a,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=10*60*1e3;class jC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!TC(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!q1(t)){const a=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(sr(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_C&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lg(t))}saveEventToCache(t){this.cachedEventUids.add(Lg(t)),this.lastProcessedEventTime=Date.now()}}function Lg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function q1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function TC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(e,t={}){return us(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CC=/^https?/;async function NC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await kC(e);for(const r of t)try{if(MC(r))return}catch{}Rr(e,"unauthorized-domain")}function MC(e){const t=Wd(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!CC.test(r))return!1;if(EC.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new cs(3e4,6e4);function Bg(){const e=lr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function $C(e){return new Promise((t,r)=>{var n,a,i;function o(){Bg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bg(),r(sr(e,"network-request-failed"))},timeout:IC.get()})}if(!((a=(n=lr().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((i=lr().gapi)===null||i===void 0)&&i.load)o();else{const s=FE("iframefcb");return lr()[s]=()=>{gapi.load?o():r(sr(e,"network-request-failed"))},BE(`https://apis.google.com/js/api.js?onload=${s}`).catch(l=>r(l))}}).catch(t=>{throw rl=null,t})}let rl=null;function RC(e){return rl=rl||$C(e),rl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new cs(5e3,15e3),LC="__/auth/iframe",BC="emulator/auth/iframe",FC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VC(e){const t=e.config;pe(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?ip(t,BC):`https://${e.config.authDomain}/${LC}`,n={apiKey:t.apiKey,appName:e.name,v:as},a=UC.get(e.config.apiHost);a&&(n.eid=a);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${is(n).slice(1)}`}async function zC(e){const t=await RC(e),r=lr().gapi;return pe(r,e,"internal-error"),t.open({where:document.body,url:VC(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FC,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const o=sr(e,"network-request-failed"),s=lr().setTimeout(()=>{i(o)},DC.get());function l(){lr().clearTimeout(s),a(n)}n.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GC=500,HC=600,qC="_blank",KC="http://localhost";class Fg{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YC(e,t,r,n=GC,a=HC){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},WC),{width:n.toString(),height:a.toString(),top:i,left:o}),c=_t().toLowerCase();r&&(s=j1(c)?qC:r),_1(c)&&(t=t||KC,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(EE(c)&&s!=="_self")return XC(t||"",s),new Fg(null);const d=window.open(t||"",s,u);pe(d,e,"popup-blocked");try{d.focus()}catch{}return new Fg(d)}function XC(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="__/auth/handler",ZC="emulator/auth/handler",QC=encodeURIComponent("fac");async function Ug(e,t,r,n,a,i){pe(e.config.authDomain,e,"auth-domain-config-required"),pe(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:as,eventId:a};if(t instanceof R1){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",jj(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(t instanceof ds){const u=t.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${QC}=${encodeURIComponent(l)}`:"";return`${eN(e)}?${is(s).slice(1)}${c}`}function eN({config:e}){return e.emulator?ip(e,ZC):`https://${e.authDomain}/${JC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="webStorageSupport";class tN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U1,this._completeRedirectFn=OC,this._overrideRedirectResult=SC}async _openPopup(t,r,n,a){var i;Dr((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Ug(t,r,n,Wd(),a);return YC(t,o,cp())}async _openRedirect(t,r,n,a){await this._originValidation(t);const i=await Ug(t,r,n,Wd(),a);return aC(i),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(Dr(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await zC(t),n=new jC(t);return r.register("authEvent",a=>(pe(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(zu,{type:zu},a=>{var i;const o=(i=a==null?void 0:a[0])===null||i===void 0?void 0:i[zu];o!==void 0&&r(!!o),Rr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=NC(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return N1()||sp()||Ec()}}const rN=tN;var Vg="@firebase/auth",zg="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function iN(e){Ia(new $a("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M1(e)},c=new DE(n,a,i,l);return VE(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Ia(new $a("auth-internal",t=>{const r=lp(t.getProvider("auth").getImmediate());return(n=>new nN(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ma(Vg,zg,aN(e)),Ma(Vg,zg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=5*60,sN=Pw("authIdTokenMaxAge")||oN;let Wg=null;const lN=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>sN)return;const a=r==null?void 0:r.token;Wg!==a&&(Wg=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function cN(e=vw()){const t=gi(e,"auth");if(t.isInitialized())return t.getImmediate();const r=UE(e,{popupRedirectResolver:rN,persistence:[hC,tC,U1]}),n=Pw("authTokenSyncURL");if(n){const i=lN(n);JE(r,i,()=>i(r.currentUser)),XE(r,o=>i(o))}const a=Pj("auth");return a&&zE(r,`http://${a}`),r}iN("Browser");const K1={apiKey:"AIzaSyBt5jAG38A6X4tEIl7EYJ3W7ovoEzZaL3I",authDomain:"dots-and-boxes-b2a38.firebaseapp.com",databaseURL:"https://dots-and-boxes-b2a38-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"dots-and-boxes-b2a38",storageBucket:"dots-and-boxes-b2a38.firebasestorage.app",messagingSenderId:"223889428942",appId:"1:223889428942:web:2c55f1822681118a3b1b9f",measurementId:"G-Z8B55Q9JQD"},Mc=Ow(K1),Z=_w(Mc);cN(Mc);y1(Mc);const uN=async()=>{try{if(await sE())return y1(Mc)}catch(e){console.warn("Analytics not supported:",e)}return null};let Tt=null;const dN=async()=>{try{Tt=await uN()}catch(e){console.warn("Analytics failed to initialize:",e)}};dN();const ml={trackGameStart:e=>{if(Tt)try{ma(Tt,"game_start",{game_id:e.gameId,grid_size:e.gridSize,player_count:e.playerCount,game_mode:e.gameMode})}catch(t){console.warn("Failed to track game start:",t)}},trackGameEnd:e=>{if(Tt)try{ma(Tt,"game_end",{game_id:e.gameId,duration:e.duration,moves:e.moves,completed:e.completed,winner:e.winner,boxes_completed:e.boxesCompleted})}catch(t){console.warn("Failed to track game end:",t)}},trackUserSession:e=>{if(Tt)try{lE(Tt,{player_id:e.playerId,device_type:e.deviceInfo.type,preferred_grid:e.preferences.gridSize.toString(),theme:e.preferences.theme})}catch(t){console.warn("Failed to track user session:",t)}},trackFeatureUsage:e=>{if(Tt)try{ma(Tt,"feature_use",{feature_name:e,timestamp:Date.now()})}catch(t){console.warn("Failed to track feature usage:",t)}},trackChatUsage:e=>{if(Tt)try{ma(Tt,"chat_usage",{player_id:e.playerId,message_count:e.messageCount})}catch(t){console.warn("Failed to track chat usage:",t)}},trackPerformance:e=>{if(Tt)try{ma(Tt,"performance_metrics",{load_time:e.loadTime,error_count:e.errorCount})}catch(t){console.warn("Failed to track performance metrics:",t)}}},fN=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"},hN=()=>{const e=navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i,edge:/edg/i,opera:/opera/i};for(const[r,n]of Object.entries(t))if(n.test(e))return r;return"unknown"};function pN(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}function Ic(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Hd=e=>Array.isArray(e);function Y1(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function go(e){return typeof e=="string"||Array.isArray(e)}function Gg(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function dp(e,t,r,n){if(typeof t=="function"){const[a,i]=Gg(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=Gg(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function $c(e,t,r){const n=e.getProps();return dp(n,t,r!==void 0?r:n.custom,e)}const fp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hp=["initial",...fp],hs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],na=new Set(hs),Nr=e=>e*1e3,Mr=e=>e/1e3,mN={type:"spring",stiffness:500,damping:25,restSpeed:10},gN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),yN={type:"keyframes",duration:.8},vN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bN=(e,{keyframes:t})=>t.length>2?yN:na.has(e)?e.startsWith("scale")?gN(t[1]):mN:vN;function pp(e,t){return e?e[t]||e.default||e:void 0}const xN={skipAnimations:!1,useManualTiming:!1},wN=e=>e!==null;function Rc(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(wN),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const $t=e=>e;let qd=$t;function SN(e){let t=new Set,r=new Set,n=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function s(c){i.has(c)&&(l.schedule(c),e()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const p=d&&n?t:r;return u&&i.add(c),p.has(c)||p.add(c),c},cancel:c=>{r.delete(c),i.delete(c)},process:c=>{if(o=c,n){a=!0;return}n=!0,[t,r]=[r,t],t.forEach(s),t.clear(),n=!1,a&&(a=!1,l.process(c))}};return l}const Ms=["read","resolveKeyframes","update","preRender","render","postRender"],PN=40;function X1(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Ms.reduce((v,x)=>(v[x]=SN(i),v),{}),{read:s,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=o,p=()=>{const v=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(v-a.timestamp,PN),1),a.timestamp=v,a.isProcessing=!0,s.process(a),l.process(a),c.process(a),u.process(a),d.process(a),h.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(p))},g=()=>{r=!0,n=!0,a.isProcessing||e(p)};return{schedule:Ms.reduce((v,x)=>{const w=o[x];return v[x]=(A,b=!1,S=!1)=>(r||g(),w.schedule(A,b,S)),v},{}),cancel:v=>{for(let x=0;x<Ms.length;x++)o[Ms[x]].cancel(v)},state:a,steps:o}}const{schedule:Ve,cancel:pn,state:ft,steps:Wu}=X1(typeof requestAnimationFrame<"u"?requestAnimationFrame:$t,!0),J1=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,AN=1e-7,ON=12;function _N(e,t,r,n,a){let i,o,s=0;do o=t+(r-t)/2,i=J1(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>AN&&++s<ON);return o}function ps(e,t,r,n){if(e===t&&r===n)return $t;const a=i=>_N(i,0,1,e,r);return i=>i===0||i===1?i:J1(a(i),t,n)}const Z1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Q1=e=>t=>1-e(1-t),eS=ps(.33,1.53,.69,.99),mp=Q1(eS),tS=Z1(mp),rS=e=>(e*=2)<1?.5*mp(e):.5*(2-Math.pow(2,-10*(e-1))),gp=e=>1-Math.sin(Math.acos(e)),nS=Q1(gp),aS=Z1(gp),iS=e=>/^0[^.\s]+$/u.test(e);function jN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||iS(e):!0}const oS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),sS=e=>t=>typeof t=="string"&&t.startsWith(e),lS=sS("--"),TN=sS("var(--"),yp=e=>TN(e)?kN.test(e.split("/*")[0].trim()):!1,kN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,EN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CN(e){const t=EN.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function cS(e,t,r=1){const[n,a]=CN(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return oS(o)?parseFloat(o):o}return yp(a)?cS(a,t,r+1):a}const Lr=(e,t,r)=>r>t?t:r<e?e:r,bi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yo={...bi,transform:e=>Lr(0,1,e)},Is={...bi,default:1},ms=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Qr=ms("deg"),cr=ms("%"),ue=ms("px"),NN=ms("vh"),MN=ms("vw"),Hg={...cr,parse:e=>cr.parse(e)/100,transform:e=>cr.transform(e*100)},IN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),qg=e=>e===bi||e===ue,Kg=(e,t)=>parseFloat(e.split(", ")[t]),Yg=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return Kg(a[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?Kg(i[1],e):0}},$N=new Set(["x","y","z"]),RN=hs.filter(e=>!$N.has(e));function DN(e){const t=[];return RN.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const La={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Yg(4,13),y:Yg(5,14)};La.translateX=La.x;La.translateY=La.y;const uS=e=>t=>t.test(e),LN={test:e=>e==="auto",parse:e=>e},dS=[bi,ue,cr,Qr,MN,NN,LN],Xg=e=>dS.find(uS(e)),Gn=new Set;let Kd=!1,Yd=!1;function fS(){if(Yd){const e=Array.from(Gn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=DN(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var s;(s=n.getValue(i))===null||s===void 0||s.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Yd=!1,Kd=!1,Gn.forEach(e=>e.complete()),Gn.clear()}function hS(){Gn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Yd=!0)})}function BN(){hS(),fS()}class vp{constructor(t,r,n,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Gn.add(this),Kd||(Kd=!0,Ve.read(hS),Ve.resolveKeyframes(fS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),s=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const l=n.readValue(r,s);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=s),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Gn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Gn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Qi=e=>Math.round(e*1e5)/1e5,bp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FN(e){return e==null}const UN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xp=(e,t)=>r=>!!(typeof r=="string"&&UN.test(r)&&r.startsWith(e)||t&&!FN(r)&&Object.prototype.hasOwnProperty.call(r,t)),pS=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,s]=n.match(bp);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},VN=e=>Lr(0,255,e),Gu={...bi,transform:e=>Math.round(VN(e))},Dn={test:xp("rgb","red"),parse:pS("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Gu.transform(e)+", "+Gu.transform(t)+", "+Gu.transform(r)+", "+Qi(yo.transform(n))+")"};function zN(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Xd={test:xp("#"),parse:zN,transform:Dn.transform},ya={test:xp("hsl","hue"),parse:pS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+cr.transform(Qi(t))+", "+cr.transform(Qi(r))+", "+Qi(yo.transform(n))+")"},ht={test:e=>Dn.test(e)||Xd.test(e)||ya.test(e),parse:e=>Dn.test(e)?Dn.parse(e):ya.test(e)?ya.parse(e):Xd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Dn.transform(e):ya.transform(e)},WN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GN(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(bp))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(WN))===null||r===void 0?void 0:r.length)||0)>0}const mS="number",gS="color",HN="var",qN="var(",Jg="${}",KN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vo(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const s=t.replace(KN,l=>(ht.test(l)?(n.color.push(i),a.push(gS),r.push(ht.parse(l))):l.startsWith(qN)?(n.var.push(i),a.push(HN),r.push(l)):(n.number.push(i),a.push(mS),r.push(parseFloat(l))),++i,Jg)).split(Jg);return{values:r,split:s,indexes:n,types:a}}function yS(e){return vo(e).values}function vS(e){const{split:t,types:r}=vo(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const s=r[o];s===mS?i+=Qi(a[o]):s===gS?i+=ht.transform(a[o]):i+=a[o]}return i}}const YN=e=>typeof e=="number"?0:e;function XN(e){const t=yS(e);return vS(e)(t.map(YN))}const mn={test:GN,parse:yS,createTransformer:vS,getAnimatableNone:XN},JN=new Set(["brightness","contrast","saturate","opacity"]);function ZN(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(bp)||[];if(!n)return e;const a=r.replace(n,"");let i=JN.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const QN=/\b([a-z-]*)\(.*?\)/gu,Jd={...mn,getAnimatableNone:e=>{const t=e.match(QN);return t?t.map(ZN).join(" "):e}},eM={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue},tM={rotate:Qr,rotateX:Qr,rotateY:Qr,rotateZ:Qr,scale:Is,scaleX:Is,scaleY:Is,scaleZ:Is,skew:Qr,skewX:Qr,skewY:Qr,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:yo,originX:Hg,originY:Hg,originZ:ue},Zg={...bi,transform:Math.round},wp={...eM,...tM,zIndex:Zg,size:ue,fillOpacity:yo,strokeOpacity:yo,numOctaves:Zg},rM={...wp,color:ht,backgroundColor:ht,outlineColor:ht,fill:ht,stroke:ht,borderColor:ht,borderTopColor:ht,borderRightColor:ht,borderBottomColor:ht,borderLeftColor:ht,filter:Jd,WebkitFilter:Jd},Sp=e=>rM[e];function bS(e,t){let r=Sp(e);return r!==Jd&&(r=mn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const nM=new Set(["auto","none","0"]);function aM(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!nM.has(i)&&vo(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=bS(r,a)}class xS extends vp{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),yp(c))){const u=cS(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!IN.has(n)||t.length!==2)return;const[a,i]=t,o=Xg(a),s=Xg(i);if(o!==s)if(qg(o)&&qg(s))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)jN(t[a])&&n.push(a);n.length&&aM(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=La[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,s=a[o];a[o]=La[n](r.measureViewportBox(),window.getComputedStyle(r.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{r.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Pp(e){return typeof e=="function"}let nl;function iM(){nl=void 0}const ur={now:()=>(nl===void 0&&ur.set(ft.isProcessing||xN.useManualTiming?ft.timestamp:performance.now()),nl),set:e=>{nl=e,queueMicrotask(iM)}},Qg=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mn.test(e)||e==="0")&&!e.startsWith("url("));function oM(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function sM(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Qg(a,t),s=Qg(i,t);return!o||!s?!1:oM(e)||(r==="spring"||Pp(r))&&n}const lM=40;class wS{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ur.now(),this.options={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>lM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&BN(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=ur.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:i,delay:o,onComplete:s,onUpdate:l,isGenerator:c}=this.options;if(!c&&!sM(t,n,a,i))if(o)this.options.duration=0;else{l==null||l(Rc(t,this.options,r)),s==null||s(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,r);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ba=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},SS=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(Ba(0,a-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function PS(e,t){return t?e*(1e3/t):0}const cM=5;function AS(e,t,r){const n=Math.max(t-cM,0);return PS(r-e(n),t-n)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hu=.001;function uM({duration:e=Ke.duration,bounce:t=Ke.bounce,velocity:r=Ke.velocity,mass:n=Ke.mass}){let a,i,o=1-t;o=Lr(Ke.minDamping,Ke.maxDamping,o),e=Lr(Ke.minDuration,Ke.maxDuration,Mr(e)),o<1?(a=c=>{const u=c*o,d=u*e,h=u-r,p=Zd(c,o),g=Math.exp(-d);return Hu-h/p*g},i=c=>{const d=c*o*e,h=d*r+r,p=Math.pow(o,2)*Math.pow(c,2)*e,g=Math.exp(-d),m=Zd(Math.pow(c,2),o);return(-a(c)+Hu>0?-1:1)*((h-p)*g)/m}):(a=c=>{const u=Math.exp(-c*e),d=(c-r)*e+1;return-Hu+u*d},i=c=>{const u=Math.exp(-c*e),d=(r-c)*(e*e);return u*d});const s=5/e,l=fM(a,i,s);if(e=Nr(e),isNaN(l))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:e}}}const dM=12;function fM(e,t,r){let n=r;for(let a=1;a<dM;a++)n=n-e(n)/t(n);return n}function Zd(e,t){return e*Math.sqrt(1-t*t)}const Qd=2e4;function OS(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Qd;)t+=r,n=e.next(t);return t>=Qd?1/0:t}const hM=["duration","bounce"],pM=["stiffness","damping","mass"];function ey(e,t){return t.some(r=>e[r]!==void 0)}function mM(e){let t={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...e};if(!ey(e,pM)&&ey(e,hM))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Lr(.05,1,1-e.bounce)*Math.sqrt(a);t={...t,mass:Ke.mass,stiffness:a,damping:i}}else{const r=uM(e);t={...t,...r,mass:Ke.mass},t.isResolvedFromDuration=!0}return t}function _S(e=Ke.visualDuration,t=Ke.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],s={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=mM({...r,velocity:-Mr(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),y=o-i,v=Mr(Math.sqrt(l/u)),x=Math.abs(y)<5;n||(n=x?Ke.restSpeed.granular:Ke.restSpeed.default),a||(a=x?Ke.restDelta.granular:Ke.restDelta.default);let w;if(m<1){const b=Zd(v,m);w=S=>{const O=Math.exp(-m*v*S);return o-O*((g+m*v*y)/b*Math.sin(b*S)+y*Math.cos(b*S))}}else if(m===1)w=b=>o-Math.exp(-v*b)*(y+(g+v*y)*b);else{const b=v*Math.sqrt(m*m-1);w=S=>{const O=Math.exp(-m*v*S),_=Math.min(b*S,300);return o-O*((g+m*v*y)*Math.sinh(_)+b*y*Math.cosh(_))/b}}const A={calculatedDuration:p&&d||null,next:b=>{const S=w(b);if(p)s.done=b>=d;else{let O=0;m<1&&(O=b===0?Nr(g):AS(w,b,S));const _=Math.abs(O)<=n,T=Math.abs(o-S)<=a;s.done=_&&T}return s.value=s.done?o:S,s},toString:()=>{const b=Math.min(OS(A),Qd),S=SS(O=>A.next(b*O).value,b,30);return b+"ms "+S}};return A}function ty({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},p=_=>s!==void 0&&_<s||l!==void 0&&_>l,g=_=>s===void 0?l:l===void 0||Math.abs(s-_)<Math.abs(l-_)?s:l;let m=r*t;const y=d+m,v=o===void 0?y:o(y);v!==y&&(m=v-d);const x=_=>-m*Math.exp(-_/n),w=_=>v+x(_),A=_=>{const T=x(_),I=w(_);h.done=Math.abs(T)<=c,h.value=h.done?v:I};let b,S;const O=_=>{p(h.value)&&(b=_,S=_S({keyframes:[h.value,g(h.value)],velocity:AS(w,_,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return O(0),{calculatedDuration:null,next:_=>{let T=!1;return!S&&b===void 0&&(T=!0,A(_),O(_)),b!==void 0&&_>=b?S.next(_-b):(!T&&A(_),h)}}}const gM=ps(.42,0,1,1),yM=ps(0,0,.58,1),jS=ps(.42,0,.58,1),vM=e=>Array.isArray(e)&&typeof e[0]!="number",Ap=e=>Array.isArray(e)&&typeof e[0]=="number",ry={linear:$t,easeIn:gM,easeInOut:jS,easeOut:yM,circIn:gp,circInOut:aS,circOut:nS,backIn:mp,backInOut:tS,backOut:eS,anticipate:rS},ny=e=>{if(Ap(e)){qd(e.length===4);const[t,r,n,a]=e;return ps(t,r,n,a)}else if(typeof e=="string")return qd(ry[e]!==void 0),ry[e];return e},bM=(e,t)=>r=>t(e(r)),gs=(...e)=>e.reduce(bM),He=(e,t,r)=>e+(t-e)*r;function qu(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function xM({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;a=qu(l,s,e+1/3),i=qu(l,s,e),o=qu(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function gl(e,t){return r=>r>0?t:e}const Ku=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},wM=[Xd,Dn,ya],SM=e=>wM.find(t=>t.test(e));function ay(e){const t=SM(e);if(!t)return!1;let r=t.parse(e);return t===ya&&(r=xM(r)),r}const iy=(e,t)=>{const r=ay(e),n=ay(t);if(!r||!n)return gl(e,t);const a={...r};return i=>(a.red=Ku(r.red,n.red,i),a.green=Ku(r.green,n.green,i),a.blue=Ku(r.blue,n.blue,i),a.alpha=He(r.alpha,n.alpha,i),Dn.transform(a))},ef=new Set(["none","hidden"]);function PM(e,t){return ef.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function AM(e,t){return r=>He(e,t,r)}function Op(e){return typeof e=="number"?AM:typeof e=="string"?yp(e)?gl:ht.test(e)?iy:jM:Array.isArray(e)?TS:typeof e=="object"?ht.test(e)?iy:OM:gl}function TS(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>Op(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function OM(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=Op(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function _M(e,t){var r;const n=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],s=e.indexes[o][a[o]],l=(r=e.values[s])!==null&&r!==void 0?r:0;n[i]=l,a[o]++}return n}const jM=(e,t)=>{const r=mn.createTransformer(t),n=vo(e),a=vo(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?ef.has(e)&&!a.values.length||ef.has(t)&&!n.values.length?PM(e,t):gs(TS(_M(n,a),a.values),r):gl(e,t)};function kS(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?He(e,t,r):Op(e)(e,t)}function TM(e,t,r){const n=[],a=r||kS,i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||$t:t;s=gs(l,s)}n.push(s)}return n}function kM(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(qd(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=TM(t,n,a),s=o.length,l=c=>{let u=0;if(s>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const d=Ba(e[u],e[u+1],c);return o[u](d)};return r?c=>l(Lr(e[0],e[i-1],c)):l}function EM(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Ba(0,t,n);e.push(He(r,1,a))}}function CM(e){const t=[0];return EM(t,e.length-1),t}function NM(e,t){return e.map(r=>r*t)}function MM(e,t){return e.map(()=>t||jS).splice(0,e.length-1)}function yl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=vM(n)?n.map(ny):ny(n),i={done:!1,value:t[0]},o=NM(r&&r.length===t.length?r:CM(t),e),s=kM(o,t,{ease:Array.isArray(a)?a:MM(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}const IM=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Ve.update(t,!0),stop:()=>pn(t),now:()=>ft.isProcessing?ft.timestamp:ur.now()}},$M={decay:ty,inertia:ty,tween:yl,keyframes:yl,spring:_S},RM=e=>e/100;class _p extends wS{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||vp,s=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,s,r,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,s=Pp(r)?r:$M[r]||yl;let l,c;s!==yl&&typeof t[0]!="number"&&(l=gs(RM,kS(t[0],t[1])),t=[0,100]);const u=s({...this.options,keyframes:t});i==="mirror"&&(c=s({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=OS(u));const{calculatedDuration:d}=u,h=d+a,p=h*(n+1)-a;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=n;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:g,repeatDelay:m,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-h*(this.speed>=0?1:-1),x=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,A=i;if(p){const _=Math.min(this.currentTime,u)/d;let T=Math.floor(_),I=_%1;!I&&_>=1&&(I=1),I===1&&T--,T=Math.min(T,p+1),!!(T%2)&&(g==="reverse"?(I=1-I,m&&(I-=m/d)):g==="mirror"&&(A=o)),w=Lr(0,1,I)*d}const b=x?{done:!1,value:l[0]}:A.next(w);s&&(b.value=s(b.value));let{done:S}=b;!x&&c!==null&&(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return O&&a!==void 0&&(b.value=Rc(l,this.options,a)),y&&y(b.value),O&&this.finish(),b}get duration(){const{resolved:t}=this;return t?Mr(t.calculatedDuration):0}get time(){return Mr(this.currentTime)}set time(t){t=Nr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Mr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=IM,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const DM=new Set(["opacity","clipPath","filter","transform"]);function jp(e){let t;return()=>(t===void 0&&(t=e()),t)}const LM={linearEasing:void 0};function BM(e,t){const r=jp(e);return()=>{var n;return(n=LM[t])!==null&&n!==void 0?n:r()}}const vl=BM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function ES(e){return!!(typeof e=="function"&&vl()||!e||typeof e=="string"&&(e in tf||vl())||Ap(e)||Array.isArray(e)&&e.every(ES))}const Ki=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,tf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ki([0,.65,.55,1]),circOut:Ki([.55,0,1,.45]),backIn:Ki([.31,.01,.66,-.59]),backOut:Ki([.33,1.53,.69,.99])};function CS(e,t){if(e)return typeof e=="function"&&vl()?SS(e,t):Ap(e)?Ki(e):Array.isArray(e)?e.map(r=>CS(r,t)||tf.easeOut):tf[e]}function FM(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:s="easeInOut",times:l}={}){const c={[t]:r};l&&(c.offset=l);const u=CS(s,a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:n,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function oy(e,t){e.timeline=t,e.onfinish=null}const UM=jp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bl=10,VM=2e4;function zM(e){return Pp(e.type)||e.type==="spring"||!ES(e.ease)}function WM(e,t){const r=new _p({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const a=[];let i=0;for(;!n.done&&i<VM;)n=r.sample(i),a.push(n.value),i+=bl;return{times:void 0,keyframes:a,duration:i-bl,ease:"linear"}}const NS={anticipate:rS,backInOut:tS,circInOut:aS};function GM(e){return e in NS}class sy extends wS{constructor(t){super(t);const{name:r,motionValue:n,element:a,keyframes:i}=this.options;this.resolver=new xS(i,(o,s)=>this.onKeyframesResolved(o,s),r,n,a),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:a=300,times:i,ease:o,type:s,motionValue:l,name:c,startTime:u}=this.options;if(!(!((n=l.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&vl()&&GM(o)&&(o=NS[o]),zM(this.options)){const{onComplete:h,onUpdate:p,motionValue:g,element:m,...y}=this.options,v=WM(t,y);t=v.keyframes,t.length===1&&(t[1]=t[0]),a=v.duration,i=v.times,o=v.ease,s="keyframes"}const d=FM(l.owner.current,c,t,{...this.options,duration:a,times:i,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(oy(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(Rc(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:a,times:i,type:s,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Mr(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Mr(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Nr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return $t;const{animation:n}=r;oy(n,t)}return $t}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:a,type:i,ease:o,times:s}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...p}=this.options,g=new _p({...p,keyframes:n,duration:a,type:i,ease:o,times:s,isGenerator:!0}),m=Nr(this.time);c.setWithVelocity(g.sample(m-bl).value,g.sample(m).value,bl)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:a,repeatType:i,damping:o,type:s}=t;return UM()&&n&&DM.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!a&&i!=="mirror"&&o!==0&&s!=="inertia"}}const HM=jp(()=>window.ScrollTimeline!==void 0);class qM{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(a=>HM()&&a.attachTimeline?a.attachTimeline(t):r(a));return()=>{n.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function KM({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Tp=(e,t,r,n={},a,i)=>o=>{const s=pp(n,e)||{},l=s.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Nr(l);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-c,onUpdate:h=>{t.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:i?void 0:a};KM(s)||(u={...u,...bN(e,u)}),u.duration&&(u.duration=Nr(u.duration)),u.repeatDelay&&(u.repeatDelay=Nr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!i&&t.get()!==void 0){const h=Rc(u.keyframes,s);if(h!==void 0)return Ve.update(()=>{u.onUpdate(h),u.onComplete()}),new qM([])}return!i&&sy.supports(u)?new sy(u):new _p(u)},YM=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),XM=e=>Hd(e)?e[e.length-1]||0:e;function kp(e,t){e.indexOf(t)===-1&&e.push(t)}function Ep(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Cp{constructor(){this.subscriptions=[]}add(t){return kp(this.subscriptions,t),()=>Ep(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ly=30,JM=e=>!isNaN(parseFloat(e));class ZM{constructor(t,r={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const i=ur.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ur.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=JM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Cp);const n=this.events[t].add(r);return t==="change"?()=>{n(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ur.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ly)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ly);return PS(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bo(e,t){return new ZM(e,t)}function QM(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,bo(r))}function eI(e,t){const r=$c(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const s=XM(i[o]);QM(e,o,s)}}const Np=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tI="framerAppearId",MS="data-"+Np(tI);function IS(e){return e.props[MS]}const gt=e=>!!(e&&e.getVelocity);function rI(e){return!!(gt(e)&&e.add)}function rf(e,t){const r=e.getValue("willChange");if(rI(r))return r.add(t)}function nI({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function $S(e,t,{delay:r=0,transitionOverride:n,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:s,...l}=t;n&&(o=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const h=e.getValue(d,(i=e.latestValues[d])!==null&&i!==void 0?i:null),p=l[d];if(p===void 0||u&&nI(u,d))continue;const g={delay:r,...pp(o||{},d)};let m=!1;if(window.MotionHandoffAnimation){const v=IS(e);if(v){const x=window.MotionHandoffAnimation(v,d,Ve);x!==null&&(g.startTime=x,m=!0)}}rf(e,d),h.start(Tp(d,h,p,e.shouldReduceMotion&&na.has(d)?{type:!1}:g,e,m));const y=h.animation;y&&c.push(y)}return s&&Promise.all(c).then(()=>{Ve.update(()=>{s&&eI(e,s)})}),c}function nf(e,t,r={}){var n;const a=$c(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all($S(e,a,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return aI(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,s]:[s,o];return c().then(()=>u())}else return Promise.all([o(),s(r.delay)])}function aI(e,t,r=0,n=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>s-c*n;return Array.from(e.variantChildren).sort(iI).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(nf(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function iI(e,t){return e.sortNodePosition(t)}function oI(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>nf(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=nf(e,t,r);else{const a=typeof t=="function"?$c(e,t,r.custom):t;n=Promise.all($S(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const sI=hp.length;function RS(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?RS(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<sI;r++){const n=hp[r],a=e.props[n];(go(a)||a===!1)&&(t[n]=a)}return t}const lI=[...fp].reverse(),cI=fp.length;function uI(e){return t=>Promise.all(t.map(({animation:r,options:n})=>oI(e,r,n)))}function dI(e){let t=uI(e),r=cy(),n=!0;const a=l=>(c,u)=>{var d;const h=$c(e,u,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:p,transitionEnd:g,...m}=h;c={...c,...m,...g}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,u=RS(e.parent)||{},d=[],h=new Set;let p={},g=1/0;for(let y=0;y<cI;y++){const v=lI[y],x=r[v],w=c[v]!==void 0?c[v]:u[v],A=go(w),b=v===l?x.isActive:null;b===!1&&(g=y);let S=w===u[v]&&w!==c[v]&&A;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),x.protectedKeys={...p},!x.isActive&&b===null||!w&&!x.prevProp||Ic(w)||typeof w=="boolean")continue;const O=fI(x.prevProp,w);let _=O||v===l&&x.isActive&&!S&&A||y>g&&A,T=!1;const I=Array.isArray(w)?w:[w];let E=I.reduce(a(v),{});b===!1&&(E={});const{prevResolvedValues:M={}}=x,F={...M,...E},V=L=>{_=!0,h.has(L)&&(T=!0,h.delete(L)),x.needsAnimating[L]=!0;const Y=e.getValue(L);Y&&(Y.liveStyle=!1)};for(const L in F){const Y=E[L],W=M[L];if(p.hasOwnProperty(L))continue;let ne=!1;Hd(Y)&&Hd(W)?ne=!Y1(Y,W):ne=Y!==W,ne?Y!=null?V(L):h.add(L):Y!==void 0&&h.has(L)?V(L):x.protectedKeys[L]=!0}x.prevProp=w,x.prevResolvedValues=E,x.isActive&&(p={...p,...E}),n&&e.blockInitialAnimation&&(_=!1),_&&(!(S&&O)||T)&&d.push(...I.map(L=>({animation:L,options:{type:v}})))}if(h.size){const y={};h.forEach(v=>{const x=e.getBaseTarget(v),w=e.getValue(v);w&&(w.liveStyle=!0),y[v]=x??null}),d.push({animation:y})}let m=!!d.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(d):Promise.resolve()}function s(l,c){var u;if(r[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),r[l].isActive=c;const d=o(l);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>r,reset:()=>{r=cy(),n=!0}}}function fI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Y1(t,e):!1}function Pn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cy(){return{animate:Pn(!0),whileInView:Pn(),whileHover:Pn(),whileTap:Pn(),whileDrag:Pn(),whileFocus:Pn(),exit:Pn()}}class yn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hI extends yn{constructor(t){super(t),t.animationState||(t.animationState=dI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ic(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let pI=0;class mI extends yn{constructor(){super(...arguments),this.id=pI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const gI={animation:{Feature:hI},exit:{Feature:mI}},Zt={x:!1,y:!1};function DS(){return Zt.x||Zt.y}function yI(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const i=(n=void 0)!==null&&n!==void 0?n:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function LS(e,t){const r=yI(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function uy(e){return t=>{t.pointerType==="touch"||DS()||e(t)}}function vI(e,t,r={}){const[n,a,i]=LS(e,r),o=uy(s=>{const{target:l}=s,c=t(s);if(!c||!l)return;const u=uy(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,a)});return n.forEach(s=>{s.addEventListener("pointerenter",o,a)}),i}const Mp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Yi=new WeakSet;function dy(e){return t=>{t.key==="Enter"&&e(t)}}function Yu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const bI=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=dy(()=>{if(Yi.has(r))return;Yu(r,"down");const a=dy(()=>{Yu(r,"up")}),i=()=>Yu(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)},xI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wI(e){return xI.has(e.tagName)||e.tabIndex!==-1}const BS=(e,t)=>t?e===t?!0:BS(e,t.parentElement):!1;function fy(e){return Mp(e)&&!DS()}function SI(e,t,r={}){const[n,a,i]=LS(e,r),o=s=>{const l=s.currentTarget;if(!fy(s)||Yi.has(l))return;Yi.add(l);const c=t(s),u=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!fy(p)||!Yi.has(l))&&(Yi.delete(l),c&&c(p,{success:g}))},d=p=>{u(p,r.useGlobalTarget||BS(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",d,a),window.addEventListener("pointercancel",h,a)};return n.forEach(s=>{wI(s)||(s.tabIndex=0),(r.useGlobalTarget?window:s).addEventListener("pointerdown",o,a),s.addEventListener("focus",c=>bI(c,a),a)}),i}function PI(e){return e==="x"||e==="y"?Zt[e]?null:(Zt[e]=!0,()=>{Zt[e]=!1}):Zt.x||Zt.y?null:(Zt.x=Zt.y=!0,()=>{Zt.x=Zt.y=!1})}function ys(e){return{point:{x:e.pageX,y:e.pageY}}}const AI=e=>t=>Mp(t)&&e(t,ys(t));function xo(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function eo(e,t,r,n){return xo(e,t,AI(r),n)}const hy=(e,t)=>Math.abs(e-t);function OI(e,t){const r=hy(e.x,t.x),n=hy(e.y,t.y);return Math.sqrt(r**2+n**2)}class FS{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Ju(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=OI(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=d,{timestamp:m}=ft;this.history.push({...g,timestamp:m});const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Xu(h,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Ju(d.type==="pointercancel"?this.lastMoveEventInfo:Xu(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,y),g&&g(d,y)},!Mp(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=ys(t),s=Xu(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=ft;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,Ju(s,this.history)),this.removeListeners=gs(eo(this.contextWindow,"pointermove",this.handlePointerMove),eo(this.contextWindow,"pointerup",this.handlePointerUp),eo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),pn(this.updatePoint)}}function Xu(e,t){return t?{point:t(e.point)}:e}function py(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ju({point:e},t){return{point:e,delta:py(e,US(t)),offset:py(e,_I(t)),velocity:jI(t,.1)}}function _I(e){return e[0]}function US(e){return e[e.length-1]}function jI(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=US(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Nr(t)));)r--;if(!n)return{x:0,y:0};const i=Mr(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function va(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const VS=1e-4,TI=1-VS,kI=1+VS,zS=.01,EI=0-zS,CI=0+zS;function Lt(e){return e.max-e.min}function NI(e,t,r){return Math.abs(e-t)<=r}function my(e,t,r,n=.5){e.origin=n,e.originPoint=He(t.min,t.max,e.origin),e.scale=Lt(r)/Lt(t),e.translate=He(r.min,r.max,e.origin)-e.originPoint,(e.scale>=TI&&e.scale<=kI||isNaN(e.scale))&&(e.scale=1),(e.translate>=EI&&e.translate<=CI||isNaN(e.translate))&&(e.translate=0)}function to(e,t,r,n){my(e.x,t.x,r.x,n?n.originX:void 0),my(e.y,t.y,r.y,n?n.originY:void 0)}function gy(e,t,r){e.min=r.min+t.min,e.max=e.min+Lt(t)}function MI(e,t,r){gy(e.x,t.x,r.x),gy(e.y,t.y,r.y)}function yy(e,t,r){e.min=t.min-r.min,e.max=e.min+Lt(t)}function ro(e,t,r){yy(e.x,t.x,r.x),yy(e.y,t.y,r.y)}function II(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?He(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?He(r,e,n.max):Math.min(e,r)),e}function vy(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function $I(e,{top:t,left:r,bottom:n,right:a}){return{x:vy(e.x,r,a),y:vy(e.y,t,n)}}function by(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function RI(e,t){return{x:by(e.x,t.x),y:by(e.y,t.y)}}function DI(e,t){let r=.5;const n=Lt(e),a=Lt(t);return a>n?r=Ba(t.min,t.max-n,e.min):n>a&&(r=Ba(e.min,e.max-a,t.min)),Lr(0,1,r)}function LI(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const af=.35;function BI(e=af){return e===!1?e=0:e===!0&&(e=af),{x:xy(e,"left","right"),y:xy(e,"top","bottom")}}function xy(e,t,r){return{min:wy(e,t),max:wy(e,r)}}function wy(e,t){return typeof e=="number"?e:e[t]||0}const Sy=()=>({translate:0,scale:1,origin:0,originPoint:0}),ba=()=>({x:Sy(),y:Sy()}),Py=()=>({min:0,max:0}),Ze=()=>({x:Py(),y:Py()});function zt(e){return[e("x"),e("y")]}function WS({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function FI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function UI(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Zu(e){return e===void 0||e===1}function of({scale:e,scaleX:t,scaleY:r}){return!Zu(e)||!Zu(t)||!Zu(r)}function Tn(e){return of(e)||GS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function GS(e){return Ay(e.x)||Ay(e.y)}function Ay(e){return e&&e!=="0%"}function xl(e,t,r){const n=e-r,a=t*n;return r+a}function Oy(e,t,r,n,a){return a!==void 0&&(e=xl(e,a,n)),xl(e,r,n)+t}function sf(e,t=0,r=1,n,a){e.min=Oy(e.min,t,r,n,a),e.max=Oy(e.max,t,r,n,a)}function HS(e,{x:t,y:r}){sf(e.x,t.translate,t.scale,t.originPoint),sf(e.y,r.translate,r.scale,r.originPoint)}const _y=.999999999999,jy=1.0000000000001;function VI(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=r[s],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&wa(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,HS(e,o)),n&&Tn(i.latestValues)&&wa(e,i.latestValues))}t.x<jy&&t.x>_y&&(t.x=1),t.y<jy&&t.y>_y&&(t.y=1)}function xa(e,t){e.min=e.min+t,e.max=e.max+t}function Ty(e,t,r,n,a=.5){const i=He(e.min,e.max,a);sf(e,t,r,i,n)}function wa(e,t){Ty(e.x,t.x,t.scaleX,t.scale,t.originX),Ty(e.y,t.y,t.scaleY,t.scale,t.originY)}function qS(e,t){return WS(UI(e.getBoundingClientRect(),t))}function zI(e,t,r){const n=qS(e,r),{scroll:a}=t;return a&&(xa(n.x,a.offset.x),xa(n.y,a.offset.y)),n}const KS=({current:e})=>e?e.ownerDocument.defaultView:null,WI=new WeakMap;class GI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ys(u).point)},i=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PI(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zt(y=>{let v=this.getAxisMotionValue(y).get()||0;if(cr.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[y];w&&(v=Lt(w)*(parseFloat(v)/100))}}this.originPoint[y]=v}),g&&Ve.postRender(()=>g(u,d)),rf(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=d;if(p&&this.currentDirection===null){this.currentDirection=HI(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),m&&m(u,d)},s=(u,d)=>this.stop(u,d),l=()=>zt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new FS(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:KS(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Ve.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!$s(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=II(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&va(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=$I(a.layoutBox,r):this.constraints=!1,this.elastic=BI(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&zt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=LI(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!va(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=zI(n,a.root,this.visualElement.getTransformPagePoint());let o=RI(a.layout.layoutBox,i);if(r){const s=r(FI(o));this.hasMutatedConstraints=!!s,s&&(o=WS(s))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=zt(u=>{if(!$s(u,r,this.currentDirection))return;let d=l[u]||{};o&&(d={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(s)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return rf(this.visualElement,t),n.start(Tp(t,n,0,r,this.visualElement,!1))}stopAnimation(){zt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){zt(r=>{const{drag:n}=this.getProps();if(!$s(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[r];i.set(t[r]-He(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!va(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};zt(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const l=s.get();a[o]=DI({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),zt(o=>{if(!$s(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(He(l,c,a[o]))})}addListeners(){if(!this.visualElement.current)return;WI.set(this.visualElement,this);const t=this.visualElement.current,r=eo(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();va(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ve.read(n);const o=xo(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(zt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=af,dragMomentum:s=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function $s(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function HI(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class qI extends yn{constructor(t){super(t),this.removeGroupControls=$t,this.removeListeners=$t,this.controls=new GI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$t}unmount(){this.removeGroupControls(),this.removeListeners()}}const ky=e=>(t,r)=>{e&&Ve.postRender(()=>e(t,r))};class KI extends yn{constructor(){super(...arguments),this.removePointerDownListener=$t}onPointerDown(t){this.session=new FS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:ky(t),onStart:ky(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Ve.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=eo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dc=P.createContext(null);function YI(){const e=P.useContext(Dc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=P.useId();P.useEffect(()=>n(a),[]);const i=P.useCallback(()=>r&&r(a),[a,r]);return!t&&r?[!1,i]:[!0]}const Ip=P.createContext({}),YS=P.createContext({}),al={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ey(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $i={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ue.test(e))e=parseFloat(e);else return e;const r=Ey(e,t.target.x),n=Ey(e,t.target.y);return`${r}% ${n}%`}},XI={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=mn.parse(e);if(a.length>5)return n;const i=mn.createTransformer(e),o=typeof a[0]!="number"?1:0,s=r.x.scale*t.x,l=r.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const c=He(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=c),typeof a[3+o]=="number"&&(a[3+o]/=c),i(a)}},wl={};function JI(e){Object.assign(wl,e)}const{schedule:$p,cancel:Aoe}=X1(queueMicrotask,!1);class ZI extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;JI(QI),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),al.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ve.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$p.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function XS(e){const[t,r]=YI(),n=P.useContext(Ip);return f.jsx(ZI,{...e,layoutGroup:n,switchLayoutGroup:P.useContext(YS),isPresent:t,safeToRemove:r})}const QI={borderRadius:{...$i,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$i,borderTopRightRadius:$i,borderBottomLeftRadius:$i,borderBottomRightRadius:$i,boxShadow:XI},JS=["TopLeft","TopRight","BottomLeft","BottomRight"],e$=JS.length,Cy=e=>typeof e=="string"?parseFloat(e):e,Ny=e=>typeof e=="number"||ue.test(e);function t$(e,t,r,n,a,i){a?(e.opacity=He(0,r.opacity!==void 0?r.opacity:1,r$(n)),e.opacityExit=He(t.opacity!==void 0?t.opacity:1,0,n$(n))):i&&(e.opacity=He(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<e$;o++){const s=`border${JS[o]}Radius`;let l=My(t,s),c=My(r,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Ny(l)===Ny(c)?(e[s]=Math.max(He(Cy(l),Cy(c),n),0),(cr.test(c)||cr.test(l))&&(e[s]+="%")):e[s]=c}(t.rotate||r.rotate)&&(e.rotate=He(t.rotate||0,r.rotate||0,n))}function My(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const r$=ZS(0,.5,nS),n$=ZS(.5,.95,$t);function ZS(e,t,r){return n=>n<e?0:n>t?1:r(Ba(e,t,n))}function Iy(e,t){e.min=t.min,e.max=t.max}function Bt(e,t){Iy(e.x,t.x),Iy(e.y,t.y)}function $y(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ry(e,t,r,n,a){return e-=t,e=xl(e,1/r,n),a!==void 0&&(e=xl(e,1/a,n)),e}function a$(e,t=0,r=1,n=.5,a,i=e,o=e){if(cr.test(t)&&(t=parseFloat(t),t=He(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=He(i.min,i.max,n);e===i&&(s-=t),e.min=Ry(e.min,t,r,s,a),e.max=Ry(e.max,t,r,s,a)}function Dy(e,t,[r,n,a],i,o){a$(e,t[r],t[n],t[a],t.scale,i,o)}const i$=["x","scaleX","originX"],o$=["y","scaleY","originY"];function Ly(e,t,r,n){Dy(e.x,t,i$,r?r.x:void 0,n?n.x:void 0),Dy(e.y,t,o$,r?r.y:void 0,n?n.y:void 0)}function By(e){return e.translate===0&&e.scale===1}function QS(e){return By(e.x)&&By(e.y)}function Fy(e,t){return e.min===t.min&&e.max===t.max}function s$(e,t){return Fy(e.x,t.x)&&Fy(e.y,t.y)}function Uy(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function eP(e,t){return Uy(e.x,t.x)&&Uy(e.y,t.y)}function Vy(e){return Lt(e.x)/Lt(e.y)}function zy(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class l${constructor(){this.members=[]}add(t){kp(this.members,t),t.scheduleRender()}remove(t){if(Ep(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function c$(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return(s!==1||l!==1)&&(n+=`scale(${s}, ${l})`),n||"none"}const u$=(e,t)=>e.depth-t.depth;class d${constructor(){this.children=[],this.isDirty=!1}add(t){kp(this.children,t),this.isDirty=!0}remove(t){Ep(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(u$),this.isDirty=!1,this.children.forEach(t)}}function il(e){const t=gt(e)?e.get():e;return YM(t)?t.toValue():t}function f$(e,t){const r=ur.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(pn(n),e(i-t))};return Ve.read(n,!0),()=>pn(n)}function h$(e){return e instanceof SVGElement&&e.tagName!=="svg"}function p$(e,t,r){const n=gt(e)?e:bo(e);return n.start(Tp("",n,t,r)),n.animation}const kn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Xi=typeof window<"u"&&window.MotionDebug!==void 0,Qu=["","X","Y","Z"],m$={visibility:"hidden"},Wy=1e3;let g$=0;function ed(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function tP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=IS(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ve,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&tP(n)}function rP({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},s=t==null?void 0:t()){this.id=g$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xi&&(kn.totalNodes=kn.resolvedTargetDeltas=kn.recalculatedProjection=0),this.nodes.forEach(b$),this.nodes.forEach(A$),this.nodes.forEach(O$),this.nodes.forEach(x$),Xi&&window.MotionDebug.record(kn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new d$)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Cp),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=h$(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=f$(h,250),al.hasAnimatedSinceResize&&(al.hasAnimatedSinceResize=!1,this.nodes.forEach(Hy))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||E$,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=u.getProps(),x=!this.targetLayout||!eP(this.targetLayout,g)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const A={...pp(m,"layout"),onPlay:y,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else h||Hy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_$),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gy);return}this.isUpdating||this.nodes.forEach(S$),this.isUpdating=!1,this.nodes.forEach(P$),this.nodes.forEach(y$),this.nodes.forEach(v$),this.clearAllSnapshots();const s=ur.now();ft.delta=Lr(0,1e3/60,s-ft.timestamp),ft.timestamp=s,ft.isProcessing=!0,Wu.update.process(ft),Wu.preRender.process(ft),Wu.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$p.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w$),this.sharedNodes.forEach(j$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!QS(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(s||Tn(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),C$(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:s}=this.options;if(!s)return Ze();const l=s.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(N$))){const{scroll:u}=this.root;u&&(xa(l.x,u.offset.x),xa(l.y,u.offset.y))}return l}removeElementScroll(o){var s;const l=Ze();if(Bt(l,o),!((s=this.scroll)===null||s===void 0)&&s.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Bt(l,o),xa(l.x,d.offset.x),xa(l.y,d.offset.y))}return l}applyTransform(o,s=!1){const l=Ze();Bt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&wa(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Tn(u.latestValues)&&wa(l,u.latestValues)}return Tn(this.latestValues)&&wa(l,this.latestValues),l}removeTransform(o){const s=Ze();Bt(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Tn(c.latestValues))continue;of(c.latestValues)&&c.updateSnapshot();const u=Ze(),d=c.measurePageBox();Bt(u,d),Ly(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Tn(this.latestValues)&&Ly(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=ft.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),ro(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bt(this.target,this.layout.layoutBox),HS(this.target,this.targetDelta)):Bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),ro(this.relativeTargetOrigin,this.target,p.target),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xi&&kn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||of(this.parent.latestValues)||GS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Bt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;VI(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ze());const{target:g}=s;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($y(this.prevProjectionDelta.x,this.projectionDelta.x),$y(this.prevProjectionDelta.y,this.projectionDelta.y)),to(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!zy(this.projectionDelta.x,this.prevProjectionDelta.x)||!zy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Xi&&kn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)===null||s===void 0||s.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ba(),this.projectionDelta=ba(),this.projectionDeltaWithTransform=ba()}setAnimationOrigin(o,s=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=ba();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=Ze(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,y=this.getStack(),v=!y||y.members.length<=1,x=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(k$));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const b=A/1e3;qy(d.x,o.x,b),qy(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ro(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T$(this.relativeTarget,this.relativeTargetOrigin,h,b),w&&s$(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ze()),Bt(w,this.relativeTarget)),m&&(this.animationValues=u,t$(u,c,this.latestValues,b,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{al.hasAnimatedSinceResize=!0,this.currentAnimation=p$(0,Wy,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Wy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:u}=o;if(!(!s||!l||!c)){if(this!==o&&this.layout&&c&&nP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ze();const d=Lt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Lt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Bt(s,l),wa(s,u),to(this.projectionDeltaWithTransform,this.layoutCorrected,s,u)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new l$),this.sharedNodes.get(o).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const c={};l.z&&ed("z",o,c,this.animationValues);for(let u=0;u<Qu.length;u++)ed(`rotate${Qu[u]}`,o,c,this.animationValues),ed(`skew${Qu[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return m$;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=il(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=il(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Tn(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=c$(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(s=h.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in wl){if(h[m]===void 0)continue;const{correct:y,applyTo:v}=wl[m],x=c.transform==="none"?h[m]:y(h[m],d);if(v){const w=v.length;for(let A=0;A<w;A++)c[v[A]]=x}else c[m]=x}return this.options.layoutId&&(c.pointerEvents=d===this?il(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(Gy),this.root.sharedNodes.clear()}}}function y$(e){e.updateLayout()}function v$(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?zt(d=>{const h=o?r.measuredBox[d]:r.layoutBox[d],p=Lt(h);h.min=n[d].min,h.max=h.min+p}):nP(i,r.layoutBox,n)&&zt(d=>{const h=o?r.measuredBox[d]:r.layoutBox[d],p=Lt(n[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const s=ba();to(s,n,r.layoutBox);const l=ba();o?to(l,e.applyTransform(a,!0),r.measuredBox):to(l,n,r.layoutBox);const c=!QS(s);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const g=Ze();ro(g,r.layoutBox,h.layoutBox);const m=Ze();ro(m,n,p.layoutBox),eP(g,m)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function b$(e){Xi&&kn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function x$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function w$(e){e.clearSnapshot()}function Gy(e){e.clearMeasurements()}function S$(e){e.isLayoutDirty=!1}function P$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Hy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function A$(e){e.resolveTargetDelta()}function O$(e){e.calcProjection()}function _$(e){e.resetSkewAndRotation()}function j$(e){e.removeLeadSnapshot()}function qy(e,t,r){e.translate=He(t.translate,0,r),e.scale=He(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Ky(e,t,r,n){e.min=He(t.min,r.min,n),e.max=He(t.max,r.max,n)}function T$(e,t,r,n){Ky(e.x,t.x,r.x,n),Ky(e.y,t.y,r.y,n)}function k$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const E$={duration:.45,ease:[.4,0,.1,1]},Yy=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Xy=Yy("applewebkit/")&&!Yy("chrome/")?Math.round:$t;function Jy(e){e.min=Xy(e.min),e.max=Xy(e.max)}function C$(e){Jy(e.x),Jy(e.y)}function nP(e,t,r){return e==="position"||e==="preserve-aspect"&&!NI(Vy(t),Vy(r),.2)}function N$(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const M$=rP({attachResizeListener:(e,t)=>xo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),td={current:void 0},aP=rP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!td.current){const e=new M$({});e.mount(window),e.setOptions({layoutScroll:!0}),td.current=e}return td.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),I$={pan:{Feature:KI},drag:{Feature:qI,ProjectionNode:aP,MeasureLayout:XS}};function Zy(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Ve.postRender(()=>i(t,ys(t)))}class $$ extends yn{mount(){const{current:t}=this.node;t&&(this.unmount=vI(t,r=>(Zy(this.node,r,"Start"),n=>Zy(this.node,n,"End"))))}unmount(){}}class R$ extends yn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gs(xo(this.node.current,"focus",()=>this.onFocus()),xo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qy(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Ve.postRender(()=>i(t,ys(t)))}class D$ extends yn{mount(){const{current:t}=this.node;t&&(this.unmount=SI(t,r=>(Qy(this.node,r,"Start"),(n,{success:a})=>Qy(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lf=new WeakMap,rd=new WeakMap,L$=e=>{const t=lf.get(e.target);t&&t(e)},B$=e=>{e.forEach(L$)};function F$({root:e,...t}){const r=e||document;rd.has(r)||rd.set(r,{});const n=rd.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(B$,{root:e,...t})),n[a]}function U$(e,t,r){const n=F$(t);return lf.set(e,r),n.observe(e),()=>{lf.delete(e),n.unobserve(e)}}const V$={some:0,all:1};class z$ extends yn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:V$[a]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return U$(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(W$(t,r))&&this.startObserver()}unmount(){}}function W$({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const G$={inView:{Feature:z$},tap:{Feature:D$},focus:{Feature:R$},hover:{Feature:$$}},H$={layout:{ProjectionNode:aP,MeasureLayout:XS}},Rp=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Lc=P.createContext({}),Dp=typeof window<"u",iP=Dp?P.useLayoutEffect:P.useEffect,oP=P.createContext({strict:!1});function q$(e,t,r,n,a){var i,o;const{visualElement:s}=P.useContext(Lc),l=P.useContext(oP),c=P.useContext(Dc),u=P.useContext(Rp).reducedMotion,d=P.useRef(null);n=n||l.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:s,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,p=P.useContext(YS);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&K$(d.current,r,a,p);const g=P.useRef(!1);P.useInsertionEffect(()=>{h&&g.current&&h.update(r,c)});const m=r[MS],y=P.useRef(!!m&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return iP(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),$p.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),P.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,m)}),y.current=!1))}),h}function K$(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:sP(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||s&&va(s),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}function sP(e){if(e)return e.options.allowProjection!==!1?e.projection:sP(e.parent)}function Y$(e,t,r){return P.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):va(r)&&(r.current=n))},[t])}function Bc(e){return Ic(e.animate)||hp.some(t=>go(e[t]))}function lP(e){return!!(Bc(e)||e.variants)}function X$(e,t){if(Bc(e)){const{initial:r,animate:n}=e;return{initial:r===!1||go(r)?r:void 0,animate:go(n)?n:void 0}}return e.inherit!==!1?t:{}}function J$(e){const{initial:t,animate:r}=X$(e,P.useContext(Lc));return P.useMemo(()=>({initial:t,animate:r}),[ev(t),ev(r)])}function ev(e){return Array.isArray(e)?e.join(" "):e}const tv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fa={};for(const e in tv)Fa[e]={isEnabled:t=>tv[e].some(r=>!!t[r])};function Z$(e){for(const t in e)Fa[t]={...Fa[t],...e[t]}}const Q$=Symbol.for("motionComponentSymbol");function eR({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&Z$(e);function i(s,l){let c;const u={...P.useContext(Rp),...s,layoutId:tR(s)},{isStatic:d}=u,h=J$(s),p=n(s,d);if(!d&&Dp){rR();const g=nR(u);c=g.MeasureLayout,h.visualElement=q$(a,p,u,t,g.ProjectionNode)}return f.jsxs(Lc.Provider,{value:h,children:[c&&h.visualElement?f.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,s,Y$(p,h.visualElement,l),p,d,h.visualElement)]})}const o=P.forwardRef(i);return o[Q$]=a,o}function tR({layoutId:e}){const t=P.useContext(Ip).id;return t&&e!==void 0?t+"-"+e:e}function rR(e,t){P.useContext(oP).strict}function nR(e){const{drag:t,layout:r}=Fa;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const aR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lp(e){return typeof e!="string"||e.includes("-")?!1:!!(aR.indexOf(e)>-1||/[A-Z]/u.test(e))}function cP(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const uP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dP(e,t,r,n){cP(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(uP.has(a)?a:Np(a),t.attrs[a])}function fP(e,{layout:t,layoutId:r}){return na.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!wl[e]||e==="opacity")}function Bp(e,t,r){var n;const{style:a}=e,i={};for(const o in a)(gt(a[o])||t.style&&gt(t.style[o])||fP(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function hP(e,t,r){const n=Bp(e,t,r);for(const a in e)if(gt(e[a])||gt(t[a])){const i=hs.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}function Fp(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}function iR({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,i){const o={latestValues:oR(n,a,i,e),renderState:t()};return r&&(o.mount=s=>r(n,s,o)),o}const pP=e=>(t,r)=>{const n=P.useContext(Lc),a=P.useContext(Dc),i=()=>iR(e,t,n,a);return r?i():Fp(i)};function oR(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=il(i[h]);let{initial:o,animate:s}=e;const l=Bc(e),c=lP(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const d=u?s:o;if(d&&typeof d!="boolean"&&!Ic(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const g=dp(e,h[p]);if(g){const{transitionEnd:m,transition:y,...v}=g;for(const x in v){let w=v[x];if(Array.isArray(w)){const A=u?w.length-1:0;w=w[A]}w!==null&&(a[x]=w)}for(const x in m)a[x]=m[x]}}}return a}const Up=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),mP=()=>({...Up(),attrs:{}}),gP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,sR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lR=hs.length;function cR(e,t,r){let n="",a=!0;for(let i=0;i<lR;i++){const o=hs[i],s=e[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||r){const c=gP(s,wp[o]);if(!l){a=!1;const u=sR[o]||o;n+=`${u}(${c}) `}r&&(t[o]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Vp(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,s=!1;for(const l in t){const c=t[l];if(na.has(l)){o=!0;continue}else if(lS(l)){a[l]=c;continue}else{const u=gP(c,wp[l]);l.startsWith("origin")?(s=!0,i[l]=u):n[l]=u}}if(t.transform||(o||r?n.transform=cR(t,e.transform,r):n.transform&&(n.transform="none")),s){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}function rv(e,t,r){return typeof e=="string"?e:ue.transform(t+r*e)}function uR(e,t,r){const n=rv(t,e.x,e.width),a=rv(r,e.y,e.height);return`${n} ${a}`}const dR={offset:"stroke-dashoffset",array:"stroke-dasharray"},fR={offset:"strokeDashoffset",array:"strokeDasharray"};function hR(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?dR:fR;e[i.offset]=ue.transform(-n);const o=ue.transform(t),s=ue.transform(r);e[i.array]=`${o} ${s}`}function zp(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},u,d){if(Vp(e,c,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:g}=e;h.transform&&(g&&(p.transform=h.transform),delete h.transform),g&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=uR(g,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&hR(h,o,s,l,!1)}const Wp=e=>typeof e=="string"&&e.toLowerCase()==="svg",pR={useVisualState:pP({scrapeMotionValuesFromProps:hP,createRenderState:mP,onMount:(e,t,{renderState:r,latestValues:n})=>{Ve.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Ve.render(()=>{zp(r,n,Wp(t.tagName),e.transformTemplate),dP(t,r)})}})},mR={useVisualState:pP({scrapeMotionValuesFromProps:Bp,createRenderState:Up})};function yP(e,t,r){for(const n in t)!gt(t[n])&&!fP(n,r)&&(e[n]=t[n])}function gR({transformTemplate:e},t){return P.useMemo(()=>{const r=Up();return Vp(r,t,e),Object.assign({},r.vars,r.style)},[t])}function yR(e,t){const r=e.style||{},n={};return yP(n,r,e),Object.assign(n,gR(e,t)),n}function vR(e,t){const r={},n=yR(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const bR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bR.has(e)}let vP=e=>!Sl(e);function xR(e){e&&(vP=t=>t.startsWith("on")?!Sl(t):e(t))}try{xR(require("@emotion/is-prop-valid").default)}catch{}function wR(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(vP(a)||r===!0&&Sl(a)||!t&&!Sl(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function SR(e,t,r,n){const a=P.useMemo(()=>{const i=mP();return zp(i,t,Wp(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};yP(i,e.style,e),a.style={...i,...a.style}}return a}function PR(e=!1){return(r,n,a,{latestValues:i},o)=>{const l=(Lp(r)?SR:vR)(n,i,o,r),c=wR(n,typeof r=="string",e),u=r!==P.Fragment?{...c,...l,ref:a}:{},{children:d}=n,h=P.useMemo(()=>gt(d)?d.get():d,[d]);return P.createElement(r,{...u,children:h})}}function AR(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...Lp(n)?pR:mR,preloadedFeatures:e,useRender:PR(a),createVisualElement:t,Component:n};return eR(o)}}const cf={current:null},bP={current:!1};function OR(){if(bP.current=!0,!!Dp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cf.current=e.matches;e.addListener(t),t()}else cf.current=!1}function _R(e,t,r){for(const n in t){const a=t[n],i=r[n];if(gt(a))e.addValue(n,a);else if(gt(i))e.addValue(n,bo(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,bo(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const nv=new WeakMap,jR=[...dS,ht,mn],TR=e=>jR.find(uS(e)),av=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kR{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ur.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ve.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=s,this.blockInitialAnimation=!!i,this.isControllingVariants=Bc(r),this.isVariantNode=lP(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in d){const p=d[h];l[h]!==void 0&&gt(p)&&p.set(l[h],!1)}}mount(t){this.current=t,nv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),bP.current||OR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nv.delete(this.current),this.projection&&this.projection.unmount(),pn(this.notifyUpdate),pn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=na.has(t),a=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fa){const r=Fa[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<av.length;n++){const a=av[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=_R(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=bo(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(oS(a)||iS(a))?a=parseFloat(a):!TR(a)&&mn.test(r)&&(a=bS(t,r)),this.setBaseTarget(t,gt(a)?a.get():a)),gt(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=dp(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!gt(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Cp),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class xP extends kR{constructor(){super(...arguments),this.KeyframeResolver=xS}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function ER(e){return window.getComputedStyle(e)}class CR extends xP{constructor(){super(...arguments),this.type="html",this.renderInstance=cP}readValueFromInstance(t,r){if(na.has(r)){const n=Sp(r);return n&&n.default||0}else{const n=ER(t),a=(lS(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return qS(t,r)}build(t,r,n){Vp(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Bp(t,r,n)}}class NR extends xP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(na.has(r)){const n=Sp(r);return n&&n.default||0}return r=uP.has(r)?r:Np(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return hP(t,r,n)}build(t,r,n){zp(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,a){dP(t,r,n,a)}mount(t){this.isSVGTag=Wp(t.tagName),super.mount(t)}}const MR=(e,t)=>Lp(e)?new NR(t):new CR(t,{allowProjection:e!==P.Fragment}),IR=AR({...gI,...G$,...I$,...H$},MR),nr=pN(IR);class $R extends P.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function RR({children:e,isPresent:t}){const r=P.useId(),n=P.useRef(null),a=P.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=P.useContext(Rp);return P.useInsertionEffect(()=>{const{width:o,height:s,top:l,left:c}=a.current;if(t||!n.current||!o||!s)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),f.jsx($R,{isPresent:t,childRef:n,sizeRef:a,children:P.cloneElement(e,{ref:n})})}const DR=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const s=Fp(LR),l=P.useId(),c=P.useCallback(d=>{s.set(d,!0);for(const h of s.values())if(!h)return;n&&n()},[s,n]),u=P.useMemo(()=>({id:l,initial:t,isPresent:r,custom:a,onExitComplete:c,register:d=>(s.set(d,!1),()=>s.delete(d))}),i?[Math.random(),c]:[r,c]);return P.useMemo(()=>{s.forEach((d,h)=>s.set(h,!1))},[r]),P.useEffect(()=>{!r&&!s.size&&n&&n()},[r]),o==="popLayout"&&(e=f.jsx(RR,{isPresent:r,children:e})),f.jsx(Dc.Provider,{value:u,children:e})};function LR(){return new Map}const Rs=e=>e.key||"";function iv(e){const t=[];return P.Children.forEach(e,r=>{P.isValidElement(r)&&t.push(r)}),t}const ov=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const s=P.useMemo(()=>iv(e),[e]),l=s.map(Rs),c=P.useRef(!0),u=P.useRef(s),d=Fp(()=>new Map),[h,p]=P.useState(s),[g,m]=P.useState(s);iP(()=>{c.current=!1,u.current=s;for(let x=0;x<g.length;x++){const w=Rs(g[x]);l.includes(w)?d.delete(w):d.get(w)!==!0&&d.set(w,!1)}},[g,l.length,l.join("-")]);const y=[];if(s!==h){let x=[...s];for(let w=0;w<g.length;w++){const A=g[w],b=Rs(A);l.includes(b)||(x.splice(w,0,A),y.push(A))}o==="wait"&&y.length&&(x=y),m(iv(x)),p(s);return}const{forceRender:v}=P.useContext(Ip);return f.jsx(f.Fragment,{children:g.map(x=>{const w=Rs(x),A=s===g||l.includes(w),b=()=>{if(d.has(w))d.set(w,!0);else return;let S=!0;d.forEach(O=>{O||(S=!1)}),S&&(v==null||v(),m(u.current),a&&a())};return f.jsx(DR,{isPresent:A,initial:!c.current||n?void 0:!1,custom:A?void 0:r,presenceAffectsLayout:i,mode:o,onExitComplete:A?void 0:b,children:x},w)})})},BR=()=>{const[e,t]=P.useState([]),[r,n]=P.useState(!1),[a,i]=P.useState(0),[o,s]=P.useState("all");P.useEffect(()=>{const d=parseInt(localStorage.getItem("lastReadAnnouncement")||"0"),h=X(Z,"announcements"),p=We(h,g=>{const m=g.val();if(m){const y=Array.isArray(m)?m:Object.values(m);t(y);const v=y.filter(x=>x.timestamp>d).length;i(v)}else t([]),i(0)});return()=>p()},[]);const l=()=>{if(n(!0),e.length>0){const d=Math.max(...e.map(h=>h.timestamp));localStorage.setItem("lastReadAnnouncement",d.toString()),i(0)}},c=d=>{switch(d){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-blue-500"}},u=d=>{const h=Math.floor((Date.now()-d)/1e3);if(h<60)return"Just now";const p=Math.floor(h/60);if(p<60)return`${p}m ago`;const g=Math.floor(p/60);return g<24?`${g}h ago`:`${Math.floor(g/24)}d ago`};if(!(e!=null&&e.length)){const d={id:1,title:"Hey There! A Message From The Creator",message:"Hey Stupid! No, not you (you wonderful being)... I'm the stupid one for creating this game and leaving it with bugs. I noticed some lovely folks playing lately - if you're real (not some ChatGPT bot ruining me), please fill out this quick feedback form. I'll even give you cool in-game username styling effects as a reward! Thanks for helping â¤ï¸ https://forms.gle/7vHGwshKzP5S9Rdp6",timestamp:Date.now(),priority:"high",category:"Creator Message"};return f.jsxs("div",{className:"relative",children:[f.jsx(nr.div,{className:"fixed md:top-4 md:right-4 bottom-4 left-4 md:left-auto z-50",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20},children:f.jsxs("button",{onClick:l,className:`bg-white dark:bg-gray-800 px-4 py-2 rounded-full 
                                 shadow-lg hover:shadow-xl transition-all duration-200 
                                 flex items-center gap-2 relative hover:scale-105
                                 w-auto md:w-auto`,children:[f.jsx($n,{className:"text-blue-500"}),f.jsx("span",{className:"font-handwritten text-gray-800 dark:text-white",children:"Creator Message"}),f.jsx(nr.span,{initial:{scale:0},animate:{scale:1},className:`absolute -top-2 -right-2 bg-red-500 text-white 
                                     w-6 h-6 rounded-full flex items-center justify-center text-xs`,children:"1"})]})}),f.jsx(ov,{children:r&&f.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100]",onClick:()=>n(!1),children:f.jsxs(nr.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:`bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[80vh] 
                                         overflow-hidden relative m-4`,onClick:h=>h.stopPropagation(),children:[f.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-xl font-bold font-handwritten text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx($n,{className:"text-blue-500"}),"Creator Message"]}),f.jsx("button",{onClick:()=>n(!1),className:`text-gray-500 hover:text-gray-700 dark:text-gray-400 
                                                     dark:hover:text-gray-200`,children:f.jsx(yg,{})})]})}),f.jsx("div",{className:"overflow-y-auto p-4 space-y-4 max-h-[60vh]",children:f.jsxs(nr.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:`bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 
                                                 hover:shadow-lg transition-shadow relative group`,children:[f.jsx("div",{className:`absolute left-0 top-0 w-1 h-full rounded-l-lg 
                                                      ${c(d.priority)}`}),f.jsxs("div",{className:"ml-2",children:[f.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-1",children:d.title}),f.jsx("span",{className:`text-xs bg-gray-200 dark:bg-gray-600 
                                                               px-2 py-1 rounded-full mr-2`,children:d.category}),f.jsx("p",{className:"font-handwritten text-gray-700 dark:text-gray-300 my-2 whitespace-pre-line",children:d.message}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[f.jsx(Fd,{}),u(d.timestamp)]})]})]},d.id)})]})})})]})}return f.jsxs("div",{className:"relative",children:[f.jsx(nr.div,{className:"fixed md:top-4 md:right-4 bottom-4 left-4 md:left-auto z-50",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20},children:f.jsxs("button",{onClick:l,className:`bg-white dark:bg-gray-800 px-4 py-2 rounded-full 
                             shadow-lg hover:shadow-xl transition-all duration-200 
                             flex items-center gap-2 relative hover:scale-105
                             w-auto md:w-auto`,children:[f.jsx($n,{className:"text-blue-500"}),f.jsx("span",{className:"font-handwritten text-gray-800 dark:text-white",children:"Announcements"}),a>0&&f.jsx(nr.span,{initial:{scale:0},animate:{scale:1},className:`absolute -top-2 -right-2 bg-red-500 text-white 
                                     w-6 h-6 rounded-full flex items-center justify-center text-xs`,children:a})]})}),f.jsx(ov,{children:r&&f.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100]",onClick:()=>n(!1),children:f.jsxs(nr.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:`bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[80vh] 
                                     overflow-hidden relative m-4`,onClick:d=>d.stopPropagation(),children:[f.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-xl font-bold font-handwritten text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx($n,{className:"text-blue-500"}),"Announcements"]}),f.jsx("button",{onClick:()=>n(!1),className:`text-gray-500 hover:text-gray-700 dark:text-gray-400 
                                                 dark:hover:text-gray-200`,children:f.jsx(yg,{})})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>s("all"),className:`px-3 py-1 rounded-full text-sm ${o==="all"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700"}`,children:"All"}),f.jsx("button",{onClick:()=>s("unread"),className:`px-3 py-1 rounded-full text-sm ${o==="unread"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700"}`,children:"Unread"})]})]}),f.jsx("div",{className:"overflow-y-auto p-4 space-y-4 max-h-[60vh]",children:e.slice().reverse().map(d=>f.jsxs(nr.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:`bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 
                                                     hover:shadow-lg transition-shadow relative group`,children:[f.jsx("div",{className:`absolute left-0 top-0 w-1 h-full rounded-l-lg 
                                                          ${c(d.priority)}`}),f.jsxs("div",{className:"ml-2",children:[f.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-1",children:d.title}),d.category&&f.jsx("span",{className:`text-xs bg-gray-200 dark:bg-gray-600 
                                                                   px-2 py-1 rounded-full mr-2`,children:d.category}),f.jsx("p",{className:"font-handwritten text-gray-700 dark:text-gray-300 my-2",children:d.message}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[f.jsx(Fd,{}),u(d.timestamp)]})]})]},d.id))})]})})})]})},FR=({isOpen:e,onClose:t})=>e?f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 inset-x-0 h-24 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 opacity-90 dark:opacity-80 h-16"}),f.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-200 z-10",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),f.jsx("div",{className:"relative pt-16 pb-8 px-8",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsxs("div",{className:"relative mx-auto w-32 h-32 mb-6",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full animate-spin-slow"}),f.jsx("img",{src:"/src/assets/sheharyarnoor.png",alt:"Developer",className:"relative w-[120px] h-[120px] mx-auto rounded-full border-4 border-white dark:border-gray-800 object-cover transform hover:scale-105 transition-transform duration-300"})]}),f.jsx("h2",{className:"text-3xl font-handwritten bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:"Sheharyar Noor"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-handwritten leading-relaxed",children:"My tech stack? Just me, myself, and AI. When bugs appear, we play rock-paper-scissors to decide who fixes them! ðŸŽ®"}),f.jsxs("div",{className:"flex justify-center gap-6 pt-4",children:[f.jsxs("a",{href:"https://github.com/Shery-1508",target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-2 transition-transform hover:scale-110",children:[f.jsx("div",{className:"p-3 rounded-lg bg-gray-100 dark:bg-gray-700 group-hover:bg-purple-100 dark:group-hover:bg-purple-900/30 transition-colors",children:f.jsx(Sk,{size:24,className:"text-[#6f42c1]"})}),f.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"GitHub"})]}),f.jsxs("a",{href:"https://sheharyar.vercel.app",target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-2 transition-transform hover:scale-110",children:[f.jsx("div",{className:"p-3 rounded-lg bg-gray-100 dark:bg-gray-700 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30 transition-colors",children:f.jsx(jk,{size:24,className:"text-[#0ea5e9]"})}),f.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Portfolio"})]})]})]})}),f.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 py-4 px-8 text-center",children:f.jsx("p",{className:"font-handwritten text-gray-500 dark:text-gray-400",children:"Made with â¤ï¸ and lots of â˜•"})})]})}):null,UR=({isOpen:e,onClose:t})=>e?f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 inset-x-0 h-16 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 opacity-90 dark:opacity-80"}),f.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-200 z-10",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),f.jsxs("div",{className:"relative pt-16 pb-8 px-8",children:[f.jsx("h2",{className:"text-2xl font-handwritten text-center text-gray-800 dark:text-white mb-4",children:"Hey Stupid"}),f.jsxs("p",{className:"text-gray-600 dark:text-gray-300 font-handwritten leading-relaxed text-center",children:["no not you (you wonderful being ) I am the stupid one to create the game and forget it to be left alone bug free i noticed some traffic and players coming around here if yall are real ( not some chatgpt  bot ruining me ) please care to fill the form for me for feedback and stuff (will give reward as in game username styling effects ) ",f.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSfuXulV9g5jixixEFtpZ072X2k_WkJGoHt9eH3M9MXNRzo1EQ/viewform?usp=dialog",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 dark:text-blue-400 underline hover:text-blue-600 dark:hover:text-blue-300",children:"this quick form"})]})]}),f.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 py-4 px-8 text-center",children:f.jsx("p",{className:"font-handwritten text-gray-500 dark:text-gray-400",children:"Thanks for helping"})})]})}):null,VR=({settings:e,onSettingsChange:t})=>{const[r,n]=P.useState(!1),[a,i]=P.useState(!1),[o,s]=P.useState(!1);P.useEffect(()=>{ml.trackUserSession({playerId:localStorage.getItem("playerId")||"anonymous",deviceInfo:{type:fN(),browser:hN(),screenSize:`${window.innerWidth}x${window.innerHeight}`},preferences:{theme:document.documentElement.classList.contains("dark")?"dark":"light",gridSize:e.gridSize,playerCount:e.playerCount}})},[]);const l=c=>{ml.trackFeatureUsage(c)};return f.jsxs("div",{className:"min-h-screen bg-[#f5f3eb] dark:bg-gray-900 p-4 sm:p-8 overflow-hidden",children:[f.jsx(BR,{}),f.jsxs("div",{className:"fixed inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-graph-paper opacity-50 dark:opacity-5"}),f.jsx("div",{className:"absolute inset-0 overflow-hidden",children:Array.from({length:8}).map((c,u)=>f.jsx("div",{className:"absolute",children:f.jsxs("div",{className:"w-24 h-24 border-2 border-gray-400/40 dark:border-gray-600 rounded-lg grid grid-cols-2 grid-rows-2 gap-2 p-2 transform rotate-12",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,opacity:.4},children:[f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"})]})},u))})]}),f.jsxs("div",{className:"relative max-w-6xl mx-auto space-y-6 sm:space-y-8",children:[Array.from({length:12}).map((c,u)=>f.jsx("div",{className:"fixed",style:{top:`${Math.random()*120-10}%`,left:`${Math.random()*120-10}%`,transform:`rotate(${Math.random()*360}deg) scale(${.5+Math.random()*1})`,zIndex:0,opacity:.4+Math.random()*.3},children:(()=>{const d=Math.floor(Math.random()*3),h=["pink","blue","green","yellow","purple","indigo"],p=h[Math.floor(Math.random()*h.length)];switch(d){case 0:return f.jsx("div",{className:`w-${12+Math.floor(Math.random()*16)} h-${8+Math.floor(Math.random()*8)} bg-${p}-100 dark:bg-gray-700/50 rounded-lg`});case 1:return f.jsx("div",{className:`w-${12+Math.floor(Math.random()*12)} h-${12+Math.floor(Math.random()*12)} border-4 border-gray-300/50 dark:border-gray-600/50 rounded-full`});default:return f.jsx("div",{className:`w-${16+Math.floor(Math.random()*20)} h-${4+Math.floor(Math.random()*8)} bg-${p}-100/50 dark:bg-gray-700/30 rounded-full transform rotate-${Math.floor(Math.random()*360)}`})}})()},`decor-${u}`)),f.jsxs("div",{className:"relative w-full max-w-xl mx-auto mb-4 sm:mb-8 px-2 sm:px-4",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-50 via-white to-yellow-50 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 rounded-lg transform rotate-1"}),f.jsx("div",{className:"relative bg-white dark:bg-gray-800 p-3 sm:p-8 rounded-lg shadow-xl overflow-visible",children:f.jsxs("div",{className:"relative",children:[f.jsx("h1",{className:"block md:hidden font-handwritten text-center text-gray-800 dark:text-white py-1",style:{fontSize:"min(10vw, 4rem)"},children:"Dots and Boxes"}),f.jsx("h1",{className:"hidden md:block text-[4.5rem] font-handwritten text-center text-gray-800 dark:text-white",children:"Dots and Boxes"}),f.jsxs("div",{className:"relative h-4 -mt-4",children:[f.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5",children:f.jsx("div",{className:"h-full bg-gray-800 dark:bg-gray-200 transform origin-left animate-draw-line"})}),f.jsx("div",{className:"absolute -left-1 bottom-0 transform -translate-y-1 animate-move-pencil",style:{width:"calc(100% + 0.5rem)"},children:f.jsx(kk,{className:"w-5 h-5 text-gray-800 dark:text-gray-200 transform -rotate-30"})})]})]})}),f.jsx("button",{onClick:()=>s(!0),className:"absolute top-4 right-[-4rem] sm:top-6 sm:right-[-5rem] bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 p-3 sm:p-4 rounded-full shadow-lg hover:scale-110 transition-transform duration-200 z-50 animate-pulse",children:f.jsxs("div",{className:"relative",children:[f.jsx($n,{size:24,className:"sm:w-8 sm:h-8 text-white"}),f.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"!"})]})})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-8 px-2 sm:px-4",children:[f.jsxs("div",{className:"relative transform hover:scale-105 transition-all duration-300 w-full sm:w-64",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400 to-blue-600 dark:from-blue-600 dark:to-blue-800 rounded-lg transform rotate-3 opacity-70"}),f.jsx(Vn,{to:"/setup",className:"relative block bg-white dark:bg-gray-800 p-3 sm:p-6 rounded-lg shadow-xl",children:f.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[f.jsx("div",{className:"w-8 h-8 sm:w-16 sm:h-16 mx-auto text-blue-500 dark:text-blue-400 transform hover:scale-110 transition-transform",children:f.jsx(Ok,{className:"w-full h-full"})}),f.jsx("h2",{className:"text-lg sm:text-2xl font-handwritten text-center text-gray-800 dark:text-white",children:"Play Game"})]})})]}),f.jsxs("div",{className:"relative transform hover:scale-105 transition-all duration-300 w-full sm:w-64",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400 to-purple-600 dark:from-purple-600 dark:to-purple-800 rounded-lg transform -rotate-2 opacity-70"}),f.jsx(Vn,{to:"/online",onClick:()=>l("online_game"),className:"relative block bg-white dark:bg-gray-800 p-3 sm:p-6 rounded-lg shadow-xl",children:f.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[f.jsx("div",{className:"w-8 h-8 sm:w-16 sm:h-16 mx-auto text-purple-500 dark:text-purple-400 transform hover:scale-110 transition-transform",children:f.jsx(_k,{className:"w-full h-full animate-spin-slow"})}),f.jsx("h2",{className:"text-lg sm:text-2xl font-handwritten text-center text-gray-800 dark:text-white",children:"Online Game"})]})})]}),f.jsxs("div",{className:"relative transform hover:scale-105 transition-all duration-300 w-full sm:w-64",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400 to-yellow-600 dark:from-yellow-600 dark:to-yellow-800 rounded-lg transform rotate-2 opacity-70"}),f.jsx("button",{onClick:()=>n(!0),className:"relative block w-full bg-white dark:bg-gray-800 p-3 sm:p-6 rounded-lg shadow-xl",children:f.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[f.jsx("div",{className:"w-8 h-8 sm:w-16 sm:h-16 mx-auto text-yellow-500 dark:text-yellow-400 transform hover:scale-110 transition-transform",children:f.jsx(Ak,{className:"w-full h-full animate-spin-slow"})}),f.jsx("h2",{className:"text-lg sm:text-2xl font-handwritten text-center text-gray-800 dark:text-white",children:"Settings"})]})})]})]})]}),f.jsx("button",{onClick:()=>i(!0),className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 bg-white dark:bg-gray-800 p-2 sm:p-3 rounded-full shadow-lg hover:scale-110 transition-transform duration-200 z-50",children:f.jsx(Tk,{size:20,className:"sm:w-6 sm:h-6 text-gray-600 dark:text-gray-400"})}),f.jsx(bk,{isOpen:r,onClose:()=>n(!1),settings:e,onSave:t}),f.jsx(FR,{isOpen:a,onClose:()=>i(!1)}),f.jsx(UR,{isOpen:o,onClose:()=>s(!1)})]})},zR=["#e63946","#457b9d","#2a9d8f","#e9c46a"],WR=({onStartGame:e,initialSettings:t})=>{const r=br(),[n,a]=P.useState({...t,playerNames:["Player 1","Player 2","Player 3","Player 4"]}),i=o=>{o.preventDefault(),e({...n,playerNames:n.playerNames.slice(0,n.playerCount)}),r("/game")};return f.jsxs("div",{className:"min-h-screen bg-[#f5f3eb] dark:bg-gray-900 p-8 overflow-hidden",children:[f.jsxs("div",{className:"fixed inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-graph-paper opacity-50 dark:opacity-5"}),f.jsx("div",{className:"absolute inset-0 overflow-hidden",children:Array.from({length:8}).map((o,s)=>f.jsx("div",{className:"absolute",children:f.jsxs("div",{className:`w-24 h-24 border-2 border-gray-400/40 dark:border-gray-600 rounded-lg 
                                         grid grid-cols-2 grid-rows-2 gap-2 p-2 transform rotate-12`,style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,opacity:.4},children:[f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"})]})},s))})]}),f.jsxs("div",{className:"relative max-w-6xl mx-auto",children:[f.jsx("div",{className:"absolute -top-12 right-20 transform rotate-12",children:f.jsx("div",{className:"w-20 h-20 border-4 border-gray-300 dark:border-gray-600 rounded"})}),f.jsx("div",{className:"absolute top-1/4 -right-20 transform -rotate-6",children:f.jsx("div",{className:"w-32 h-8 bg-pink-100 dark:bg-gray-700 rounded"})}),f.jsx("div",{className:"absolute top-1/3 -left-12 transform rotate-45",children:f.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-gray-700 rounded"})}),f.jsxs("form",{onSubmit:i,className:"relative bg-white dark:bg-gray-800 p-4 sm:p-8 rounded-lg shadow-xl max-w-2xl mx-auto transform -rotate-1",children:[f.jsx("div",{className:"absolute inset-0 bg-yellow-50 dark:bg-gray-800 rounded-lg transform rotate-2 -z-10"}),f.jsx("h2",{className:"text-4xl font-handwritten text-center text-gray-800 dark:text-white mb-8",children:"Game Setup"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2 font-handwritten text-lg",children:"Game Mode"}),f.jsxs("select",{value:n.botEnabled?"1":String(n.playerCount),onChange:o=>{const s=o.target.value;a(l=>({...l,playerCount:s==="1"?2:parseInt(s),botEnabled:s==="1"}))},className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[f.jsx("option",{value:"1",children:"Single Player (vs Bot)"}),f.jsx("option",{value:"2",children:"2 Players"}),f.jsx("option",{value:"3",children:"3 Players"}),f.jsx("option",{value:"4",children:"4 Players"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2 font-handwritten text-lg",children:"Grid Size"}),f.jsx("select",{value:n.gridSize,onChange:o=>a(s=>({...s,gridSize:parseInt(o.target.value)})),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[3,4,5,6,7,8].map(o=>f.jsxs("option",{value:o,children:[o,"x",o]},o))})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Array.from({length:n.playerCount}).map((o,s)=>f.jsxs("div",{className:"relative",children:[f.jsxs("label",{className:"block text-gray-700 dark:text-gray-300 mb-2 font-handwritten text-lg",children:["Player ",s+1," ",n.botEnabled&&s===1&&"(Bot)"]}),f.jsx("input",{type:"text",value:n.playerNames[s],onChange:l=>a(c=>({...c,playerNames:c.playerNames.map((u,d)=>d===s?l.target.value:u)})),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:`Player ${s+1}`}),f.jsx("div",{className:"w-4 h-4 rounded-full absolute right-2 top-11",style:{backgroundColor:zR[s]}})]},s))})]}),f.jsxs("div",{className:"col-span-2 flex items-center gap-2 mt-4",children:[f.jsx("input",{type:"checkbox",id:"quickStart",checked:n.quickStart,onChange:o=>a(s=>({...s,quickStart:o.target.checked})),className:"w-4 h-4 text-blue-600"}),f.jsx("label",{htmlFor:"quickStart",className:"text-gray-700 dark:text-gray-300 font-handwritten text-lg",children:"Quick Start (Pre-fill safe lines)"})]}),f.jsxs("div",{className:"mt-8 flex justify-between",children:[f.jsx("button",{type:"button",onClick:()=>r("/"),className:"bg-gray-500 text-white px-8 py-2 rounded-lg hover:bg-gray-600 transition-colors transform hover:scale-105",children:"Back"}),f.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-8 py-2 rounded-lg hover:bg-blue-600 transition-colors transform hover:scale-105",children:"Start Game"})]})]})]})]})},Gp=e=>{const t=e.trim().toLowerCase();return{shery:{displayName:"ðŸ‘‘ Shery",title:"The Creator",special:!0},sheharyar:{displayName:"âš¡ Sheharyar",title:"The Creator",special:!0},"sheharyar noor":{displayName:"ðŸŒŸ Sheharyar Noor",title:"The Creator",special:!0},sufiyan:{displayName:"ðŸ¦¶ Sufiyan",title:"ðŸ’"},saad:{displayName:"ðŸ‚ Saad",title:"bhensa"},ahmed:{displayName:"â¬‡ï¸ Ahmed",title:"dn"},aliyan:{displayName:"Aliyan ",title:"ðŸ’§"},mujtaba:{displayName:"Mujtaba",title:"ðŸ‘¿"},azlan:{displayName:"Azleen",title:"ðŸ‘"},azra:{displayName:"Azra",title:"Chechara"},samia:{displayName:"Samia",title:"chaprita"},shehroze:{displayName:"Shehroze",title:"pros"},ahmedyar:{displayName:"Ahmed",title:"large"},wasif:{displayName:"ðŸŠ Wasif",title:"magarmach"},hamza:{displayName:"Rotu",title:"ðŸ›©ï¸"}}[t]||null},GR=({gameState:e,onlinePlayers:t,botSubstitutions:r})=>f.jsx("div",{className:"w-full max-w-full mx-auto mb-6",children:f.jsxs("div",{className:`bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl shadow-xl p-4 mb-8 
                            transform -rotate-1 relative z-10`,children:[f.jsx("div",{className:"absolute inset-0 bg-yellow-50 dark:bg-gray-700 rounded-xl transform rotate-2 -z-10"}),f.jsx("div",{className:`grid gap-4 
                                ${e.players.length===4?"grid-cols-1 sm:grid-cols-2":e.players.length===2?"grid-cols-1 lg:grid-cols-2":"grid-cols-1 lg:grid-cols-3"}`,children:e.players.map(n=>{const a=Gp(n.name),i=n.id===e.currentPlayer;return f.jsxs("div",{className:`relative flex items-center gap-3 px-6 py-3 rounded-lg 
                                          transition-all duration-300 backdrop-blur-sm lg:flex-1 min-w-[200px]
                                          ${i?"shadow-lg scale-102":"bg-opacity-5"}`,style:{backgroundColor:i?`${n.color}${Id.ACTIVE_PLAYER}`:"transparent"},children:[f.jsx("div",{className:`w-2 h-full absolute left-0 top-0 rounded-l-lg transition-all duration-300
                                              ${i?"opacity-100":`opacity-${Id.INACTIVE_PLAYER}`}`,style:{backgroundColor:n.color}}),typeof t<"u"&&f.jsx("div",{className:`absolute -top-1 -right-1 w-3 h-3 rounded-full 
                                                  border-2 border-white dark:border-gray-800
                                                  ${n.online?"bg-green-500 animate-pulse":"bg-gray-400"}`}),f.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:["        ",f.jsxs("span",{className:`font-handwritten text-lg whitespace-nowrap
                                                    transition-all duration-300
                                                    ${i?"text-gray-900 dark:text-white font-bold":"text-gray-600 dark:text-gray-300"}
                                                    ${a!=null&&a.special?"animate-pulse":""}`,style:{color:i?n.color:void 0},children:[(a==null?void 0:a.displayName)||n.name,a&&f.jsx("span",{className:"ml-1 text-xs opacity-75",children:a.title})]})]}),f.jsx("div",{className:`flex items-center justify-center min-w-[2.5rem] flex-shrink-0
                                               rounded-lg px-3 py-1 transition-all duration-300
                                               ${i?"bg-gray-100 dark:bg-gray-700":"bg-gray-50 dark:bg-gray-600"}`,children:f.jsx("span",{className:`text-xl font-bold transition-all duration-300
                                                    ${i?"text-gray-900 dark:text-white":"text-gray-600 dark:text-gray-300"}`,children:n.score})}),(r==null?void 0:r[n.id])&&f.jsx("div",{className:`absolute -bottom-1 right-1 text-xs px-2 py-0.5 
                                                  bg-yellow-100 dark:bg-yellow-900 rounded-full
                                                  text-yellow-800 dark:text-yellow-200 font-medium`,children:"Bot Active"}),typeof t<"u"&&!n.online&&!(r!=null&&r[n.id])&&f.jsx("div",{className:`absolute -bottom-1 right-1 text-xs px-2 py-0.5 
                                                  bg-red-100 dark:bg-red-900 rounded-full
                                                  text-red-800 dark:text-red-200 font-medium`,children:"Offline"})]},n.id)})})]})}),Ds=20,Hp=({gameState:e,onLineClick:t,resetGame:r,settings:n,onSettingsChange:a,isBotMoving:i,onBackToMenu:o,playerId:s,showGameOverModal:l,setShowGameOverModal:c,playAgainPlayers:u,onPlayAgain:d,playAgainInfo:h,botSubstitutions:p,gameId:g,isSpectatorMode:m})=>{const y=P.useRef(null),[v,x]=P.useState(null),[w,A]=P.useState(!0),[b,S]=P.useState(null);br();const O=ve*(e.gridSize-1)+fe*2,_=()=>{const $=Math.min(window.innerWidth,window.innerHeight)-32,K=Math.max(280,Math.min($,ve*(e.gridSize-1)+fe*2));if(e.gridSize===8&&window.innerWidth<640)return Math.min($,window.innerWidth-48);if(e.gridSize>=5){const D=(e.gridSize-4)*40;return Math.max(K,280+D)}return K},[T,I]=P.useState(_());P.useEffect(()=>{const $=()=>{I(_())};return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[e.gridSize]),P.useMemo(()=>T/O,[T]);const E=($,K)=>{if(!y.current)return null;const D=y.current.getBoundingClientRect(),k=O/D.width;$=$*k,K=K*k;for(let he=0;he<e.gridSize;he++)for(let ke=0;ke<e.gridSize;ke++){const we={x:ke*ve+fe,y:he*ve+fe};if(ke<e.gridSize-1){const Xe={x:(ke+1)*ve+fe,y:he*ve+fe};if(z({x:$,y:K},we,Xe,Ds*k))return[we,Xe]}if(he<e.gridSize-1){const Xe={x:ke*ve+fe,y:(he+1)*ve+fe};if(z({x:$,y:K},we,Xe,Ds*k))return[we,Xe]}}let R=null,B=1/0;for(let he=0;he<e.gridSize;he++)for(let ke=0;ke<e.gridSize;ke++){const we=ke*ve+fe,Xe=he*ve+fe,st=Math.sqrt(Math.pow(we-$,2)+Math.pow(Xe-K,2));st<B&&(B=st,R={x:we,y:Xe})}const N=og*k;if(!R||B>N)return null;const{x:H,y:J}=R,te=$-H,ae=K-J;if(Math.abs(te)>Math.abs(ae)){const he=H+(te>0?ve:-ve);if(M({x:he,y:J},e.gridSize))return[R,{x:he,y:J}]}else{const he=J+(ae>0?ve:-ve);if(M({x:H,y:he},e.gridSize))return[R,{x:H,y:he}]}return null},M=($,K)=>{const D=k=>Array.from({length:K},(B,N)=>N*ve+fe).some(B=>Math.abs(B-k)<1);return D($.x)&&D($.y)},F=$=>{var B;if(e.gameOver||i||m){x(null);return}const K=(B=y.current)==null?void 0:B.getBoundingClientRect();if(!K)return;const D=$.clientX-K.left,k=$.clientY-K.top,R=E(D,k);if(R){const[N,H]=R;if(!e.lines.find(te=>te.start.x===N.x&&te.start.y===N.y&&te.end.x===H.x&&te.end.y===H.y||te.start.x===H.x&&te.start.y===H.y&&te.end.x===N.x&&te.end.y===N.y)){x({start:N,end:H,owner:null,x:N.x/ve-1,y:N.y/ve-1,isHorizontal:N.y===H.y});return}}x(null)};P.useEffect(()=>{i&&x(null)},[i]),P.useEffect(()=>{if(e.gameOver&&w&&!b){const $=e.players.map((te,ae)=>({...te,index:ae}));$.sort((te,ae)=>ae.score-te.score);const K=["Winner! Though your friends probably let you win out of pity...","You won! Want a medal? ðŸ… We'll get you a plastic one.","Congrats! Your mom would be proud... if she was watching.","Victory! First time for everything, right? ðŸ˜","You actually won! Did everyone else have their eyes closed?","Winner winner! Don't get used to it though... ðŸ˜‰","Wow, you're not completely useless after all! ðŸŽ‰","Look who got lucky! Frame this moment, it's rare. ðŸ“¸","The prophecy was wrong - you CAN win something! ðŸŒŸ","Achievement Unlocked: Not A Total Loser! ðŸ†"],D=[`${$[0].name} won and is definitely screenshotting this! ðŸ“±`,`${$[0].name}: "GG EZ" (probably)`,"Did you even try? My grandma plays better! ðŸ‘µ",`${$[0].name} is doing a victory dance on your grave... âš°ï¸`,"Losing is your superpower, isn't it? ðŸ’ª","At least you're consistent at being terrible! ðŸŽ¯","Want some tips? Maybe start with opening your eyes? ðŸ‘€",`${$[0].name} says thanks for the confidence boost!`,"You're making everyone else look good! ðŸŒŸ","Have you considered a career in professional losing? ðŸ“‰"],k=["Equally bad! Mom would be so proud! ðŸ‘©","A tie? What is this, kindergarten? ðŸŽ¨","Nobody won - just like your life choices! ðŸŽ²","Perfectly balanced... like two potatoes! ðŸ¥”ðŸ¥”","You're all winners! (Just kidding, you all suck equally) ðŸ˜‚","Task failed successfully... by everyone! ðŸŽ®","Congrats on being equally mediocre! ðŸŒŸ","Group hug! (Of shame) ðŸ¤—","The real winner is the friend we... nah, you all lost. ðŸ˜…","At least you're all consistently disappointing! ðŸŽ¯"],R=[`${$[0].name} just schooled everyone! The rest of you might want to consider a career change... ðŸŽ“`,`${$[0].name} wins while everyone else questions their life choices! Maybe try rock-paper-scissors next time? ðŸª¨ðŸ“„âœ‚ï¸`,`${$[0].name}'s victory dance incoming! The rest of you, please look away to preserve your dignity ðŸ•º`,`Game Over! ${$[0].name} is insufferable now, and the rest of you... well, there's always next time! ðŸŽ®`,`${$[0].name} takes the crown! Everyone else takes the shame! ðŸ‘‘ðŸ˜…`,`Victory for ${$[0].name}! Others, your families still love you... probably ðŸ’`,`${$[0].name} wins! The rest of you can split the participation trophy ðŸ†`,`${$[0].name} dominated! Everyone else... thanks for making it interesting? ðŸ˜`,`${$[0].name}: "I'm the best!" Everyone else: "We let you win!" (Sure you did...) ðŸ˜†`,`${$[0].name} wins! Group therapy session starts in 5 minutes for everyone else ðŸ§˜â€â™‚ï¸`,`Congratulations ${$[0].name}! Others, don't worry - losing builds character! ðŸ¦¸â€â™‚ï¸`,`${$[0].name} reigns supreme! The rest of you can fight for second place ðŸ¥ˆ`],B=[`${$[0].name} and ${$[1].name} share the glory while the rest share the shame! ðŸ‘‘ðŸ‘‘`,`It's a tie at the top! ${$[0].name} and ${$[1].name} can fight over who's slightly less awesome ðŸ¤¼`,`Double trouble! ${$[0].name} and ${$[1].name} dominate while others contemplate their life choices ðŸ˜†`,`${$[0].name} ðŸ¤ ${$[1].name} tag team champions! The rest... better luck next time! ðŸŽ­`,`Co-champions ${$[0].name} and ${$[1].name}! Everyone else gets participation awards ðŸ†ðŸ†`,`${$[0].name} and ${$[1].name} couldn't decide who's better, but they're both better than the rest! ðŸ˜`,`Two winners, multiple losers! ${$[0].name} and ${$[1].name} take the spotlight ðŸŒŸðŸŒŸ`,`${$[0].name} ðŸ¤œðŸ¤› ${$[1].name} showing everyone else how it's done!`,`Joint victory royale! ${$[0].name} and ${$[1].name} leave others in the dust ðŸ‘¯`,`Dynamic duo ${$[0].name} & ${$[1].name} crush the competition! (Not that it was hard...) ðŸŽ®`],N=te=>te[Math.floor(Math.random()*te.length)];let H="",J="";if($[0].score>$[1].score)H=`${$[0].name} Wins! ðŸ†`,J=s!==void 0?$[0].id===parseInt(s)?N(K):N(D):N(R);else if($[0].score===$[1].score){const te=$.filter(ae=>ae.score===$[0].score);if(te.length===e.players.length)H="It's a Complete Tie! ðŸ¤",J=N(k);else if(te.length===2)H="It's a Shared Victory! ðŸ‘¥",J=N(B);else{const ae=te.map(he=>he.name).join(", ");H="Multiple Winners! ðŸ‘¥",J=`${ae} share the victory! The rest... well... you tried! ðŸ˜…`}}H&&J&&S({title:H,message:J})}},[e.gameOver,w,s]),P.useEffect(()=>{w||S(null)},[w]);const V=()=>(e.players.map((K,D)=>({...K,index:D})).sort((K,D)=>D.score-K.score),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"mb-4 space-y-2",children:e.players.sort((K,D)=>D.score-K.score).map(K=>f.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg
                                              ${K===e.players.reduce((D,k)=>k.score>D.score?k:D)?"bg-yellow-50/50 dark:bg-yellow-900/30":"bg-gray-50 dark:bg-gray-700/30"}`,children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:K.color}}),f.jsx("span",{className:"font-handwritten text-lg text-gray-900 dark:text-white",children:K.name})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[(p==null?void 0:p[K.id])&&f.jsxs("span",{className:"text-xs text-yellow-600 dark:text-yellow-400 inline-flex items-center",children:[f.jsx("svg",{className:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2a2 2 0 0 1 2 2v2h3a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h3V4a2 2 0 0 1 2-2m-3 7a1 1 0 1 0 0 2 1 1 0 0 0 0-2m6 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-5 4v2h4v-2z"})}),"Bot Substituted"]}),f.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:K.score})]})]},K.id))}),b&&f.jsx("div",{className:"text-center",children:f.jsxs("div",{className:"dark:text-white",children:[f.jsx("div",{className:"text-2xl mb-2",children:b.title}),f.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-400",children:b.message})]})})]}));P.useEffect(()=>{e.gameOver||A(!0)},[e.gameOver]);const z=($,K,D,k)=>{const R=Math.sqrt(Math.pow(D.x-K.x,2)+Math.pow(D.y-K.y,2)),B=Math.abs((D.y-K.y)*$.x-(D.x-K.x)*$.y+D.x*K.y-D.y*K.x)/R,N=(($.x-K.x)*(D.x-K.x)+($.y-K.y)*(D.y-K.y))/R;return B<k&&N>=0&&N<=R},G=()=>{const $=window.innerWidth<640,K=e.gridSize===8;return{dotSize:K&&$?fe*.75:fe,lineHoverWidth:K&&$?Ds*.75:Ds}},{dotSize:L,lineHoverWidth:Y}=G(),[W,ne]=P.useState(null),ie=$=>{$.preventDefault();const K=$.touches[0],D=oe(K.clientX,K.clientY);ne(D),x(null)},ee=$=>{if($.preventDefault(),!W)return;const K=$.changedTouches[0],D=oe(K.clientX,K.clientY),k=E(D.x,D.y);k&&t(k[0],k[1]),ne(null),x(null)},oe=($,K)=>{var B;const D=(B=y.current)==null?void 0:B.getBoundingClientRect();if(!D)return{x:0,y:0};const k=$-D.left,R=K-D.top;return{x:k,y:R}},xe=()=>m?"cursor-default":v&&!e.lines.some($=>ig($,v.start,v.end))?i?"cursor-not-allowed":"cursor-pointer":"cursor-default",Se=()=>{r(),A(!1)};return f.jsxs("div",{className:"min-h-screen bg-[#f5f3eb] dark:bg-gray-900 p-8 relative",children:[f.jsxs("div",{className:"fixed inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-graph-paper opacity-50 dark:opacity-5"}),f.jsx("div",{className:"absolute inset-0",children:Array.from({length:8}).map(($,K)=>f.jsx("div",{className:"absolute",children:f.jsxs("div",{className:`w-24 h-24 border-2 border-gray-400/40 dark:border-gray-600 rounded-lg 
                                         grid grid-cols-2 grid-rows-2 gap-2 p-2 transform rotate-12`,style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,opacity:.4},children:[f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"})]})},K))})]}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[f.jsx(GR,{gameState:e,...typeof s<"u"&&{onlinePlayers:Object.fromEntries(e.players.map($=>[$.id,$.online??!0]))},botSubstitutions:p}),g&&f.jsxs("div",{className:"absolute left-0 top-0 -translate-y-full mb-2 flex items-center gap-2",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 px-3 py-1 rounded-lg shadow-md font-mono text-sm",children:[f.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Game Code: "}),f.jsx("span",{id:"gameCodeText",className:"text-gray-900 dark:text-gray-100 select-all cursor-pointer",children:g})]}),f.jsxs("button",{onClick:()=>{const $=document.getElementById("gameCodeText");if($){const k=document.createRange();k.selectNodeContents($);const R=window.getSelection();R&&(R.removeAllRanges(),R.addRange(k))}navigator.clipboard.writeText(g);const K=document.activeElement,D=K.innerHTML;K.innerHTML=`
                                        <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                        </svg>
                                    `,setTimeout(()=>{K.innerHTML=D},1e3)},className:`bg-white dark:bg-gray-800 p-1.5 rounded-lg shadow-md 
                                         hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors
                                         relative group`,title:"Copy game code",children:[f.jsx("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),f.jsx("span",{className:`absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white px-2 py-1 
                                               rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity`,children:"Copy Code"})]})]}),f.jsx(Vn,{to:"/",onClick:$=>{$.preventDefault(),o()},className:`absolute -right-8 -top-8 bg-white dark:bg-gray-800 px-4 py-2 rounded-lg 
                                 shadow-lg transform hover:scale-105 transition-all duration-200 
                                 font-handwritten text-gray-800 dark:text-white hover:-rotate-2 z-20`,children:"Back to Menu"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsxs("svg",{ref:y,width:T,height:T,viewBox:`0 0 ${O} ${O}`,className:"bg-white dark:bg-gray-800 shadow-xl rounded-lg transform -rotate-1 cursor-transition",style:{cursor:xe()},onMouseMove:F,onClick:()=>v&&t(v.start,v.end),onTouchStart:ie,onTouchEnd:ee,onTouchMove:$=>$.preventDefault(),children:[e.boxes.map(($,K)=>$.owner!==null&&f.jsx("polygon",{points:$.points.map(D=>`${D.x},${D.y}`).join(" "),fill:e.players[$.owner].color,opacity:Id.COMPLETED_BOX},`box-${K}`)),e.lines.map(($,K)=>{var D,k;return f.jsx("line",{x1:$.start.x,y1:$.start.y,x2:$.end.x,y2:$.end.y,stroke:$.owner!==null&&$.owner!==void 0?e.players[$.owner].color:"#000",strokeWidth:n.lineWidth,className:`transition-all duration-300 ${ig($,(D=e.lastLine)==null?void 0:D.start,(k=e.lastLine)==null?void 0:k.end)?"last-line":""}`},`${$.start.x},${$.start.y}-${$.end.x},${$.end.y}`)}),v&&f.jsx("line",{x1:v.start.x,y1:v.start.y,x2:v.end.x,y2:v.end.y,stroke:e.players[e.currentPlayer].color,strokeWidth:n.lineWidth,opacity:"0.5",className:"transition-all duration-200"}),Array.from({length:e.gridSize}).map(($,K)=>Array.from({length:e.gridSize}).map((D,k)=>f.jsxs("g",{children:[f.jsx("circle",{cx:k*ve+L,cy:K*ve+L,r:L/2,className:"fill-gray-800 dark:fill-gray-200"}),f.jsx("circle",{cx:k*ve+fe,cy:K*ve+fe,r:og,className:"fill-transparent"})]},`dot-${K}-${k}`)))]}),e.gameOver&&h&&Object.keys(h).length>0&&f.jsx("div",{className:"max-w-md w-full mx-auto mt-4",children:f.jsxs("div",{className:`flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 
                             rounded-lg border border-gray-200 dark:border-gray-600 
                             transition-all hover:shadow-md`,children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:"#22c55e"}}),f.jsxs("span",{className:"font-handwritten text-gray-700 dark:text-gray-300",children:[Object.entries(h).map(([$,K],D,k)=>{var R;return f.jsxs("span",{children:[f.jsx("span",{style:{color:((R=Object.values(e.players).find(B=>B.name===K.name))==null?void 0:R.color)||"#4B5563",fontWeight:"bold"},children:K.name}),D<k.length-2?", ":D===k.length-2?" and ":""]},$)}),Object.keys(h).length===1?" is":" are"," waiting in a new game"]})]}),f.jsxs("button",{onClick:Se,className:`px-3 py-1.5 bg-blue-500 text-white rounded-md 
                                 hover:bg-blue-600 transition-colors duration-200
                                 font-medium text-sm shadow-sm hover:shadow
                                 flex items-center space-x-1`,children:[f.jsx("span",{children:"Join"}),f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})}),!e.gameOver&&f.jsx("div",{className:"mt-4 text-center w-full",children:f.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white dark:bg-gray-800 px-6 py-3 rounded-lg shadow-lg",children:[f.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.players[e.currentPlayer].color}}),f.jsx("span",{className:"font-handwritten text-xl text-gray-800 dark:text-white",children:p!=null&&p[e.currentPlayer.toString()]?`Bot playing for ${e.players[e.currentPlayer].name}`:s&&parseInt(s)===e.currentPlayer?"Your Turn":`${e.players[e.currentPlayer].name}'s Turn`})]})}),e.gameOver&&w&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"relative bg-white dark:bg-gray-800 p-8 rounded-lg shadow-xl max-w-md w-full mx-4",children:[f.jsx("div",{className:"absolute inset-0 bg-yellow-50 dark:bg-gray-800 rounded-lg transform rotate-2 -z-10"}),f.jsx("button",{onClick:()=>A(!1),className:"absolute top-4 right-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),f.jsx("h2",{className:"text-3xl font-handwritten text-center mb-6 text-gray-900 dark:text-white",children:V()}),f.jsxs("div",{className:"flex space-x-4 justify-center mt-6",children:[s&&u&&s in u?f.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-400",children:["Waiting for others...",Object.keys(u).filter($=>$!==s).map(($,K,D)=>{var k;return f.jsxs(j.Fragment,{children:[f.jsx("span",{style:{color:((k=Object.values(e.players).find(R=>R.name===u[$].name))==null?void 0:k.color)||"#4B5563",fontWeight:"bold"},children:u[$].name}),K<D.length-1&&", "]},$)})," also want to play again!"]}):f.jsx("button",{onClick:Se,className:`bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors
                                     text-base px-5 py-2 sm:px-6 sm:py-2.5`,children:"Play Again"}),f.jsx(Vn,{to:"/",onClick:o,className:`bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors
                                     text-base px-5 py-2 sm:px-6 sm:py-2.5`,children:"Main Menu"})]}),h&&Object.keys(h).length>0&&f.jsx("div",{className:"mt-6",children:f.jsxs("div",{className:`flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 
                                         rounded-lg border border-gray-200 dark:border-gray-600 
                                         transition-all hover:shadow-md`,children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:"#22c55e"}}),f.jsxs("span",{className:"font-handwritten text-gray-700 dark:text-gray-300",children:[Object.entries(h).map(([$,K],D,k)=>{var R;return f.jsxs("span",{children:[f.jsx("span",{style:{color:((R=Object.values(e.players).find(B=>B.name===K.name))==null?void 0:R.color)||"#4B5563",fontWeight:"bold"},children:K.name}),D<k.length-2?", ":D===k.length-2?" and ":""]},$)}),Object.keys(h).length===1?" is":" are"," waiting in a new game"]})]}),f.jsxs("button",{onClick:Se,className:`px-3 py-1.5 bg-blue-500 text-white rounded-md 
                                             hover:bg-blue-600 transition-colors duration-200
                                             font-medium text-sm shadow-sm hover:shadow
                                             flex items-center space-x-1`,children:[f.jsx("span",{children:"Join"}),f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})})]})}),e.gameOver&&!w&&f.jsxs("div",{className:"mt-4 text-center w-full space-y-4",children:[f.jsx("div",{className:"text-2xl font-handwritten dark:text-white",children:n.botEnabled?f.jsx("div",{children:e.players[0].score>e.players[1].score?"You Won! ðŸŽ‰":e.players[1].score>e.players[0].score?"Bot Wins! ðŸ¤–":"It's a Tie! ðŸ¤"}):f.jsx("div",{children:e.players.filter($=>$.score===Math.max(...e.players.map(K=>K.score))).length>1?f.jsx("span",{children:e.players.every($=>$.score===e.players[0].score)?"It's a Complete Tie!":f.jsxs("span",{children:["Tie between"," ",e.players.filter($=>$.score===Math.max(...e.players.map(K=>K.score))).map(($,K,D)=>f.jsxs("span",{children:[f.jsx("span",{style:{color:$.color},children:$.name}),K<D.length-1?" & ":""]},$.id)),"!"]})}):f.jsxs("span",{children:[f.jsx("span",{style:{color:e.players.reduce(($,K)=>K.score>$.score?K:$).color},children:e.players.reduce(($,K)=>K.score>$.score?K:$).name})," Wins!"]})})}),f.jsx("div",{children:f.jsx("button",{onClick:()=>A(!0),className:`bg-white px-6 py-2 rounded-lg shadow hover:bg-gray-50 
                                 transition-colors transform hover:scale-105 font-handwritten`,children:"Show Results"})}),f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsx("button",{onClick:Se,className:`bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 
                                 transition-colors transform hover:scale-105 font-handwritten`,children:"Play Again"}),f.jsx(Vn,{to:"/",onClick:$=>{$.preventDefault(),o()},className:`bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 
                                 transition-colors transform hover:scale-105 text-center font-handwritten`,children:"Main Menu"})]})]})]})]})]})},no=e=>{const t=JR(e),r=t.filter(i=>KR([...e.lines,ir(i.start,i.end,e.currentPlayer)],i.start,i.end,e.gridSize)>0);if(r.length>0)return r[0];const n=t.filter(i=>wP(e.lines,e.gridSize)>0&&YR(i.start,i.end,e.lines,e.gridSize));if(n.length>0)return n[0];const a=t.map(i=>({move:i,score:uf(e,i.start,i.end)}));return a.sort((i,o)=>o.score-i.score),a[0].move},uf=(e,t,r)=>{let n=0;const a=[...e.lines,ir(t,r,e.currentPlayer)],i=eD(a,e.gridSize),o=QR(a,e.gridSize),s=XR(a,e.gridSize);return o.giveawayBoxes>0&&(n-=1e4*o.giveawayBoxes),n+=i.chainLength*2e3,n+=i.potentialChains*1e3,n-=s*1500,tD(t,r,e)&&(n+=500),HR(a,e.gridSize)&&(n+=800),n},HR=(e,t)=>{const r=qR(e,t),n=wP(e,t);return r>n},qR=(e,t)=>{let r=0;const n=ve;for(let a=0;a<t-1;a++)for(let i=0;i<t-1;i++){const o={x:i*n+fe,y:a*n+fe};Ua(o,n).filter(c=>e.some(u=>et(u,c.start,c.end))).length===2&&r++}return r},KR=(e,t,r,n)=>{let a=0;const i=ve;if(t.y===r.y){if(t.y>fe){const s=e.some(u=>et(u,{x:t.x,y:t.y-i},{x:r.x,y:r.y-i})),l=e.some(u=>et(u,{x:t.x,y:t.y-i},{x:t.x,y:t.y})),c=e.some(u=>et(u,{x:r.x,y:r.y-i},{x:r.x,y:r.y}));s&&l&&c&&a++}if(t.y<(n-1)*i+fe){const s=e.some(u=>et(u,{x:t.x,y:t.y+i},{x:r.x,y:r.y+i})),l=e.some(u=>et(u,{x:t.x,y:t.y},{x:t.x,y:t.y+i})),c=e.some(u=>et(u,{x:r.x,y:r.y},{x:r.x,y:r.y+i}));s&&l&&c&&a++}}else{if(t.x>fe){const s=e.some(u=>et(u,{x:t.x-i,y:t.y},{x:r.x-i,y:r.y})),l=e.some(u=>et(u,{x:t.x-i,y:t.y},{x:t.x,y:t.y})),c=e.some(u=>et(u,{x:r.x-i,y:r.y},{x:r.x,y:r.y}));s&&l&&c&&a++}if(t.x<(n-1)*i+fe){const s=e.some(u=>et(u,{x:t.x+i,y:t.y},{x:r.x+i,y:r.y})),l=e.some(u=>et(u,{x:t.x,y:t.y},{x:t.x+i,y:t.y})),c=e.some(u=>et(u,{x:r.x,y:r.y},{x:r.x+i,y:r.y}));s&&l&&c&&a++}}return a},et=(e,t,r)=>Math.abs(e.start.x-t.x)<1&&Math.abs(e.start.y-t.y)<1&&Math.abs(e.end.x-r.x)<1&&Math.abs(e.end.y-r.y)<1||Math.abs(e.start.x-r.x)<1&&Math.abs(e.start.y-r.y)<1&&Math.abs(e.end.x-t.x)<1&&Math.abs(e.end.y-t.y)<1,wP=(e,t)=>{let r=0;const n=ve;for(let a=0;a<t-1;a++)for(let i=0;i<t-1;i++){const o={x:i*n+fe,y:a*n+fe};Ua(o,n).filter(c=>e.some(u=>et(u,c.start,c.end))).length===3&&r++}return r},YR=(e,t,r,n)=>{const a=ve;for(let i=0;i<n-1;i++)for(let o=0;o<n-1;o++){const s={x:o*a+fe,y:i*a+fe},l=Ua(s,a);if(l.filter(u=>r.some(d=>et(d,u.start,u.end))).length===3&&l.some(d=>et(ir(e,t,null),d.start,d.end)))return!0}return!1},XR=(e,t)=>{let r=0;const n=ve;for(let a=0;a<t-1;a++)for(let i=0;i<t-1;i++){const o={x:i*n+fe,y:a*n+fe},s=[{start:o,end:{x:o.x+n,y:o.y}},{start:{x:o.x+n,y:o.y},end:{x:o.x+n,y:o.y+n}},{start:{x:o.x,y:o.y+n},end:{x:o.x+n,y:o.y+n}},{start:o,end:{x:o.x,y:o.y+n}}];let l=0;s.forEach(c=>{e.some(u=>et(u,c.start,c.end))&&l++}),l===2&&r++}return r},JR=e=>{const t=[],r=e.gridSize;for(let n=0;n<r;n++)for(let a=0;a<r;a++){const i={x:a*ve+fe,y:n*ve+fe};if(a<r-1){const o={x:(a+1)*ve+fe,y:n*ve+fe};if(!$d(e.lines,i,o)){const s=uf(e,i,o);t.push({start:i,end:o,score:s})}}if(n<r-1){const o={x:a*ve+fe,y:(n+1)*ve+fe};if(!$d(e.lines,i,o)){const s=uf(e,i,o);t.push({start:i,end:o,score:s})}}}return t},Ua=(e,t)=>[ir(e,{x:e.x+t,y:e.y},null),ir({x:e.x+t,y:e.y},{x:e.x+t,y:e.y+t},null),ir(e,{x:e.x,y:e.y+t},null),ir({x:e.x,y:e.y+t},{x:e.x+t,y:e.y+t},null)],ZR=(e,t,r)=>{const n=[],a=(r-1)*t+fe;return e.x>fe&&n.push({x:e.x-t,y:e.y}),e.x+t<a&&n.push({x:e.x+t,y:e.y}),e.y>fe&&n.push({x:e.x,y:e.y-t}),e.y+t<a&&n.push({x:e.x,y:e.y+t}),n},QR=(e,t)=>{let r=0;const n=ve;for(let a=0;a<t-1;a++)for(let i=0;i<t-1;i++){const o={x:i*n+fe,y:a*n+fe};Ua(o,n).filter(c=>e.some(u=>et(u,c.start,c.end))).length===3&&r++}return{giveawayBoxes:r}},eD=(e,t)=>{let r=0,n=0;const a=ve;for(let i=0;i<t-1;i++)for(let o=0;o<t-1;o++){const s={x:o*a+fe,y:i*a+fe};if(Ua(s,a).filter(u=>e.some(d=>et(d,u.start,u.end))).length===2){const d=ZR(s,a,t).filter(h=>Ua(h,a).filter(m=>e.some(y=>et(y,m.start,m.end))).length===2);d.length>0&&(r++,n+=d.length)}}return{chainLength:r,potentialChains:n}},tD=(e,t,r)=>{const n=i=>r.lines.filter(s=>Math.abs(s.start.x-i.x)<1&&Math.abs(s.start.y-i.y)<1||Math.abs(s.end.x-i.x)<1&&Math.abs(s.end.y-i.y)<1).length<=1;return n(e)||n(t)?!1:r.lines.some(i=>Math.abs(i.start.x-e.x)<1&&Math.abs(i.start.y-e.y)<1||Math.abs(i.end.x-e.x)<1&&Math.abs(i.end.y-e.y)<1||Math.abs(i.start.x-t.x)<1&&Math.abs(i.start.y-t.y)<1||Math.abs(i.end.x-t.x)<1&&Math.abs(i.end.y-t.y)<1)},sv=e=>({currentPlayer:0,players:Array.from({length:e.playerCount}).map((t,r)=>({id:r,name:e.playerNames[r]+(e.botEnabled&&r===1?" (Bot)":""),score:0,color:Ra[r]})),lines:[],boxes:[],gridSize:e.gridSize,gameOver:!1}),rD=e=>{const[t,r]=P.useState(e),[n,a]=P.useState(()=>sv(t)),[i,o]=P.useState(!1);P.useEffect(()=>{localStorage.setItem("gameState",JSON.stringify(n))},[n]);const s=P.useCallback((c,u)=>{i||a(d=>{if($d(d.lines,c,u))return d;const h=ir(c,u,d.currentPlayer),p=[...d.lines,h],g=Rd(p,d.gridSize,d.currentPlayer,d.boxes),m=g.length>d.boxes.length,y=[...d.players];m&&(y[d.currentPlayer].score+=g.length-d.boxes.length);const v=g.length===(d.gridSize-1)*(d.gridSize-1),x={...d,lines:p,boxes:g,players:y,currentPlayer:m?d.currentPlayer:(d.currentPlayer+1)%d.players.length,gameOver:v,lastLine:h};return!v&&t.botEnabled&&x.currentPlayer===1&&(o(!0),setTimeout(()=>{const w=no(x);s(w.start,w.end),o(!1)},500)),x})},[t.botEnabled]),l=P.useCallback(()=>{const c=sv(t);a(c),localStorage.removeItem("gameState")},[t]);return{gameState:n,handleLineClick:s,resetGame:l,isBotMoving:i}},nD=e=>{const t=[],r=(e-1)*e*2,n=Math.floor(r*kj),a=(s,l)=>{const c=[...l,s],u=[],{x:d,y:h,isHorizontal:p}=s;p?(h>0&&u.push({x:d,y:h-1}),u.push({x:d,y:h})):(d>0&&u.push({x:d-1,y:h}),u.push({x:d,y:h}));for(const g of u){let m=0;const y=[{x:g.x,y:g.y,isHorizontal:!0},{x:g.x,y:g.y+1,isHorizontal:!0},{x:g.x,y:g.y,isHorizontal:!1},{x:g.x+1,y:g.y,isHorizontal:!1}];for(const v of y)c.some(x=>x.x===v.x&&x.y===v.y&&x.isHorizontal===v.isHorizontal)&&m++;if(m>=2)return!0}return!1};let i=0;const o=1e3;for(;t.length<n&&i<o;){i++;const s=Math.random()<.5,l=Math.floor(Math.random()*(s?e-1:e)),c=Math.floor(Math.random()*(s?e:e-1)),u={x:l,y:c,isHorizontal:s,start:{x:l*ve+fe,y:c*ve+fe},end:{x:s?(l+1)*ve+fe:l*ve+fe,y:s?c*ve+fe:(c+1)*ve+fe},owner:null};!t.some(h=>h.x===l&&h.y===c&&h.isHorizontal===s)&&!a(u,t)&&(t.push(u),i=0)}return t},aD=({settings:e})=>{const{gameState:t,handleLineClick:r,resetGame:n,isBotMoving:a}=rD(e),i=br();P.useEffect(()=>()=>{localStorage.removeItem("gameState")},[]);const o=()=>{localStorage.removeItem("gameState"),i("/")};return P.useEffect(()=>{e.quickStart&&nD(e.gridSize).forEach(l=>{r(l.start,l.end)})},[]),f.jsx(Hp,{gameState:t,onLineClick:r,resetGame:n,settings:e,onSettingsChange:()=>{},isBotMoving:a,onBackToMenu:o})},qp=(e,t)=>{P.useEffect(()=>{if(!t)return;const r=X(Z,`presence/${t}`),n=X(Z,".info/connected"),a=We(n,i=>{i.val()===!0&&(fo(r).remove(),Ue(r,{online:!0,gameId:e||null,lastSeen:ye(),location:e?"game":"lobby"}))});return()=>{a(),Ue(r,null)}},[e,t])},df={greetings:["Hello! ðŸ‘‹","Hi there!","Let's play! ðŸŽ®","Good luck! ðŸ€"],gameplay:["Nice move! ðŸ‘","Well played!","Oops! ðŸ˜…","My turn! â­","Think fast! âš¡","Got you! ðŸ˜Ž"],reactions:["Wow! ðŸ¤¯","Haha! ðŸ˜„","Oh no! ðŸ˜±","Close one! ðŸ˜°","Not bad! ðŸ‘Œ"],endgame:["Good game! ðŸ¤","One more? ðŸŽ²","I'm out! ðŸ‘‹","Thanks for playing! âœ¨","Rematch? ðŸ”„"],taunts:["Too slow! ðŸŒ","Is that all? ðŸ˜","Watch and learn! ðŸ“š","Easy peasy! ðŸ‹","Better luck next time! ðŸŽ¯"]};function iD(e){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391.553 64H57.607C53.131 64 48 67.745 48 72.159v214.217c0 4.413 5.131 8.624 9.607 8.624H115v88.894L205.128 295h186.425c4.477 0 7.447-4.211 7.447-8.624V72.159c0-4.414-2.971-8.159-7.447-8.159z"}},{tag:"path",attr:{d:"M456.396 127H424v166.57c0 15.987-6.915 26.43-25.152 26.43H218.096l-38.905 39h129.688L399 448v-89h57.396c4.478 0 7.604-4.262 7.604-8.682V136.103c0-4.414-3.126-9.103-7.604-9.103z"}}]})(e)}const SP={TOTAL_BOTS:8,MAX_BOTS_IN_LOBBY:5,MAX_BOTS_IN_GAMES:3,MIN_BOTS_WITH_OPEN_GAMES:1,CHAT_FREQUENCY:{GREETING:.5,TAUNT:.2,REACTION:.3,LOBBY_CHAT:.08},MESSAGE_DELAY:{MIN:2e3,MAX:5e3},GAME_CREATION_INTERVAL:12e4,MAX_WAITING_GAMES:2},ff=[{name:"Sami",skill:.8,chatStyle:"competitive",avatar:"ðŸŽ®"},{name:"Waqar",skill:.7,chatStyle:"friendly",avatar:"ðŸ˜Ž"},{name:"John",skill:.6,chatStyle:"casual",avatar:"ðŸŽ²"},{name:"Ceeb",skill:.9,chatStyle:"pro",avatar:"ðŸ†"},{name:"Talha",skill:.5,chatStyle:"friendly",avatar:"ðŸŒŸ"},{name:"Mango",skill:.4,chatStyle:"funny",avatar:"ðŸ¥­"},{name:"BigD",skill:.8,chatStyle:"aggressive",avatar:"ðŸ’ª"},{name:"iloveostrich",skill:.3,chatStyle:"random",avatar:"ðŸ¦…"}],PP={greetings:["yo! anyone up for a game?","hey gamers!","sup everyone! ready to lose?","another day another game","who wants to get destroyed?"],taunts:["is that all you got?","my grandma plays better","ez game ez life","you call that a move?","getting nervous?"],reactions:{win:["gg ez","as expected","better luck next time"],lose:["lucky game","lag...?","ok you're good"],draw:["not bad not bad","close one!","rematch?"]},lobby:["Wow, this lobby is so lively... not.","Is everyone just here to watch?","I'd say something smart, but I'm saving it for the game.","I once lost to a potato. True story.","If I win, I'll write a book about it.","I'm only here for the snacks.","Imagine losing to bots.","I hope you brought your A-game. Or at least your B-game.","If you need tips, just ask. I won't help, but you can ask.","Anyone else just here to procrastinate?","I keep clicking the wrong button. Send help.","Why do I always get matched with tryhards?","I'm just here so I don't get fined.","Can someone teach me how to play?","I'm not saying I'm the best, but I'm definitely not the worst.","Let's pretend this is a team game.","I'll play, but only if someone else starts.","I'm here for a good time, not a long time.","If I lose, it's because of lag.","I'm just here to make up the numbers."]};class oD{constructor(){At(this,"activeBots",new Map);At(this,"botGames",new Map);At(this,"isInitialized",!1);At(this,"botManagerRef");At(this,"myBots",new Set);At(this,"clientId",null);At(this,"lastLobbyBotId",null);At(this,"lastLobbyMessage",null);At(this,"messagesEnabled",!0);At(this,"config",SP);At(this,"personalities",ff);At(this,"messages",PP);At(this,"realPlayerCount",0);this.isInitialized=!1}async init(){if(!this.isInitialized)try{console.log("Initializing BotManager...");const t=X(Z,"botManager");this.botManagerRef=t;const r=X(Z,"botManager/messagesEnabled");We(r,o=>{this.messagesEnabled=o.exists()?o.val():!0,console.log(`Bot messages ${this.messagesEnabled?"enabled":"disabled"}`)});const n=X(Z,"botManager/config");We(n,o=>{o.exists()&&(this.config=o.val(),console.log("Bot configuration updated"))});const a=X(Z,"botManager/personalities");We(a,o=>{if(o.exists()){const s=o.val();this.personalities=Array.isArray(s)?s:Object.values(s),console.log("Bot personalities updated")}});const i=X(Z,"botManager/messages");We(i,o=>{o.exists()&&(this.messages=o.val(),console.log("Bot messages updated"))}),await this.checkAndInitializeBots(),await this.updateBotPresence(),this.startBotMaintenanceLoop(),this.startLobbyChatLoop(),this.setupClientCleanup(),this.registerClient(),this.isInitialized=!0,console.log("Bot manager initialized!")}catch(t){console.error("Error initializing BotManager:",t)}}async checkAndInitializeBots(){const t=X(Z,"preserved/bots");if(!(await nt(t)).exists()){const u={};this.personalities.forEach((d,h)=>{const p=`bot_${Date.now()}_${h}`;u[p]={id:p,...d,status:"lobby",lastAction:ye()}}),await Ue(t,u)}if(this.botManagerRef=X(Z,"botManager"),!(await nt(this.botManagerRef)).exists()){const u=(await nt(t)).val();await Ue(this.botManagerRef,{bots:u,games:{},lastUpdate:ye(),activeClients:1})}const a=await nt(X(Z,"botManager/activeClients")),i=a.exists()?a.val():1,o=Math.ceil(this.config.TOTAL_BOTS/i),s=(i-1)*o,l=Math.min(s+o,this.config.TOTAL_BOTS),c=(await nt(t)).val();Object.entries(c).forEach(([u,d],h)=>{h>=s&&h<l&&(this.myBots.add(u),Ne(X(Z,`botManager/bots/${u}`),{managedBy:this.getClientId(),lastAction:ye()}))}),We(t,u=>{const d=u.val();d&&(this.activeBots=new Map(Object.entries(d)),this.maintainWaitingGames())})}async updateBotStatus(t,r){await Ne(X(Z,`preserved/bots/${t}`),{status:r,lastAction:ye()}),await Ne(X(Z,`botManager/bots/${t}`),{status:r,lastAction:ye()})}async createBotWaitingGame(){const r=(await nt(X(Z,"games"))).val()||{};if(Object.values(r).find(i=>{var o;return i.status==="waiting"&&i.isBot===!0&&!((o=i.settings)!=null&&o.isPrivate)})){console.log("Bot waiting game already exists, skipping creation");return}const a=Array.from(this.activeBots.values()).filter(i=>i.status==="lobby");if(a.length>0){const i=a[Math.floor(Math.random()*a.length)],o=`bot_game_${Date.now()}`;try{await Ue(X(Z,`games/${o}`),{host:i.id,status:"waiting",createdAt:ye(),isBot:!0,settings:{gridSize:5,playerCount:2,isPrivate:!1},players:{[i.id]:{name:i.name,score:0,online:!0,isBot:!0,joinedAt:ye(),lastSeen:ye(),ready:!0,color:"#FF3366"}},readyPlayers:{[i.id]:!0},currentTurn:null,lines:{},boxes:{}}),await this.updateBotStatus(i.id,"waiting"),this.sendBotMessage(i.id,"Just created a game! Who's joining? ðŸŽ®"),console.log(`Bot ${i.name} created game ${o}`),this.listenToGameJoins(o,i.id)}catch(s){console.error("Error creating bot game:",s)}}}listenToGameJoins(t,r){const n=X(Z,`games/${t}`);return We(n,async a=>{const i=a.val();if(!i)return;const s=Object.entries(i.players||{}).find(([l,c])=>!l.startsWith("bot_")&&c.online);if(s){const[l]=s,c=this.getClientId();i.players[l].clientId===c?(this.myBots.add(r),await Ne(X(Z,`botManager/bots/${r}`),{managedBy:c,lastAction:ye()}),i.status==="playing"&&i.currentPlayer===r&&await this.makeBotMove(i,r),i.status==="waiting"&&await Ne(X(Z,`games/${t}/players/${r}`),{ready:!0,lastSeen:ye()})):this.myBots.has(r)&&(this.myBots.delete(r),await Ne(X(Z,`botManager/bots/${r}`),{managedBy:null}))}i.status==="playing"&&i.currentPlayer===r&&this.myBots.has(r)&&await this.makeBotMove(i,r)}),()=>{this.myBots.has(r)&&(this.myBots.delete(r),Ne(X(Z,`botManager/bots/${r}`),{managedBy:null,status:"lobby"}))}}async makeBotMove(t,r){if(t.status!=="playing"||!this.myBots.has(r))return;const n={currentPlayer:Object.keys(t.players).indexOf(r),players:Object.entries(t.players).map(([i,o])=>({id:Object.keys(t.players).indexOf(i),name:o.name,score:o.score,color:o.color,online:o.online})),lines:t.lines||[],boxes:t.boxes||[],gridSize:t.settings.gridSize,gameOver:t.status==="finished"},a=Math.random()*1e3+500;setTimeout(async()=>{try{const i=(await nt(X(Z,`games/${t.id}`))).val();if(!i||i.currentPlayer!==r||i.status!=="playing")return;if(no(n)){const s=new CustomEvent("checkBotMove");window.dispatchEvent(s)}}catch(i){console.error("Bot move error:",i)}},a)}handlePlayerJoinLobby(t){if(Math.random()<this.config.CHAT_FREQUENCY.GREETING){const r=this.getRandomBot("lobby");r&&this.sendBotMessage(r.id,this.getRandomMessage("greetings"),t)}}sendBotMessage(t,r,n){if(!this.messagesEnabled){console.log("Bot messages are disabled, skipping message");return}const a=this.activeBots.get(t);if(!a)return;const i=Math.random()*(this.config.MESSAGE_DELAY.MAX-this.config.MESSAGE_DELAY.MIN)+this.config.MESSAGE_DELAY.MIN;setTimeout(()=>{const o=Date.now().toString();Ue(X(Z,`lobbyChatMessages/${o}`),{id:o,playerId:t,playerName:a.name,message:r,timestamp:Date.now(),isBot:!0})},i)}startBotMaintenanceLoop(){this.maintainBotPopulation(),this.maintainWaitingGames(),setInterval(()=>{this.maintainBotPopulation(),this.maintainWaitingGames()},3e4)}maintainBotPopulation(){const t=this.countBotsByStatus("lobby");this.countBotsByStatus("in_game"),t<this.config.MAX_BOTS_IN_LOBBY&&this.moveBotToLobby()}countBotsByStatus(t){return Array.from(this.activeBots.values()).filter(r=>r.status===t).length}getRandomBot(t){const r=Array.from(this.activeBots.values()).filter(s=>s.status===t&&this.myBots.has(s.id));if(r.length===0)return null;const n=Date.now(),a=r.map(s=>({bot:s,weight:(n-s.lastAction)/1e3}));a.sort((s,l)=>l.weight-s.weight);const i=a.reduce((s,{weight:l})=>s+l,0);let o=Math.random()*i;for(const{bot:s,weight:l}of a)if(o-=l,o<=0)return s;return a[0].bot}getRandomMessage(t){const r=this.messages[t];return Array.isArray(r)?r[Math.floor(Math.random()*r.length)]:""}registerClient(){const t=this.getClientId();X(Z,"botManager/clients"),nt(X(Z,"botManager/activeClients")).then(r=>{const n=(r.exists()?r.val():0)+1;Ue(X(Z,"botManager/activeClients"),n),Ue(X(Z,`botManager/clients/${t}`),{lastSeen:ye(),botsManaged:Array.from(this.myBots)}),fo(X(Z,`botManager/clients/${t}`)).remove(),fo(X(Z,"botManager/activeClients")).set(n-1)})}setupClientCleanup(){setInterval(async()=>{const t=Date.now(),r=5*60*1e3,a=(await nt(X(Z,"botManager/bots"))).val()||{};Object.entries(a).forEach(async([i,o])=>{t-o.lastAction>r&&(await this.updateBotStatus(i,"lobby"),this.botGames.has(i)&&(await Un(X(Z,`games/${this.botGames.get(i)}`)),await Un(X(Z,`botManager/games/${i}`))))})},6e4)}countWaitingGames(){const t=X(Z,"games");let r=0;return nt(t).then(n=>{const a=n.val()||{};r=Object.values(a).filter(i=>i.status==="waiting"&&i.isBot===!0).length}),r}maintainWaitingGames(){this.countWaitingGames()<this.config.MIN_BOTS_WITH_OPEN_GAMES&&this.createBotWaitingGame()}async moveBotToLobby(){const t=Array.from(this.activeBots.values()).find(r=>r.status==="in_game");t&&await this.updateBotStatus(t.id,"lobby")}async updateBotPresence(){console.log("Updating bot presence...");const t=Array.from(this.activeBots.values()).filter(r=>r.status==="lobby");console.log(`Found ${t.length} bots in lobby`);for(const r of t)console.log(`Updating presence for bot: ${r.name}`),await Ue(X(Z,`presence/${r.id}`),{online:!0,lastSeen:ye(),name:r.name,isBot:!0})}startLobbyChatLoop(){if(this.myBots.size===0)return;const t=X(Z,"presence");We(t,r=>{if(r.exists()){const n=r.val();this.realPlayerCount=Object.values(n).filter(a=>!a.isBot).length}else this.realPlayerCount=0}),setInterval(()=>{if(this.realPlayerCount>0&&this.messagesEnabled&&Math.random()<this.config.CHAT_FREQUENCY.LOBBY_CHAT){let r=Array.from(this.activeBots.values()).filter(n=>n.status==="lobby"&&this.myBots.has(n.id));if(this.lastLobbyBotId&&r.length>1&&(r=r.filter(n=>n.id!==this.lastLobbyBotId)),r.length>0){const n=r[Math.floor(Math.random()*r.length)];let a=this.messages.lobby;n.chatStyle==="funny"?a=this.messages.lobby.filter(o=>o.includes("snacks")||o.includes("potato")||o.includes("help")):(n.chatStyle==="competitive"||n.chatStyle==="aggressive")&&(a=this.messages.lobby.filter(o=>o.includes("A-game")||o.includes("roast")||o.includes("tryhards")||o.includes("Imagine losing"))),a.length<2&&(a=this.messages.lobby);let i=a[Math.floor(Math.random()*a.length)];i===this.lastLobbyMessage&&a.length>1&&(i=a.filter(o=>o!==this.lastLobbyMessage)[0]),this.sendBotMessage(n.id,i),this.lastLobbyBotId=n.id,this.lastLobbyMessage=i}}},35e3)}getClientId(){return this.clientId||(this.clientId=`client_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),this.clientId}}const lv=new oD,sD=()=>{const[e,t]=P.useState([]),[r,n]=P.useState(""),[a,i]=P.useState(()=>localStorage.getItem(Or.PLAYER_NAME)||""),[o,s]=P.useState(null),l=br();P.useState(!1);const[c,u]=P.useState(null),[d,h]=P.useState(null),[p,g]=P.useState(0),[m]=P.useState(()=>{const D=localStorage.getItem(Or.LOCAL_PLAYER_ID);if(D)return D;const k=Math.random().toString(36).substr(2,9);return localStorage.setItem(Or.LOCAL_PLAYER_ID,k),k}),[y,v]=P.useState([]),[x,w]=P.useState(""),A=P.useRef(null),[b,S]=P.useState(!1),[O,_]=P.useState(0),[T,I]=P.useState(Date.now()),E=P.useRef(null),[M,F]=P.useState(!1),[V,z]=P.useState(""),[G,L]=P.useState(0),[Y,W]=P.useState(()=>localStorage.getItem("hasSeenChat")==="true");qp(void 0,m);const ne=D=>{const k=D.target.value;i(k),localStorage.setItem(Or.PLAYER_NAME,k)},ie=()=>{l("/online/setup")},ee=async D=>{if(!c){if(s(null),!a.trim()){s("Please enter your name");return}if(!D.trim()){h("Stupid, write the code first! ðŸ™„");return}u(D);try{const k=X(Z,`games/${D}`),B=(await nt(k)).val();if(!B){h("Game not found");return}if(B.status!=="waiting"){h("Game already started");return}if(Object.values(B.players||{}).filter(te=>te.online).length>=B.settings.playerCount){h(" Room is full ... can't you see ?");return}const H=Math.random().toString(36).substr(2,9),J=Object.keys(B.players||{}).length;await Ne(k,{[`players/${H}`]:{name:a,joinedAt:ye(),score:0,color:Ra[J],ready:!1,online:!0,lastSeen:ye()}}),l(`/online-game/${D}?playerId=${H}`)}catch(k){console.error("Error joining game:",k),h("Failed to join game. Please try again.")}finally{u(null)}}};P.useEffect(()=>{const D=X(Z,"games"),k=We(D,R=>{const B=R.val();if(B){Object.entries(B).forEach(([H,J])=>{J.players&&Object.values(J.players).some(ae=>ae.online)||Un(X(Z,`games/${H}`)).then(()=>console.log("Cleaned up abandoned game:",H)).catch(ae=>console.error("Error cleaning up game:",ae))});const N=Object.entries(B).map(([H,J])=>{var ae;const te=J.players?Object.values(J.players).filter(he=>he.online).length:0;return{id:H,...J,activePlayers:te,totalPlayers:((ae=J.settings)==null?void 0:ae.playerCount)||0,isBot:J.isBot}}).filter(H=>{var J;return H.status==="waiting"&&H.activePlayers>0&&!((J=H.settings)!=null&&J.isPrivate)});t(N)}else t([])});return()=>k()},[]),P.useEffect(()=>{const D=X(Z,"presence"),k=We(D,R=>{const B=R.val();if(B){const N=Object.keys(B).length;g(N)}else g(0)});return()=>k()},[]);const oe=async D=>{if(!a.trim()){h("Mind entering your name? unknown creature");return}if(!D.trim())return;const k=Date.now();if(!(D===V&&k-G<2e3)&&!M)try{F(!0);const R=Tj(X(Z,"lobbyChatMessages"));await Ue(R,{playerId:m,playerName:a,message:D.trim(),timestamp:ye()}),z(D),L(k)}catch(R){console.error("Error sending message:",R)}finally{F(!1)}},xe=()=>{b||(_(0),I(Date.now())),S(!b)};P.useEffect(()=>{const D=X(Z,"lobbyChatMessages"),k=We(D,R=>{const B=R.val();if(B){const N=Object.values(B);if(N.sort((H,J)=>H.timestamp-J.timestamp),v(N.slice(-50)),!b){const H=N.filter(J=>J.timestamp>T&&J.playerId!==m).length;_(H)}}});return()=>k()},[T,b,m]),P.useEffect(()=>{var D;(D=A.current)==null||D.scrollIntoView({behavior:"smooth"})},[y]);const Se=({message:D,onClose:k})=>f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"relative bg-white dark:bg-gray-800 p-8 rounded-lg shadow-xl max-w-md w-full mx-4 transform -rotate-1",children:[f.jsx("div",{className:"absolute inset-0 bg-yellow-50 dark:bg-gray-800 rounded-lg transform rotate-2 -z-10"}),f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("p",{className:"text-xl font-handwritten text-gray-800 dark:text-white",children:D}),f.jsx("button",{onClick:k,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"OK"})]})]})}),$=P.useCallback(D=>{b&&E.current&&!E.current.contains(D.target)&&!D.target.closest(".chat-button")&&xe()},[b]);P.useEffect(()=>(b&&document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}),[b,$]),P.useEffect(()=>{lv.handlePlayerJoinLobby(m)},[]),P.useEffect(()=>{(async()=>{{console.log("Starting bot initialization...");try{await lv.init(),console.log("Bots initialized successfully!")}catch(k){console.error("Error initializing bots:",k)}}})()},[]);const K=D=>{if(D.preventDefault(),!r.trim()){h("Please enter a game ID");return}l(`/spectate-game/${r.trim()}`)};return f.jsxs("div",{className:"min-h-screen bg-[#f5f3eb] dark:bg-gray-900 p-8 relative",children:[f.jsxs("div",{className:"fixed inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-graph-paper opacity-50 dark:opacity-5"}),f.jsx("div",{className:"absolute inset-0",children:Array.from({length:8}).map((D,k)=>f.jsx("div",{className:"absolute",children:f.jsxs("div",{className:`w-24 h-24 border-2 border-gray-400/40 dark:border-gray-600 rounded-lg 
                                         grid grid-cols-2 grid-rows-2 gap-2 p-2 transform rotate-12`,style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,opacity:.4},children:[f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"})]})},k))})]}),f.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto space-y-8",children:[f.jsxs("div",{className:"fixed top-4 inset-x-4 sm:absolute sm:inset-x-0 sm:top-0 flex justify-between z-50",children:[f.jsx("button",{onClick:()=>l("/"),className:`bg-white dark:bg-gray-800 px-4 py-2 rounded-lg 
                               shadow-lg transform hover:scale-105 transition-all duration-200 
                               font-handwritten text-gray-800 dark:text-white hover:-rotate-2
                               border border-gray-100 dark:border-gray-700
                               hover:shadow-xl
                               text-base sm:text-lg`,children:"â† Back"}),f.jsxs("div",{className:`bg-white dark:bg-gray-800 px-4 py-2 rounded-lg 
                         shadow-lg transform hover:scale-105 transition-all duration-200 
                         font-handwritten text-gray-800 dark:text-white hover:-rotate-2
                         border border-gray-100 dark:border-gray-700
                         hover:shadow-xl
                         text-base sm:text-lg
                         flex items-center gap-2`,children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),p," Online"]})]}),f.jsx("h1",{className:"title-large mb-12",children:"Online Lobby"}),f.jsx("div",{className:"text-center transform hover:scale-105 transition-all duration-200",children:f.jsx("button",{onClick:ie,className:`bg-blue-500 text-white px-8 py-3 rounded-lg 
                                 hover:bg-blue-600 transition-colors shadow-lg
                                 font-handwritten text-xl transform hover:-rotate-1`,children:"Create New Game"})}),f.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl transform -rotate-1",children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsxs("div",{className:"relative w-full max-w-md",children:[f.jsx("input",{type:"text",value:a,onChange:ne,placeholder:"Enter Your Name",className:`w-full px-4 py-2 rounded-lg border font-handwritten text-lg
                                    ${o?"border-red-500 focus:ring-red-500":"border-gray-300"}
                                    dark:bg-gray-700 dark:border-gray-600 dark:text-white
                                    transform transition-all duration-200 hover:-rotate-1 focus:-rotate-1`,maxLength:20,required:!0}),o&&f.jsx("div",{className:"absolute -top-6 left-0 text-red-500 text-sm font-handwritten",children:o})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full max-w-md",children:[f.jsx("input",{type:"text",value:r,onChange:D=>n(D.target.value.toUpperCase()),placeholder:"Enter Room Code",className:`flex-1 px-4 py-2 rounded-lg border font-mono text-sm
                                         bg-gray-100 dark:bg-gray-700 dark:border-gray-600 dark:text-white
                                         transform transition-all duration-200 hover:-rotate-1 focus:-rotate-1`}),f.jsx("button",{onClick:()=>ee(r),disabled:c===r,className:`px-6 py-2 rounded-lg font-handwritten text-white
                                         ${c===r?"bg-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600 transform hover:-rotate-1"}`,children:c===r?"Joining...":"Join"})]})]})}),f.jsx("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-lg p-4 shadow-lg transform -rotate-1 mb-6 animate-pulse-slow",children:f.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 rounded-lg p-4 shadow-inner",children:[f.jsx("h3",{className:"text-xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600",children:"Message from the creator"}),f.jsxs("p",{className:"text-gray-700 dark:text-gray-300 font-handwritten",children:["Hey Stupid! No, not you (you wonderful being)... I'm the stupid one for creating this game and leaving it with bugs. I noticed some lovely folks playing lately - if you're real (not some ChatGPT bot ruining me), please fill out this",f.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSfuXulV9g5jixixEFtpZ072X2k_WkJGoHt9eH3M9MXNRzo1EQ/viewform?usp=dialog",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 hover:underline mx-1",children:"quick feedback form"}),"I'll even give you cool in-game username styling effects as a reward! Thanks for helping â¤ï¸"]})]})}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-3xl font-handwritten text-gray-800 dark:text-white transform -rotate-1",children:"Available Games"}),f.jsx("div",{className:"space-y-3",children:e.length>0?e.map(D=>{var k,R,B;return f.jsxs("div",{className:`flex items-center justify-between p-4 bg-white dark:bg-gray-800 
                                    rounded-lg shadow-md hover:shadow-lg transition-shadow`,children:[f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("div",{className:"text-lg font-handwritten text-gray-900 dark:text-white flex items-center gap-2",children:["Game ",D.id,D.isBot&&f.jsx("span",{className:`text-sm bg-blue-100 dark:bg-blue-900 text-blue-800 
                                                       dark:text-blue-200 px-2 py-1 rounded-full`,children:"ðŸ¤– Bot Game"})]}),f.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[D.activePlayers," / ",(k=D.settings)==null?void 0:k.playerCount," Players â€¢ ",(R=D.settings)==null?void 0:R.gridSize,"Ã—",(B=D.settings)==null?void 0:B.gridSize," Grid"]})]})}),f.jsx("div",{className:"flex justify-end",children:D.status==="waiting"?f.jsx("button",{onClick:()=>ee(D.id),disabled:c===D.id,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition-colors",children:c===D.id?"Joining...":"Join Game"}):f.jsxs("button",{onClick:()=>l(`/spectate-game/${D.id}`),className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded transition-colors flex items-center gap-2",children:[f.jsx(zn,{size:14})," Spectate"]})})]},D.id)}):f.jsxs("div",{className:"text-center py-8 font-handwritten text-xl text-gray-500 dark:text-gray-400",children:["No games available",f.jsx("div",{className:"text-sm mt-2",children:"Create one and invite your friends!"})]})}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mt-4",children:[f.jsxs("h2",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx(zn,{className:"text-purple-500"})," Spectate a Game"]}),f.jsx("div",{className:"bg-yellow-50 dark:bg-gray-700 p-3 rounded-md mb-4 border-l-4 border-yellow-400",children:f.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-200 font-handwritten",children:"âš ï¸ Don't expect too much from a single noob dev plz! Spectator mode may be buggy and take a bit of time to work connect with me mean while in about section in home tab."})}),f.jsxs("form",{onSubmit:K,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"spectate-code",className:"block text-gray-700 dark:text-gray-300 mb-1",children:"Enter a Game ID to Spectate"}),f.jsx("input",{id:"spectate-code",type:"text",value:r,onChange:D=>n(D.target.value.toUpperCase()),placeholder:"Enter Game ID",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),f.jsxs("button",{type:"submit",className:"w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-4 rounded-lg transition-colors flex justify-center items-center gap-2",children:[f.jsx(zn,{size:16})," Spectate Game"]})]})]})]})]}),!b&&f.jsxs("button",{onClick:()=>{xe(),Y||(localStorage.setItem("hasSeenChat","true"),W(!0))},className:`chat-button fixed bottom-6 right-6 bg-blue-500 text-white p-4 rounded-full 
                             shadow-lg hover:bg-blue-600 transition-all duration-200
                             transform hover:scale-105 z-50
                             ${Y?"":"animate-bounce-gentle"}`,children:[f.jsx(iD,{size:24,className:Y?"":"animate-pulse"}),O>0&&f.jsx("div",{className:`absolute -top-2 -right-2 w-6 h-6 bg-red-500 
                                      rounded-full flex items-center justify-center text-xs`,children:O})]}),f.jsx("div",{ref:E,className:`fixed top-0 right-0 w-96 h-full bg-white dark:bg-gray-800 
                          shadow-lg transform transition-transform duration-300 ease-in-out z-40
                          ${b?"translate-x-0":"translate-x-full"}`,children:f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-handwritten text-gray-800 dark:text-white",children:"Lobby Chat"}),f.jsx("button",{onClick:xe,className:`text-gray-500 hover:text-gray-700 dark:text-gray-400 
                                     dark:hover:text-gray-200`,children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900",children:[y.map(D=>{const k=Gp(D.playerName),R=k==null?void 0:k.special;return f.jsx("div",{className:`mb-2 ${D.playerId===m?"text-right":""}`,children:f.jsxs("div",{className:`inline-block max-w-[80%] px-4 py-2 rounded-lg 
                                                  ${R?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-lg":D.playerId===m?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white"}`,children:[f.jsxs("div",{className:"font-handwritten text-sm flex items-center gap-1",children:[f.jsx("span",{className:`${R?"font-bold":"opacity-75"}`,children:(k==null?void 0:k.displayName)||D.playerName}),k&&f.jsx("span",{className:`text-xs ${R?"text-yellow-200 font-semibold":"opacity-75"}`,children:k.title})]}),f.jsx("div",{className:"font-handwritten",children:D.message})]})},D.id)}),f.jsx("div",{ref:A})]}),f.jsxs("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:df.greetings.map((D,k)=>f.jsx("button",{onClick:()=>w(D),className:`px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded-full 
                                             text-sm font-handwritten hover:bg-gray-300 
                                             dark:hover:bg-gray-600 transition-colors`,children:D},k))}),f.jsxs("form",{onSubmit:D=>{D.preventDefault(),oe(x),w("")},className:"flex gap-2",children:[f.jsx("input",{type:"text",value:x,onChange:D=>w(D.target.value),placeholder:"Type a message...",className:`flex-1 px-4 py-2 rounded-lg border font-handwritten
                                         bg-white dark:bg-gray-700 dark:border-gray-600 
                                         dark:text-white`,maxLength:100}),f.jsx("button",{type:"submit",disabled:M||!x.trim(),className:`px-6 py-2 bg-blue-500 text-white rounded-lg 
                                         hover:bg-blue-600 transition-colors font-handwritten`,children:"Send"})]})]})]})}),d&&f.jsx(Se,{message:d,onClose:()=>h(null)})]})},lD=({onSendMessage:e,disabled:t})=>{const[r,n]=P.useState(!1),[a,i]=P.useState(null);return P.useState(""),f.jsxs("div",{className:"relative",children:[f.jsx("button",{onClick:()=>n(!r),className:`fixed bottom-4 right-4 bg-blue-500 text-white p-3 rounded-full 
                         shadow-lg hover:bg-blue-600 transition-all duration-200
                         transform hover:scale-105 z-50`,children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),r&&f.jsx("div",{className:`fixed bottom-20 right-4 bg-white dark:bg-gray-800 rounded-lg 
                               shadow-xl p-4 z-50 w-64 transform transition-all duration-200`,children:a?f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("button",{onClick:()=>i(null),className:`text-gray-500 hover:text-gray-700 dark:text-gray-400
                                             dark:hover:text-gray-200 mr-2`,children:"â† Back"}),f.jsx("h3",{className:"font-handwritten text-lg text-gray-800 dark:text-white",children:a.charAt(0).toUpperCase()+a.slice(1)})]}),df[a].map((o,s)=>f.jsx("button",{onClick:()=>{e(o),n(!1),i(null)},className:`w-full text-left px-4 py-2 rounded-lg
                                             hover:bg-gray-100 dark:hover:bg-gray-700
                                             font-handwritten text-gray-800 dark:text-white
                                             transition-colors duration-200`,children:o},s))]}):f.jsx("div",{className:"space-y-2",children:Object.entries(df).map(([o])=>f.jsx("button",{onClick:()=>i(o),className:`w-full text-left px-4 py-2 rounded-lg
                                             hover:bg-gray-100 dark:hover:bg-gray-700
                                             font-handwritten text-gray-800 dark:text-white
                                             transition-colors duration-200`,children:o.charAt(0).toUpperCase()+o.slice(1)},o))})})]})},cD=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array.from({length:4},()=>e.charAt(Math.floor(Math.random()*e.length))).join("")},uD=e=>{const t=new Set(Object.values(e).map(r=>r.color));return Ra.find(r=>!t.has(r))||Ra[0]},dD=()=>{var xe,Se,$,K,D;const[e]=P.useState(()=>Date.now()),{gameId:t}=Lw(),r=br(),[n,a]=P.useState(null),[i,o]=P.useState(null),[s,l]=P.useState(null),[c,u]=P.useState(!0),[d,h]=P.useState(!0),[p,g]=P.useState(null),[m,y]=P.useState(0),[v,x]=P.useState({}),[w,A]=P.useState({}),[b,S]=P.useState(!1),[O,_]=P.useState(0),[T,I]=P.useState(!1),M=new URLSearchParams(window.location.search).get("playerId");qp(t??void 0,i??void 0),P.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Attempting to join game:",t);const N=X(Z,`games/${t}`),J=(await nt(N)).val();if(!J){l("Game not found");return}if(M&&J.players[M]){console.log("Rejoining as existing player:",M),o(M);return}if(J.status==="playing"){l("Game already in progress");return}const te=Object.keys(J.players||{}).length;if(te>=J.settings.playerCount){l("Game is full");return}const ae=Math.random().toString(36).substr(2,9);console.log("Creating new player:",ae);try{await Ne(N,{[`players/${ae}`]:{name:`Player ${te+1}`,joinedAt:ye(),score:0,color:Ra[te],ready:!1,online:!0,lastSeen:ye()}}),console.log("Successfully added player to game"),o(ae)}catch(he){throw console.error("Error updating game with new player:",he),he}}catch(N){console.error("Join game error:",N),l(`Failed to join game: ${N instanceof Error?N.message:"Unknown error"}`),console.error(N)}})();const R=X(Z,`games/${t}`),B=We(R,N=>{const H=N.val();if(H){a(H);const J=H.spectators||{},te=Object.values(J).filter(ae=>ae.online).length;_(te)}});return()=>{B()}},[t,M]),P.useEffect(()=>{if(!t||!i)return;const k=X(Z,`games/${t}/players/${i}`),R=X(Z,".info/connected");We(R,B=>{B.val()===!0&&(fo(k).update({online:!1,lastSeen:ye()}),Ne(k,{online:!0,lastSeen:ye()}))})},[t,i]),P.useEffect(()=>{if(!n||!t)return;Object.values(n.players).every(R=>R.online===!1)&&n.status!=="finished"&&Ne(X(Z,`games/${t}`),{status:"abandoned",lastUpdated:ye()})},[n==null?void 0:n.players]);const F=async(k,R)=>{var J,te;if(!t||!i||!n)return;if(b){console.log("Bot is thinking, please wait...");return}const B=n.currentPlayer===i,N=!n.players[n.currentPlayer].online,H=w[n.currentPlayer];if(!B||N&&H){console.log("Not your turn");return}try{const ae=ir(k,R,i),ke=[...n.lines?Array.isArray(n.lines)?n.lines:Object.values(n.lines).map(Sr=>({start:Sr.start,end:Sr.end,owner:Sr.player||Sr.owner})):[],ae],we=Rd(ke,n.settings.gridSize,Object.keys(n.players).indexOf(i),n.boxes||[]),Xe=we.length>(((J=n.boxes)==null?void 0:J.length)||0),st={...n.players};Xe&&(st[i].score+=we.length-(((te=n.boxes)==null?void 0:te.length)||0));const Pt=Object.keys(n.players),Kr=Pt.indexOf(n.currentPlayer),Yr=Xe?n.currentPlayer:Pt[(Kr+1)%Pt.length],Sn=we.length===Math.pow(n.settings.gridSize-1,2);await Ne(X(Z,`games/${t}`),{lines:ke,lastLine:ae,boxes:we,players:st,currentPlayer:Yr,status:Sn?"finished":"playing",lastUpdated:ye()}),n.players[Yr].online||setTimeout(()=>{const Sr=new CustomEvent("checkBotMove");window.dispatchEvent(Sr)},100)}catch(ae){console.error("Error creating line:",ae)}},V=async()=>{await G(),r("/online")},z=async()=>{if(!(!t||!i))try{const k=X(Z,`games/${t}/players/${i}`);await Ne(k,{online:!1,lastSeen:ye()})}catch(k){console.error("Failed to cleanup player:",k)}},G=async()=>{if(t)try{const k=X(Z,`games/${t}`),B=(await nt(k)).val();B&&Object.values(B.players).every(H=>H.online===!1)&&await Un(k)}catch(k){console.error("Failed to delete game:",k)}};P.useEffect(()=>{if((n==null?void 0:n.status)==="finished"){const k=setTimeout(()=>{z()},3e5);return()=>clearTimeout(k)}},[n==null?void 0:n.status]);const L=async()=>{if(!t||!i||!n)return;const k=X(Z,`games/${t}/players/${i}`);await Ne(k,{ready:!n.players[i].ready})};P.useEffect(()=>{if(!n||!t||n.status!=="waiting")return;const k=Object.entries(n.players).filter(([N,H])=>H.online),R=k.every(([N,H])=>H.ready),B=k.length>=2;if(R&&B){const N=X(Z,`games/${t}`),H=Object.fromEntries(Object.entries(n.players).filter(([te,ae])=>ae.online)),J={status:"playing",currentPlayer:k[0][0],players:H,lines:[],boxes:[],lastUpdated:ye()};Ne(N,J).then(()=>{console.log("Game started successfully"),u(!1)}).catch(te=>{console.error("Error starting game:",te)})}},[n==null?void 0:n.players]),P.useEffect(()=>{n&&console.log("Current game state:",n)},[n]),P.useEffect(()=>{(n==null?void 0:n.status)==="playing"&&c&&u(!1)},[n==null?void 0:n.status]),P.useEffect(()=>{const k=()=>{i&&t&&Ne(X(Z,`games/${t}/players/${i}`),{online:!1,lastSeen:ye()})};return window.addEventListener("beforeunload",k),()=>{window.removeEventListener("beforeunload",k),i&&t&&!window.location.href.includes(`/online-game/${t}`)&&Ne(X(Z,`games/${t}/players/${i}`),{online:!1,lastSeen:ye()})}},[t,i]),console.log("Render conditions:",{status:n==null?void 0:n.status,hasLines:(xe=n==null?void 0:n.lines)==null?void 0:xe.length,hasBoxes:(Se=n==null?void 0:n.boxes)==null?void 0:Se.length});const Y=async()=>{if(!(!t||!i||!n))try{const k=X(Z,`games/${t}/nextGame`),B=(await nt(k)).val();if(B){const N=X(Z,`games/${B}`),J=(await nt(N)).val(),te=uD(J.players||{});await Ne(N,{[`players/${i}`]:{...n.players[i],score:0,ready:!1,online:!0,color:te,lastSeen:ye()}}),await Ne(X(Z,`games/${t}`),{[`playAgainPlayers/${i}`]:{name:n.players[i].name,newGameId:B,timestamp:ye()}}),r(`/online-game/${B}?playerId=${i}`)}else{const N=cD(),H=X(Z,`games/${N}`),J={status:"waiting",settings:n.settings,players:{[i]:{...n.players[i],score:0,ready:!1,online:!0,lastSeen:ye()}},currentPlayer:i,lines:[],boxes:[],createdAt:ye(),previousGameId:t};await Promise.all([Ue(H,J),Ue(k,N),Ne(X(Z,`games/${t}`),{[`playAgainPlayers/${i}`]:{name:n.players[i].name,newGameId:N,timestamp:ye()}})]),r(`/online-game/${N}?playerId=${i}`)}}catch(k){console.error("Error setting up new game:",k)}};P.useEffect(()=>{if(!t)return;const k=X(Z,`games/${t}/playAgainPlayers`),R=We(k,B=>{const N=B.val();N&&x(N)});return()=>R()},[t]);const W=async k=>{if(!t||!i||!n)return;const R=X(Z,`games/${t}`),B={playerId:i,message:k,timestamp:Date.now()};try{await Ne(R,{messages:[...n.messages||[],B]})}catch(N){console.error("Error sending message:",N)}};P.useEffect(()=>{if(!(n!=null&&n.messages)||!i)return;const k=n.messages,R=k[k.length-1];R&&R.timestamp>m&&(g(R),y(R.timestamp),setTimeout(()=>g(null),3e3))},[n==null?void 0:n.messages]),P.useEffect(()=>{if(!n||n.status!=="playing")return;const k=async()=>{const B=n.currentPlayer,N=n.players[B];if(!N.online&&!w[B]&&A(H=>({...H,[B]:!0})),N&&!N.online&&w[B]&&!b){S(!0);try{const H={currentPlayer:Object.keys(n.players).indexOf(B),players:Object.entries(n.players).map(([te,ae])=>({id:Object.keys(n.players).indexOf(te),name:ae.name,score:ae.score,color:ae.color,online:ae.online})),lines:n.lines||[],boxes:n.boxes||[],gridSize:n.settings.gridSize,gameOver:n.status==="finished"},J=no(H);J&&(await new Promise(te=>setTimeout(te,1e3)),await ne(J,B))}catch(H){console.error("Error in bot move:",H)}finally{S(!1)}}};k();const R=setInterval(k,2e3);return()=>clearInterval(R)},[n==null?void 0:n.currentPlayer,n==null?void 0:n.lines,n==null?void 0:n.boxes,n==null?void 0:n.status,w,b]),P.useEffect(()=>{if(!n||!t)return;const k=n.currentPlayer;!k||!k.startsWith("bot_")||n.status==="playing"&&setTimeout(async()=>{try{const R={currentPlayer:Object.keys(n.players).indexOf(k),players:Object.entries(n.players).map(([N,H])=>({id:Object.keys(n.players).indexOf(N),name:H.name,score:H.score,color:H.color,online:H.online})),lines:n.lines||[],boxes:n.boxes||[],gridSize:n.settings.gridSize,gameOver:n.status==="finished"},B=no(R);B&&await ne(B,k)}catch(R){console.error("Error making bot move:",R)}},1e3)},[n==null?void 0:n.currentPlayer,n==null?void 0:n.status,t]);const ne=async(k,R)=>{var B,N;if(!(!t||!n))try{const H=ir(k.start,k.end,R),te=[...n.lines?Array.isArray(n.lines)?n.lines:Object.values(n.lines).map(we=>({start:we.start,end:we.end,owner:we.player||we.owner})):[],H],ae=Rd(te,n.settings.gridSize,Object.keys(n.players).indexOf(R),n.boxes||[]),he=ae.length>(((B=n.boxes)==null?void 0:B.length)||0),ke={...n.players};if(he){if(ke[R].score+=ae.length-(((N=n.boxes)==null?void 0:N.length)||0),await Ne(X(Z,`games/${t}`),{lines:te,lastLine:H,boxes:ae,players:ke,currentPlayer:R,status:ae.length===Math.pow(n.settings.gridSize-1,2)?"finished":"playing",lastUpdated:ye()}),ae.length<Math.pow(n.settings.gridSize-1,2)){const we=new CustomEvent("checkBotMove");window.dispatchEvent(we)}}else{const we=Object.keys(n.players),Xe=we.indexOf(R),st=we[(Xe+1)%we.length];await Ne(X(Z,`games/${t}`),{lines:te,lastLine:H,boxes:ae,players:ke,currentPlayer:st,status:"playing",lastUpdated:ye()})}}catch(H){console.error("Error in bot move:",H)}};P.useEffect(()=>{if(!t||!i)return;const k=X(Z,`games/${t}/players/${i}`),R=X(Z,".info/connected");return We(R,B=>{B.val()&&(Ne(k,{online:!0,lastActive:ye(),botSubstituted:!1}),w[i]&&A(N=>{const H={...N};return delete H[i],H}),fo(k).update({online:!1,lastActive:ye()}))}),()=>{}},[t,i]),P.useEffect(()=>{const k=()=>{if(n&&n.currentPlayer){const R=n.currentPlayer.startsWith("bot_"),B=w[n.currentPlayer];if((R||B)&&n.status==="playing"){const N={currentPlayer:Object.keys(n.players).indexOf(n.currentPlayer),players:Object.entries(n.players).map(([J,te])=>({id:Object.keys(n.players).indexOf(J),name:te.name,score:te.score,color:te.color,online:te.online})),lines:n.lines||[],boxes:n.boxes||[],gridSize:n.settings.gridSize,gameOver:n.status==="finished"},H=no(N);H&&ne(H,n.currentPlayer)}}};return window.addEventListener("checkBotMove",k),()=>window.removeEventListener("checkBotMove",k)},[n,w]),P.useEffect(()=>(n!=null&&n.settings&&ml.trackGameStart({gameId:t||"unknown",gridSize:n.settings.gridSize,playerCount:n.settings.playerCount,gameMode:"online",completed:!1,moves:0,duration:0,boxesCompleted:0,winner:null}),()=>{var k,R;n!=null&&n.settings&&ml.trackGameEnd({gameId:t||"unknown",gridSize:n.settings.gridSize,playerCount:n.settings.playerCount,gameMode:"online",completed:n.status==="finished",moves:((k=n.lines)==null?void 0:k.length)||0,duration:(Date.now()-e)/1e3,boxesCompleted:((R=n.boxes)==null?void 0:R.length)||0,winner:n.status==="finished"?ie():null})}),[]);const ie=()=>n!=null&&n.players?Object.entries(n.players).reduce((B,N)=>B[1].score>N[1].score?B:N)[1].name:null,ee=()=>{if(!n||!T)return null;const k=n.spectators||{},R=Object.entries(k).filter(([,B])=>B.online);return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx(zn,{className:"text-indigo-500"}),"Spectators (",R.length,")"]}),f.jsx("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"âœ•"})]}),f.jsx("div",{className:"max-h-64 overflow-y-auto",children:R.length>0?f.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:R.map(([B,N])=>f.jsxs("li",{className:"py-3 flex items-center gap-3",children:[f.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),f.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:N.name}),f.jsxs("span",{className:"text-xs text-gray-500",children:["Joined ",new Date(N.joinedAt).toLocaleTimeString()]})]},B))}):f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No spectators watching"})}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Close"})})]})})})},oe=()=>O===0?null:f.jsxs("div",{className:"mt-4 p-3 bg-indigo-50 dark:bg-indigo-900 rounded-lg flex items-center justify-between text-indigo-700 dark:text-indigo-200 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(zn,{className:"text-indigo-500"}),f.jsxs("span",{children:[O," ",O===1?"person":"people"," watching this game"]})]}),f.jsx("button",{onClick:()=>I(!0),className:"px-2 py-1 bg-indigo-200 dark:bg-indigo-700 rounded text-xs hover:bg-indigo-300 dark:hover:bg-indigo-600 transition-colors",children:"View Spectators"})]});return f.jsxs(f.Fragment,{children:[s?f.jsx("div",{className:"min-h-screen bg-[#f5f3eb] dark:bg-gray-900 p-8 flex items-center justify-center",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-xl text-center",children:[f.jsx("h2",{className:"text-2xl font-handwritten text-red-500 mb-4",children:s}),f.jsx("button",{onClick:()=>r("/online"),className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600",children:"Back to Lobby"})]})}):n?n.status==="playing"||n.status==="finished"?f.jsxs(f.Fragment,{children:[f.jsx(Hp,{gameId:t,gameState:{...n,currentPlayer:Object.keys(n.players).indexOf(n.currentPlayer),players:Object.entries(n.players||{}).map(([k,R])=>({id:Object.keys(n.players).indexOf(k),name:R.name,score:R.score||0,color:R.color||"#000000",online:R.online||!1})),lines:Object.entries(n.lines||{}).map(([k,R])=>({start:R.start,end:R.end,x:R.start.x,y:R.start.y,isHorizontal:R.start.y===R.end.y,owner:Object.keys(n.players).indexOf(R.player||R.owner)})),boxes:Array.isArray(n.boxes)?n.boxes:[],gridSize:(($=n.settings)==null?void 0:$.gridSize)||5,gameOver:n.status==="finished"},botSubstitutions:Object.fromEntries(Object.entries(w).map(([k,R])=>[Object.keys(n.players).indexOf(k).toString(),R])),playerId:i?Object.keys(n.players).indexOf(i).toString():void 0,onLineClick:F,settings:{gridSize:n.settings.gridSize,playerCount:n.settings.playerCount,playerNames:Object.values(n.players).map(k=>k.name),lineWidth:3,theme:"light",soundEnabled:!0,gridLines:!1,animations:!0,botEnabled:!1,quickStart:!1},onSettingsChange:()=>{},resetGame:Y,isBotMoving:b,onBackToMenu:V,showGameOverModal:d,setShowGameOverModal:h,playAgainPlayers:v,onPlayAgain:Y,playAgainInfo:n.playAgainPlayers}),p&&f.jsx("div",{className:"fixed bottom-20 right-4 z-50 pointer-events-none",children:f.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-3 
                                         relative animate-float-in max-w-[250px]`,children:[f.jsx("div",{className:`absolute -bottom-2 right-4 transform 
                                             w-4 h-4 bg-white dark:bg-gray-800 rotate-45`}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:n.players[p.playerId].color+"20"},children:f.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:n.players[p.playerId].color}})})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:`font-handwritten font-bold text-gray-900 dark:text-white 
                                                    text-sm sm:text-base md:text-lg truncate`,children:n.players[p.playerId].name}),f.jsx("div",{className:`font-handwritten text-gray-600 dark:text-gray-300 
                                                    text-sm sm:text-base md:text-lg break-words`,children:p.message})]})]})]})}),f.jsx(lD,{onSendMessage:W}),f.jsx(oe,{})]}):f.jsxs("div",{className:"min-h-screen bg-[#f5f3eb] dark:bg-gray-900 p-8 relative",children:[f.jsxs("div",{className:"fixed inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-graph-paper opacity-50 dark:opacity-5"}),f.jsx("div",{className:"absolute inset-0",children:Array.from({length:8}).map((k,R)=>f.jsx("div",{className:"absolute",children:f.jsxs("div",{className:`w-24 h-24 border-2 border-gray-400/40 dark:border-gray-600 rounded-lg 
                                             grid grid-cols-2 grid-rows-2 gap-2 p-2 transform rotate-12`,style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,opacity:.4},children:[f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"})]})},R))})]}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("button",{onClick:V,className:`fixed top-4 left-4 sm:absolute sm:-left-4 sm:top-0 
                             bg-white dark:bg-gray-800 px-4 py-2 rounded-lg 
                             shadow-lg transform hover:scale-105 transition-all duration-200 
                             font-handwritten text-gray-800 dark:text-white hover:-rotate-2
                             z-50 border border-gray-100 dark:border-gray-700
                             hover:shadow-xl`,children:"â† Back"}),f.jsxs("div",{className:"max-w-md mx-auto bg-white dark:bg-gray-800 p-8 rounded-lg shadow-xl transform -rotate-1",children:[f.jsx("h2",{className:"title-medium mb-8",children:"Waiting Room"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"transform hover:-rotate-1 transition-transform",children:[f.jsx("h3",{className:"text-xl font-handwritten mb-2 dark:text-white",children:"Room Code:"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("code",{className:"flex-1 bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded font-mono text-center",children:t}),f.jsx("button",{onClick:()=>navigator.clipboard.writeText(t||""),className:`p-2 bg-blue-500 text-white rounded hover:bg-blue-600 
                                                 transform transition-all duration-200 hover:scale-105`,children:"Copy"})]})]}),f.jsxs("div",{className:"transform hover:-rotate-1 transition-transform",children:[f.jsx("h3",{className:"text-xl font-handwritten mb-2 dark:text-white",children:"Players:"}),f.jsx("div",{className:"space-y-2",children:Object.entries(n.players).filter(([k,R])=>R.online).map(([k,R])=>{const B=Gp(R.name);return f.jsxs("div",{className:`flex items-center justify-between p-3 
                                                       ${B!=null&&B.special?"animate-pulse":""}
                                                       bg-gray-50 dark:bg-gray-700 rounded-lg transform 
                                                       transition-all duration-200 hover:-rotate-1 hover:shadow-md`,children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:R.color}}),f.jsxs("span",{className:"font-handwritten text-lg dark:text-white",children:[(B==null?void 0:B.displayName)||R.name,B&&f.jsx("span",{className:"ml-2 text-sm opacity-75",children:B.title})]})]}),f.jsx("div",{className:`px-3 py-1 rounded-full font-handwritten
                                                ${R.ready?"bg-green-500 text-white":"bg-gray-200 text-gray-700"}`,children:R.ready?"Ready!":"Not Ready"})]},k)})})]}),f.jsxs("div",{className:"text-center space-y-4",children:[f.jsxs("p",{className:"font-handwritten text-lg dark:text-white",children:[Object.values(n.players).filter(k=>k.online).length," / ",n.settings.playerCount," Players"]}),f.jsx("button",{onClick:L,className:`w-full px-6 py-3 rounded-lg font-handwritten text-lg text-white
                                            transform transition-all duration-200 hover:scale-105
                                            ${i&&((K=n.players[i])!=null&&K.ready)?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"}`,children:i&&((D=n.players[i])!=null&&D.ready)?"Cancel Ready":"Ready"})]})]})]})]})]}):f.jsx("div",{className:"min-h-screen bg-[#f5f3eb] dark:bg-gray-900 p-8 flex items-center justify-center",children:f.jsx("div",{className:"text-2xl font-handwritten text-gray-800 dark:text-white",children:"Loading..."})}),f.jsx(ee,{})]})},fD=async()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t=0;const r=10;for(;t<r;){const n=Array.from({length:4},()=>e.charAt(Math.floor(Math.random()*e.length))).join("");if(!(await nt(X(Z,`games/${n}`))).exists())return n;t++}throw new Error("Unable to generate unique room code")},hD=()=>{const e=br(),[t,r]=P.useState(()=>localStorage.getItem(Or.PLAYER_NAME)||""),[n,a]=P.useState(5),[i,o]=P.useState(2),[s,l]=P.useState(!1),[c,u]=P.useState(null),[d,h]=P.useState(!1),[p]=P.useState(()=>Math.random().toString(36).substr(2,9));qp(void 0,p);const g=y=>{const v=y.target.value;r(v),localStorage.setItem(Or.PLAYER_NAME,v)},m=async y=>{if(y.preventDefault(),!t.trim()){u("Please enter your name");return}l(!0),u(null);try{const v=Math.random().toString(36).substr(2,9),x=await fD(),w=X(Z,`games/${x}`),A={status:"waiting",settings:{gridSize:n,playerCount:i,isPrivate:d},players:{[v]:{name:t,joinedAt:ye(),score:0,color:Ra[0],ready:!1,online:!0,lastSeen:ye()}},currentPlayer:v,lines:[],boxes:[],createdAt:ye()};console.log("Creating game with data:",A);try{await Ue(w,A),console.log("Game created successfully"),e(`/online-game/${x}?playerId=${v}`)}catch(b){throw console.error("Error creating game:",b),b}}catch(v){console.error("Game creation error:",v),u(v instanceof Error?v.message:"Failed to create game"),l(!1)}};return f.jsxs("div",{className:"min-h-screen bg-[#f5f3eb] dark:bg-gray-900 p-8 relative",children:[f.jsxs("div",{className:"fixed inset-0",children:[f.jsx("div",{className:"absolute inset-0 bg-graph-paper opacity-50 dark:opacity-5"}),f.jsx("div",{className:"absolute inset-0",children:Array.from({length:8}).map((y,v)=>f.jsx("div",{className:"absolute",children:f.jsxs("div",{className:`w-24 h-24 border-2 border-gray-400/40 dark:border-gray-600 rounded-lg 
                                         grid grid-cols-2 grid-rows-2 gap-2 p-2 transform rotate-12`,style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,opacity:.4},children:[f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"}),f.jsx("div",{className:"bg-gray-400/40 dark:bg-gray-600 rounded-full"})]})},v))})]}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("button",{onClick:()=>e("/online"),className:`fixed top-4 left-4 sm:absolute sm:-left-4 sm:top-0 
                         bg-white dark:bg-gray-800 px-4 py-2 rounded-lg 
                         shadow-lg transform hover:scale-105 transition-all duration-200 
                         font-handwritten text-gray-800 dark:text-white hover:-rotate-2
                         z-50 border border-gray-100 dark:border-gray-700
                         hover:shadow-xl`,children:"â† Back"}),f.jsxs("form",{onSubmit:m,className:`max-w-md mx-auto space-y-6 bg-white dark:bg-gray-800 p-8 rounded-lg 
                             shadow-xl transform -rotate-1`,children:[f.jsx("h2",{className:"title-medium mb-8",children:"Create Game"}),c&&f.jsx("div",{className:"text-red-500 text-center mb-4 font-handwritten",children:c}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"transform hover:-rotate-1 transition-transform",children:[f.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2 font-handwritten text-lg",children:"Your Name"}),f.jsx("input",{type:"text",value:t,onChange:g,placeholder:"Your Name",className:`w-full px-4 py-2 rounded-lg border font-handwritten text-lg
                                         bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white
                                         transform transition-all duration-200 hover:scale-105`,maxLength:20,required:!0})]}),f.jsxs("div",{className:"transform hover:-rotate-1 transition-transform",children:[f.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2 font-handwritten text-lg",children:"Grid Size"}),f.jsx("select",{value:n,onChange:y=>a(Number(y.target.value)),className:`w-full px-4 py-2 rounded-lg border font-handwritten text-lg
                                         bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white
                                         transform transition-all duration-200 hover:scale-105`,children:[3,4,5,6,7,8].map(y=>f.jsxs("option",{value:y,children:[y,"x",y]},y))})]}),f.jsxs("div",{className:"transform hover:-rotate-1 transition-transform",children:[f.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2 font-handwritten text-lg",children:"Max Players"}),f.jsx("select",{value:i,onChange:y=>o(Number(y.target.value)),className:`w-full px-4 py-2 rounded-lg border font-handwritten text-lg
                                         bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white
                                         transform transition-all duration-200 hover:scale-105`,children:[2,3,4].map(y=>f.jsxs("option",{value:y,children:[y," Players"]},y))})]}),f.jsx("div",{className:"transform hover:-rotate-1 transition-transform",children:f.jsxs("label",{className:`flex items-center space-x-2 text-gray-700 dark:text-gray-300 
                                          font-handwritten text-lg cursor-pointer`,children:[f.jsx("input",{type:"checkbox",checked:d,onChange:y=>h(y.target.checked),className:`w-5 h-5 text-blue-500 rounded focus:ring-blue-500
                                             transform transition-all duration-200 hover:scale-110`}),f.jsx("span",{children:"Private Room (Only accessible with room code)"})]})})]}),f.jsx("div",{className:"flex justify-center space-x-4 pt-4",children:f.jsx("button",{type:"submit",disabled:s,className:`px-8 py-3 rounded-lg font-handwritten text-lg text-white
                                     transform transition-all duration-200 
                                     ${s?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 hover:scale-105 hover:-rotate-1"}`,children:s?"Creating...":"Create Game"})})]})]})]})},nd={username:"shery",password:"admin1508",secretKey:"dots-and-boxes-admin"},pD=()=>{const[e,t]=P.useState({username:"",password:"",secretKey:""}),[r,n]=P.useState(""),a=br(),i=o=>{o.preventDefault(),e.username===nd.username&&e.password===nd.password&&e.secretKey===nd.secretKey?(localStorage.setItem("adminSession",JSON.stringify({timestamp:Date.now(),token:btoa(`${e.username}-${Date.now()}`)})),a("/admin-panel")):n("Invalid credentials")};return f.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center p-4",children:f.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"Admin Access"}),r&&f.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:r}),f.jsxs("form",{onSubmit:i,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),f.jsx("input",{type:"text",value:e.username,onChange:o=>t({...e,username:o.target.value}),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),f.jsx("input",{type:"password",value:e.password,onChange:o=>t({...e,password:o.target.value}),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2",children:"Secret Key"}),f.jsx("input",{type:"password",value:e.secretKey,onChange:o=>t({...e,secretKey:o.target.value}),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"})]}),f.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600",children:"Login"})]})]})})};function AP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=AP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function be(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=AP(e))&&(n&&(n+=" "),n+=t);return n}var mD=Array.isArray,jt=mD,gD=typeof Es=="object"&&Es&&Es.Object===Object&&Es,OP=gD,yD=OP,vD=typeof self=="object"&&self&&self.Object===Object&&self,bD=yD||vD||Function("return this")(),xr=bD,xD=xr,wD=xD.Symbol,vs=wD,cv=vs,_P=Object.prototype,SD=_P.hasOwnProperty,PD=_P.toString,Ri=cv?cv.toStringTag:void 0;function AD(e){var t=SD.call(e,Ri),r=e[Ri];try{e[Ri]=void 0;var n=!0}catch{}var a=PD.call(e);return n&&(t?e[Ri]=r:delete e[Ri]),a}var OD=AD,_D=Object.prototype,jD=_D.toString;function TD(e){return jD.call(e)}var kD=TD,uv=vs,ED=OD,CD=kD,ND="[object Null]",MD="[object Undefined]",dv=uv?uv.toStringTag:void 0;function ID(e){return e==null?e===void 0?MD:ND:dv&&dv in Object(e)?ED(e):CD(e)}var Wr=ID;function $D(e){return e!=null&&typeof e=="object"}var Gr=$D,RD=Wr,DD=Gr,LD="[object Symbol]";function BD(e){return typeof e=="symbol"||DD(e)&&RD(e)==LD}var xi=BD,FD=jt,UD=xi,VD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zD=/^\w*$/;function WD(e,t){if(FD(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||UD(e)?!0:zD.test(e)||!VD.test(e)||t!=null&&e in Object(t)}var Kp=WD;function GD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var vn=GD;const wi=Ce(vn);var HD=Wr,qD=vn,KD="[object AsyncFunction]",YD="[object Function]",XD="[object GeneratorFunction]",JD="[object Proxy]";function ZD(e){if(!qD(e))return!1;var t=HD(e);return t==YD||t==XD||t==KD||t==JD}var Yp=ZD;const de=Ce(Yp);var QD=xr,eL=QD["__core-js_shared__"],tL=eL,ad=tL,fv=function(){var e=/[^.]+$/.exec(ad&&ad.keys&&ad.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function rL(e){return!!fv&&fv in e}var nL=rL,aL=Function.prototype,iL=aL.toString;function oL(e){if(e!=null){try{return iL.call(e)}catch{}try{return e+""}catch{}}return""}var jP=oL,sL=Yp,lL=nL,cL=vn,uL=jP,dL=/[\\^$.*+?()[\]{}|]/g,fL=/^\[object .+?Constructor\]$/,hL=Function.prototype,pL=Object.prototype,mL=hL.toString,gL=pL.hasOwnProperty,yL=RegExp("^"+mL.call(gL).replace(dL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vL(e){if(!cL(e)||lL(e))return!1;var t=sL(e)?yL:fL;return t.test(uL(e))}var bL=vL;function xL(e,t){return e==null?void 0:e[t]}var wL=xL,SL=bL,PL=wL;function AL(e,t){var r=PL(e,t);return SL(r)?r:void 0}var aa=AL,OL=aa,_L=OL(Object,"create"),Fc=_L,hv=Fc;function jL(){this.__data__=hv?hv(null):{},this.size=0}var TL=jL;function kL(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var EL=kL,CL=Fc,NL="__lodash_hash_undefined__",ML=Object.prototype,IL=ML.hasOwnProperty;function $L(e){var t=this.__data__;if(CL){var r=t[e];return r===NL?void 0:r}return IL.call(t,e)?t[e]:void 0}var RL=$L,DL=Fc,LL=Object.prototype,BL=LL.hasOwnProperty;function FL(e){var t=this.__data__;return DL?t[e]!==void 0:BL.call(t,e)}var UL=FL,VL=Fc,zL="__lodash_hash_undefined__";function WL(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=VL&&t===void 0?zL:t,this}var GL=WL,HL=TL,qL=EL,KL=RL,YL=UL,XL=GL;function Si(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Si.prototype.clear=HL;Si.prototype.delete=qL;Si.prototype.get=KL;Si.prototype.has=YL;Si.prototype.set=XL;var JL=Si;function ZL(){this.__data__=[],this.size=0}var QL=ZL;function e4(e,t){return e===t||e!==e&&t!==t}var Xp=e4,t4=Xp;function r4(e,t){for(var r=e.length;r--;)if(t4(e[r][0],t))return r;return-1}var Uc=r4,n4=Uc,a4=Array.prototype,i4=a4.splice;function o4(e){var t=this.__data__,r=n4(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():i4.call(t,r,1),--this.size,!0}var s4=o4,l4=Uc;function c4(e){var t=this.__data__,r=l4(t,e);return r<0?void 0:t[r][1]}var u4=c4,d4=Uc;function f4(e){return d4(this.__data__,e)>-1}var h4=f4,p4=Uc;function m4(e,t){var r=this.__data__,n=p4(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var g4=m4,y4=QL,v4=s4,b4=u4,x4=h4,w4=g4;function Pi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pi.prototype.clear=y4;Pi.prototype.delete=v4;Pi.prototype.get=b4;Pi.prototype.has=x4;Pi.prototype.set=w4;var Vc=Pi,S4=aa,P4=xr,A4=S4(P4,"Map"),Jp=A4,pv=JL,O4=Vc,_4=Jp;function j4(){this.size=0,this.__data__={hash:new pv,map:new(_4||O4),string:new pv}}var T4=j4;function k4(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var E4=k4,C4=E4;function N4(e,t){var r=e.__data__;return C4(t)?r[typeof t=="string"?"string":"hash"]:r.map}var zc=N4,M4=zc;function I4(e){var t=M4(this,e).delete(e);return this.size-=t?1:0,t}var $4=I4,R4=zc;function D4(e){return R4(this,e).get(e)}var L4=D4,B4=zc;function F4(e){return B4(this,e).has(e)}var U4=F4,V4=zc;function z4(e,t){var r=V4(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var W4=z4,G4=T4,H4=$4,q4=L4,K4=U4,Y4=W4;function Ai(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ai.prototype.clear=G4;Ai.prototype.delete=H4;Ai.prototype.get=q4;Ai.prototype.has=K4;Ai.prototype.set=Y4;var Zp=Ai,TP=Zp,X4="Expected a function";function Qp(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(X4);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Qp.Cache||TP),r}Qp.Cache=TP;var kP=Qp;const J4=Ce(kP);var Z4=kP,Q4=500;function e3(e){var t=Z4(e,function(n){return r.size===Q4&&r.clear(),n}),r=t.cache;return t}var t3=e3,r3=t3,n3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a3=/\\(\\)?/g,i3=r3(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(n3,function(r,n,a,i){t.push(a?i.replace(a3,"$1"):n||r)}),t}),o3=i3;function s3(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var em=s3,mv=vs,l3=em,c3=jt,u3=xi,d3=1/0,gv=mv?mv.prototype:void 0,yv=gv?gv.toString:void 0;function EP(e){if(typeof e=="string")return e;if(c3(e))return l3(e,EP)+"";if(u3(e))return yv?yv.call(e):"";var t=e+"";return t=="0"&&1/e==-d3?"-0":t}var f3=EP,h3=f3;function p3(e){return e==null?"":h3(e)}var CP=p3,m3=jt,g3=Kp,y3=o3,v3=CP;function b3(e,t){return m3(e)?e:g3(e,t)?[e]:y3(v3(e))}var NP=b3,x3=xi,w3=1/0;function S3(e){if(typeof e=="string"||x3(e))return e;var t=e+"";return t=="0"&&1/e==-w3?"-0":t}var Wc=S3,P3=NP,A3=Wc;function O3(e,t){t=P3(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[A3(t[r++])];return r&&r==n?e:void 0}var tm=O3,_3=tm;function j3(e,t,r){var n=e==null?void 0:_3(e,t);return n===void 0?r:n}var MP=j3;const Rt=Ce(MP);function T3(e){return e==null}var k3=T3;const ge=Ce(k3);var E3=Wr,C3=jt,N3=Gr,M3="[object String]";function I3(e){return typeof e=="string"||!C3(e)&&N3(e)&&E3(e)==M3}var $3=I3;const bs=Ce($3);var IP={exports:{}},Te={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=Symbol.for("react.element"),nm=Symbol.for("react.portal"),Gc=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),qc=Symbol.for("react.profiler"),Kc=Symbol.for("react.provider"),Yc=Symbol.for("react.context"),R3=Symbol.for("react.server_context"),Xc=Symbol.for("react.forward_ref"),Jc=Symbol.for("react.suspense"),Zc=Symbol.for("react.suspense_list"),Qc=Symbol.for("react.memo"),eu=Symbol.for("react.lazy"),D3=Symbol.for("react.offscreen"),$P;$P=Symbol.for("react.module.reference");function Kt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rm:switch(e=e.type,e){case Gc:case qc:case Hc:case Jc:case Zc:return e;default:switch(e=e&&e.$$typeof,e){case R3:case Yc:case Xc:case eu:case Qc:case Kc:return e;default:return t}}case nm:return t}}}Te.ContextConsumer=Yc;Te.ContextProvider=Kc;Te.Element=rm;Te.ForwardRef=Xc;Te.Fragment=Gc;Te.Lazy=eu;Te.Memo=Qc;Te.Portal=nm;Te.Profiler=qc;Te.StrictMode=Hc;Te.Suspense=Jc;Te.SuspenseList=Zc;Te.isAsyncMode=function(){return!1};Te.isConcurrentMode=function(){return!1};Te.isContextConsumer=function(e){return Kt(e)===Yc};Te.isContextProvider=function(e){return Kt(e)===Kc};Te.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rm};Te.isForwardRef=function(e){return Kt(e)===Xc};Te.isFragment=function(e){return Kt(e)===Gc};Te.isLazy=function(e){return Kt(e)===eu};Te.isMemo=function(e){return Kt(e)===Qc};Te.isPortal=function(e){return Kt(e)===nm};Te.isProfiler=function(e){return Kt(e)===qc};Te.isStrictMode=function(e){return Kt(e)===Hc};Te.isSuspense=function(e){return Kt(e)===Jc};Te.isSuspenseList=function(e){return Kt(e)===Zc};Te.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gc||e===qc||e===Hc||e===Jc||e===Zc||e===D3||typeof e=="object"&&e!==null&&(e.$$typeof===eu||e.$$typeof===Qc||e.$$typeof===Kc||e.$$typeof===Yc||e.$$typeof===Xc||e.$$typeof===$P||e.getModuleId!==void 0)};Te.typeOf=Kt;IP.exports=Te;var L3=IP.exports,B3=Wr,F3=Gr,U3="[object Number]";function V3(e){return typeof e=="number"||F3(e)&&B3(e)==U3}var RP=V3;const z3=Ce(RP);var W3=RP;function G3(e){return W3(e)&&e!=+e}var H3=G3;const xs=Ce(H3);var bt=function(t){return t===0?0:t>0?1:-1},hf=function(t){return bs(t)&&t.indexOf("%")===t.length-1},Q=function(t){return z3(t)&&!xs(t)},it=function(t){return Q(t)||bs(t)},q3=0,Oi=function(t){var r=++q3;return"".concat(t||"").concat(r)},xt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(t)&&!bs(t))return n;var i;if(hf(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return xs(i)&&(i=n),a&&i>r&&(i=r),i},on=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},K3=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Nt=function(t,r){return Q(t)&&Q(r)?function(n){return t+n*(r-t)}:function(){return r}};function Pl(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Rt(n,t))===r})}function Ea(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}var Y3=["viewBox","children"],X3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vv=["points","pathLength"],id={svg:Y3,polygon:vv,polyline:vv},am=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Al=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(P.isValidElement(t)&&(n=t.props),!wi(n))return null;var a={};return Object.keys(n).forEach(function(i){am.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},J3=function(t,r,n){return function(a){return t(r,n,a),null}},Jn=function(t,r,n){if(!wi(t)||pf(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];am.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=J3(o,r,n))}),a},Z3=["children"],Q3=["children"];function bv(e,t){if(e==null)return{};var r=e5(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}var xv={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},un=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},wv=null,od=null,im=function e(t){if(t===wv&&Array.isArray(od))return od;var r=[];return P.Children.forEach(t,function(n){ge(n)||(L3.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),od=r,wv=t,r};function Dt(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return un(a)}):n=[un(t)],im(e).forEach(function(a){var i=Rt(a,"type.displayName")||Rt(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ct(e,t){var r=Dt(e,t);return r[0]}var Sv=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Q(n)||n<=0||!Q(a)||a<=0)},t5=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],r5=function(t){return t&&t.type&&bs(t.type)&&t5.indexOf(t.type)>=0},n5=function(t){return t&&mf(t)==="object"&&"clipDot"in t},a5=function(t,r,n,a){var i,o=(i=id==null?void 0:id[a])!==null&&i!==void 0?i:[];return!de(t)&&(a&&o.includes(r)||X3.includes(r))||n&&am.includes(r)},se=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(P.isValidElement(t)&&(a=t.props),!wi(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;a5((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},gf=function e(t,r){if(t===r)return!0;var n=P.Children.count(t);if(n!==P.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Pv(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Pv(i,o))return!1}return!0},Pv=function(t,r){if(ge(t)&&ge(r))return!0;if(!ge(t)&&!ge(r)){var n=t.props||{},a=n.children,i=bv(n,Z3),o=r.props||{},s=o.children,l=bv(o,Q3);return a&&s?Ea(i,l)&&gf(a,s):!a&&!s?Ea(i,l):!1}return!1},Av=function(t,r){var n=[],a={};return im(t).forEach(function(i,o){if(r5(i))n.push(i);else if(i){var s=un(i.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!a[s])){var d=c(i,s,o);n.push(d),a[s]=!0}}}),n},i5=function(t){var r=t&&t.type;return r&&xv[r]?xv[r]:null},o5=function(t,r){return im(r).indexOf(t)},s5=["children","width","height","viewBox","className","style","title","desc"];function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(this,arguments)}function l5(e,t){if(e==null)return{};var r=c5(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vf(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,c=l5(e,s5),u=a||{width:r,height:n,x:0,y:0},d=be("recharts-surface",i);return j.createElement("svg",yf({},se(c,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),j.createElement("title",null,s),j.createElement("desc",null,l),t)}var u5=["children","className"];function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bf.apply(this,arguments)}function d5(e,t){if(e==null)return{};var r=f5(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Pe=j.forwardRef(function(e,t){var r=e.children,n=e.className,a=d5(e,u5),i=be("recharts-layer",n);return j.createElement("g",bf({className:i},se(a,!0),{ref:t}),r)}),gn=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function h5(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var p5=h5,m5=p5;function g5(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:m5(e,t,r)}var y5=g5,v5="\\ud800-\\udfff",b5="\\u0300-\\u036f",x5="\\ufe20-\\ufe2f",w5="\\u20d0-\\u20ff",S5=b5+x5+w5,P5="\\ufe0e\\ufe0f",A5="\\u200d",O5=RegExp("["+A5+v5+S5+P5+"]");function _5(e){return O5.test(e)}var DP=_5;function j5(e){return e.split("")}var T5=j5,LP="\\ud800-\\udfff",k5="\\u0300-\\u036f",E5="\\ufe20-\\ufe2f",C5="\\u20d0-\\u20ff",N5=k5+E5+C5,M5="\\ufe0e\\ufe0f",I5="["+LP+"]",xf="["+N5+"]",wf="\\ud83c[\\udffb-\\udfff]",$5="(?:"+xf+"|"+wf+")",BP="[^"+LP+"]",FP="(?:\\ud83c[\\udde6-\\uddff]){2}",UP="[\\ud800-\\udbff][\\udc00-\\udfff]",R5="\\u200d",VP=$5+"?",zP="["+M5+"]?",D5="(?:"+R5+"(?:"+[BP,FP,UP].join("|")+")"+zP+VP+")*",L5=zP+VP+D5,B5="(?:"+[BP+xf+"?",xf,FP,UP,I5].join("|")+")",F5=RegExp(wf+"(?="+wf+")|"+B5+L5,"g");function U5(e){return e.match(F5)||[]}var V5=U5,z5=T5,W5=DP,G5=V5;function H5(e){return W5(e)?G5(e):z5(e)}var q5=H5,K5=y5,Y5=DP,X5=q5,J5=CP;function Z5(e){return function(t){t=J5(t);var r=Y5(t)?X5(t):void 0,n=r?r[0]:t.charAt(0),a=r?K5(r,1).join(""):t.slice(1);return n[e]()+a}}var Q5=Z5,eB=Q5,tB=eB("toUpperCase"),rB=tB;const tu=Ce(rB);function $e(e){return function(){return e}}const WP=Math.cos,Ol=Math.sin,rr=Math.sqrt,_l=Math.PI,ru=2*_l,Sf=Math.PI,Pf=2*Sf,En=1e-6,nB=Pf-En;function GP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function aB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return GP;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class iB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?GP:aB(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=n-t,c=a-r,u=o-t,d=s-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>En)if(!(Math.abs(d*l-c*u)>En)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=a-s,m=l*l+c*c,y=p*p+g*g,v=Math.sqrt(m),x=Math.sqrt(h),w=i*Math.tan((Sf-Math.acos((m+h-y)/(2*v*x)))/2),A=w/x,b=w/v;Math.abs(A-1)>En&&this._append`L${t+A*u},${r+A*d}`,this._append`A${i},${i},0,0,${+(d*p>u*g)},${this._x1=t+b*l},${this._y1=r+b*c}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,u=r+l,d=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>En||Math.abs(this._y1-u)>En)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%Pf+Pf),h>nB?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>En&&this._append`A${n},${n},0,${+(h>=Sf)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function om(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new iB(t)}function sm(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HP(e){this._context=e}HP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function nu(e){return new HP(e)}function qP(e){return e[0]}function KP(e){return e[1]}function YP(e,t){var r=$e(!0),n=null,a=nu,i=null,o=om(s);e=typeof e=="function"?e:e===void 0?qP:$e(e),t=typeof t=="function"?t:t===void 0?KP:$e(t);function s(l){var c,u=(l=sm(l)).length,d,h=!1,p;for(n==null&&(i=a(p=o())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,c,l),+t(d,c,l));if(p)return i=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:$e(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:$e(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:$e(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),s):n},s}function Ls(e,t,r){var n=null,a=$e(!0),i=null,o=nu,s=null,l=om(c);e=typeof e=="function"?e:e===void 0?qP:$e(+e),t=typeof t=="function"?t:$e(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?KP:$e(+r);function c(d){var h,p,g,m=(d=sm(d)).length,y,v=!1,x,w=new Array(m),A=new Array(m);for(i==null&&(s=o(x=l())),h=0;h<=m;++h){if(!(h<m&&a(y=d[h],h,d))===v)if(v=!v)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(w[g],A[g]);s.lineEnd(),s.areaEnd()}v&&(w[h]=+e(y,h,d),A[h]=+t(y,h,d),s.point(n?+n(y,h,d):w[h],r?+r(y,h,d):A[h]))}if(x)return s=null,x+""||null}function u(){return YP().defined(a).curve(o).context(i)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:$e(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:$e(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:$e(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:$e(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:$e(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:$e(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:$e(!!d),c):a},c.curve=function(d){return arguments.length?(o=d,i!=null&&(s=o(i)),c):o},c.context=function(d){return arguments.length?(d==null?i=s=null:s=o(i=d),c):i},c}class XP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function oB(e){return new XP(e,!0)}function sB(e){return new XP(e,!1)}const lm={draw(e,t){const r=rr(t/_l);e.moveTo(r,0),e.arc(0,0,r,0,ru)}},lB={draw(e,t){const r=rr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},JP=rr(1/3),cB=JP*2,uB={draw(e,t){const r=rr(t/cB),n=r*JP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},dB={draw(e,t){const r=rr(t),n=-r/2;e.rect(n,n,r,r)}},fB=.8908130915292852,ZP=Ol(_l/10)/Ol(7*_l/10),hB=Ol(ru/10)*ZP,pB=-WP(ru/10)*ZP,mB={draw(e,t){const r=rr(t*fB),n=hB*r,a=pB*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=ru*i/5,s=WP(o),l=Ol(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},sd=rr(3),gB={draw(e,t){const r=-rr(t/(sd*3));e.moveTo(0,r*2),e.lineTo(-sd*r,-r),e.lineTo(sd*r,-r),e.closePath()}},Ft=-.5,Ut=rr(3)/2,Af=1/rr(12),yB=(Af/2+1)*3,vB={draw(e,t){const r=rr(t/yB),n=r/2,a=r*Af,i=n,o=r*Af+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Ft*n-Ut*a,Ut*n+Ft*a),e.lineTo(Ft*i-Ut*o,Ut*i+Ft*o),e.lineTo(Ft*s-Ut*l,Ut*s+Ft*l),e.lineTo(Ft*n+Ut*a,Ft*a-Ut*n),e.lineTo(Ft*i+Ut*o,Ft*o-Ut*i),e.lineTo(Ft*s+Ut*l,Ft*l-Ut*s),e.closePath()}};function bB(e,t){let r=null,n=om(a);e=typeof e=="function"?e:$e(e||lm),t=typeof t=="function"?t:$e(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:$e(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:$e(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function jl(){}function Tl(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function QP(e){this._context=e}QP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xB(e){return new QP(e)}function eA(e){this._context=e}eA.prototype={areaStart:jl,areaEnd:jl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Tl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wB(e){return new eA(e)}function tA(e){this._context=e}tA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Tl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SB(e){return new tA(e)}function rA(e){this._context=e}rA.prototype={areaStart:jl,areaEnd:jl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function PB(e){return new rA(e)}function Ov(e){return e<0?-1:1}function _v(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(Ov(i)+Ov(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function jv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ld(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function kl(e){this._context=e}kl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ld(this,this._t0,jv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ld(this,jv(this,r=_v(this,e,t)),r);break;default:ld(this,this._t0,r=_v(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function nA(e){this._context=new aA(e)}(nA.prototype=Object.create(kl.prototype)).point=function(e,t){kl.prototype.point.call(this,t,e)};function aA(e){this._context=e}aA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function AB(e){return new kl(e)}function OB(e){return new nA(e)}function iA(e){this._context=e}iA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Tv(e),a=Tv(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Tv(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function _B(e){return new iA(e)}function au(e,t){this._context=e,this._t=t}au.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function jB(e){return new au(e,.5)}function TB(e){return new au(e,0)}function kB(e){return new au(e,1)}function Va(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Of(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function EB(e,t){return e[t]}function CB(e){const t=[];return t.key=e,t}function NB(){var e=$e([]),t=Of,r=Va,n=EB;function a(i){var o=Array.from(e.apply(this,arguments),CB),s,l=o.length,c=-1,u;for(const d of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(d,o[s].key,c,i)]).data=d;for(s=0,u=sm(t(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:$e(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:$e(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Of:typeof i=="function"?i:$e(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Va,a):r},a}function MB(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Va(e,t)}}function IB(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Va(e,t)}}function $B(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,g=0;g<s;++g){var m=e[t[g]],y=m[n][1]||0,v=m[n-1][1]||0;p+=y-v}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Va(e,t)}}function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}var RB=["type","size","sizeType"];function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_f.apply(this,arguments)}function kv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ev(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kv(Object(r),!0).forEach(function(n){DB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DB(e,t,r){return t=LB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=BB(e,"string");return wo(t)=="symbol"?t:t+""}function BB(e,t){if(wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FB(e,t){if(e==null)return{};var r=UB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oA={symbolCircle:lm,symbolCross:lB,symbolDiamond:uB,symbolSquare:dB,symbolStar:mB,symbolTriangle:gB,symbolWye:vB},VB=Math.PI/180,zB=function(t){var r="symbol".concat(tu(t));return oA[r]||lm},WB=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*VB;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},GB=function(t,r){oA["symbol".concat(tu(t))]=r},cm=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,l=FB(t,RB),c=Ev(Ev({},l),{},{type:n,size:i,sizeType:s}),u=function(){var y=zB(n),v=bB().type(y).size(WB(i,s,n));return v()},d=c.className,h=c.cx,p=c.cy,g=se(c,!0);return h===+h&&p===+p&&i===+i?j.createElement("path",_f({},g,{className:be("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};cm.registerSymbol=GB;function za(e){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(this,arguments)}function Cv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cv(Object(r),!0).forEach(function(n){So(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lA(n.key),n)}}function YB(e,t,r){return KB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XB(e,t,r){return t=El(t),JB(e,sA()?Reflect.construct(t,r||[],El(e).constructor):t.apply(e,r))}function JB(e,t){if(t&&(za(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZB(e)}function ZB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sA=function(){return!!e})()}function El(e){return El=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},El(e)}function QB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tf(e,t)}function Tf(e,t){return Tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tf(e,t)}function So(e,t,r){return t=lA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lA(e){var t=e6(e,"string");return za(t)=="symbol"?t:t+""}function e6(e,t){if(za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vt=32,um=function(e){function t(){return qB(this,t),XB(this,t,arguments)}return QB(t,e),YB(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Vt/2,o=Vt/6,s=Vt/3,l=n.inactive?a:n.color;if(n.type==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Vt,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Vt,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Vt/8,"h").concat(Vt,"v").concat(Vt*3/4,"h").concat(-Vt,"z"),className:"recharts-legend-icon"});if(j.isValidElement(n.legendIcon)){var c=HB({},n);return delete c.legendIcon,j.cloneElement(n.legendIcon,c)}return j.createElement(cm,{fill:l,cx:i,cy:i,size:Vt,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:Vt,height:Vt},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,y=be(So(So({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=de(p.value)?null:p.value;gn(!de(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?c:p.color;return j.createElement("li",jf({className:y,style:d,key:"legend-item-".concat(g)},Jn(n.props,p,g)),j.createElement(vf,{width:o,height:o,viewBox:u,style:h},n.renderIcon(p)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(v,p,g):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(P.PureComponent);So(um,"displayName","Legend");So(um,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var t6=Vc;function r6(){this.__data__=new t6,this.size=0}var n6=r6;function a6(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var i6=a6;function o6(e){return this.__data__.get(e)}var s6=o6;function l6(e){return this.__data__.has(e)}var c6=l6,u6=Vc,d6=Jp,f6=Zp,h6=200;function p6(e,t){var r=this.__data__;if(r instanceof u6){var n=r.__data__;if(!d6||n.length<h6-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new f6(n)}return r.set(e,t),this.size=r.size,this}var m6=p6,g6=Vc,y6=n6,v6=i6,b6=s6,x6=c6,w6=m6;function _i(e){var t=this.__data__=new g6(e);this.size=t.size}_i.prototype.clear=y6;_i.prototype.delete=v6;_i.prototype.get=b6;_i.prototype.has=x6;_i.prototype.set=w6;var cA=_i,S6="__lodash_hash_undefined__";function P6(e){return this.__data__.set(e,S6),this}var A6=P6;function O6(e){return this.__data__.has(e)}var _6=O6,j6=Zp,T6=A6,k6=_6;function Cl(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new j6;++t<r;)this.add(e[t])}Cl.prototype.add=Cl.prototype.push=T6;Cl.prototype.has=k6;var uA=Cl;function E6(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var dA=E6;function C6(e,t){return e.has(t)}var fA=C6,N6=uA,M6=dA,I6=fA,$6=1,R6=2;function D6(e,t,r,n,a,i){var o=r&$6,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=r&R6?new N6:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var g=e[d],m=t[d];if(n)var y=o?n(m,g,d,t,e,i):n(g,m,d,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!M6(t,function(v,x){if(!I6(p,x)&&(g===v||a(g,v,r,n,i)))return p.push(x)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var hA=D6,L6=xr,B6=L6.Uint8Array,F6=B6;function U6(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var V6=U6;function z6(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var dm=z6,Nv=vs,Mv=F6,W6=Xp,G6=hA,H6=V6,q6=dm,K6=1,Y6=2,X6="[object Boolean]",J6="[object Date]",Z6="[object Error]",Q6="[object Map]",e8="[object Number]",t8="[object RegExp]",r8="[object Set]",n8="[object String]",a8="[object Symbol]",i8="[object ArrayBuffer]",o8="[object DataView]",Iv=Nv?Nv.prototype:void 0,cd=Iv?Iv.valueOf:void 0;function s8(e,t,r,n,a,i,o){switch(r){case o8:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case i8:return!(e.byteLength!=t.byteLength||!i(new Mv(e),new Mv(t)));case X6:case J6:case e8:return W6(+e,+t);case Z6:return e.name==t.name&&e.message==t.message;case t8:case n8:return e==t+"";case Q6:var s=H6;case r8:var l=n&K6;if(s||(s=q6),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=Y6,o.set(e,t);var u=G6(s(e),s(t),n,a,i,o);return o.delete(e),u;case a8:if(cd)return cd.call(e)==cd.call(t)}return!1}var l8=s8;function c8(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var pA=c8,u8=pA,d8=jt;function f8(e,t,r){var n=t(e);return d8(e)?n:u8(n,r(e))}var h8=f8;function p8(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var m8=p8;function g8(){return[]}var y8=g8,v8=m8,b8=y8,x8=Object.prototype,w8=x8.propertyIsEnumerable,$v=Object.getOwnPropertySymbols,S8=$v?function(e){return e==null?[]:(e=Object(e),v8($v(e),function(t){return w8.call(e,t)}))}:b8,P8=S8;function A8(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var O8=A8,_8=Wr,j8=Gr,T8="[object Arguments]";function k8(e){return j8(e)&&_8(e)==T8}var E8=k8,Rv=E8,C8=Gr,mA=Object.prototype,N8=mA.hasOwnProperty,M8=mA.propertyIsEnumerable,I8=Rv(function(){return arguments}())?Rv:function(e){return C8(e)&&N8.call(e,"callee")&&!M8.call(e,"callee")},fm=I8,Nl={exports:{}};function $8(){return!1}var R8=$8;Nl.exports;(function(e,t){var r=xr,n=R8,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Nl,Nl.exports);var gA=Nl.exports,D8=9007199254740991,L8=/^(?:0|[1-9]\d*)$/;function B8(e,t){var r=typeof e;return t=t??D8,!!t&&(r=="number"||r!="symbol"&&L8.test(e))&&e>-1&&e%1==0&&e<t}var hm=B8,F8=9007199254740991;function U8(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=F8}var pm=U8,V8=Wr,z8=pm,W8=Gr,G8="[object Arguments]",H8="[object Array]",q8="[object Boolean]",K8="[object Date]",Y8="[object Error]",X8="[object Function]",J8="[object Map]",Z8="[object Number]",Q8="[object Object]",eF="[object RegExp]",tF="[object Set]",rF="[object String]",nF="[object WeakMap]",aF="[object ArrayBuffer]",iF="[object DataView]",oF="[object Float32Array]",sF="[object Float64Array]",lF="[object Int8Array]",cF="[object Int16Array]",uF="[object Int32Array]",dF="[object Uint8Array]",fF="[object Uint8ClampedArray]",hF="[object Uint16Array]",pF="[object Uint32Array]",Be={};Be[oF]=Be[sF]=Be[lF]=Be[cF]=Be[uF]=Be[dF]=Be[fF]=Be[hF]=Be[pF]=!0;Be[G8]=Be[H8]=Be[aF]=Be[q8]=Be[iF]=Be[K8]=Be[Y8]=Be[X8]=Be[J8]=Be[Z8]=Be[Q8]=Be[eF]=Be[tF]=Be[rF]=Be[nF]=!1;function mF(e){return W8(e)&&z8(e.length)&&!!Be[V8(e)]}var gF=mF;function yF(e){return function(t){return e(t)}}var yA=yF,Ml={exports:{}};Ml.exports;(function(e,t){var r=OP,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Ml,Ml.exports);var vF=Ml.exports,bF=gF,xF=yA,Dv=vF,Lv=Dv&&Dv.isTypedArray,wF=Lv?xF(Lv):bF,vA=wF,SF=O8,PF=fm,AF=jt,OF=gA,_F=hm,jF=vA,TF=Object.prototype,kF=TF.hasOwnProperty;function EF(e,t){var r=AF(e),n=!r&&PF(e),a=!r&&!n&&OF(e),i=!r&&!n&&!a&&jF(e),o=r||n||a||i,s=o?SF(e.length,String):[],l=s.length;for(var c in e)(t||kF.call(e,c))&&!(o&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_F(c,l)))&&s.push(c);return s}var CF=EF,NF=Object.prototype;function MF(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||NF;return e===r}var IF=MF;function $F(e,t){return function(r){return e(t(r))}}var bA=$F,RF=bA,DF=RF(Object.keys,Object),LF=DF,BF=IF,FF=LF,UF=Object.prototype,VF=UF.hasOwnProperty;function zF(e){if(!BF(e))return FF(e);var t=[];for(var r in Object(e))VF.call(e,r)&&r!="constructor"&&t.push(r);return t}var WF=zF,GF=Yp,HF=pm;function qF(e){return e!=null&&HF(e.length)&&!GF(e)}var ws=qF,KF=CF,YF=WF,XF=ws;function JF(e){return XF(e)?KF(e):YF(e)}var iu=JF,ZF=h8,QF=P8,eU=iu;function tU(e){return ZF(e,eU,QF)}var rU=tU,Bv=rU,nU=1,aU=Object.prototype,iU=aU.hasOwnProperty;function oU(e,t,r,n,a,i){var o=r&nU,s=Bv(e),l=s.length,c=Bv(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=s[d];if(!(o?h in t:iU.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var y=o;++d<l;){h=s[d];var v=e[h],x=t[h];if(n)var w=o?n(x,v,h,t,e,i):n(v,x,h,e,t,i);if(!(w===void 0?v===x||a(v,x,r,n,i):w)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var A=e.constructor,b=t.constructor;A!=b&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof b=="function"&&b instanceof b)&&(m=!1)}return i.delete(e),i.delete(t),m}var sU=oU,lU=aa,cU=xr,uU=lU(cU,"DataView"),dU=uU,fU=aa,hU=xr,pU=fU(hU,"Promise"),mU=pU,gU=aa,yU=xr,vU=gU(yU,"Set"),xA=vU,bU=aa,xU=xr,wU=bU(xU,"WeakMap"),SU=wU,kf=dU,Ef=Jp,Cf=mU,Nf=xA,Mf=SU,wA=Wr,ji=jP,Fv="[object Map]",PU="[object Object]",Uv="[object Promise]",Vv="[object Set]",zv="[object WeakMap]",Wv="[object DataView]",AU=ji(kf),OU=ji(Ef),_U=ji(Cf),jU=ji(Nf),TU=ji(Mf),Cn=wA;(kf&&Cn(new kf(new ArrayBuffer(1)))!=Wv||Ef&&Cn(new Ef)!=Fv||Cf&&Cn(Cf.resolve())!=Uv||Nf&&Cn(new Nf)!=Vv||Mf&&Cn(new Mf)!=zv)&&(Cn=function(e){var t=wA(e),r=t==PU?e.constructor:void 0,n=r?ji(r):"";if(n)switch(n){case AU:return Wv;case OU:return Fv;case _U:return Uv;case jU:return Vv;case TU:return zv}return t});var kU=Cn,ud=cA,EU=hA,CU=l8,NU=sU,Gv=kU,Hv=jt,qv=gA,MU=vA,IU=1,Kv="[object Arguments]",Yv="[object Array]",Bs="[object Object]",$U=Object.prototype,Xv=$U.hasOwnProperty;function RU(e,t,r,n,a,i){var o=Hv(e),s=Hv(t),l=o?Yv:Gv(e),c=s?Yv:Gv(t);l=l==Kv?Bs:l,c=c==Kv?Bs:c;var u=l==Bs,d=c==Bs,h=l==c;if(h&&qv(e)){if(!qv(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new ud),o||MU(e)?EU(e,t,r,n,a,i):CU(e,t,l,r,n,a,i);if(!(r&IU)){var p=u&&Xv.call(e,"__wrapped__"),g=d&&Xv.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,y=g?t.value():t;return i||(i=new ud),a(m,y,r,n,i)}}return h?(i||(i=new ud),NU(e,t,r,n,a,i)):!1}var DU=RU,LU=DU,Jv=Gr;function SA(e,t,r,n,a){return e===t?!0:e==null||t==null||!Jv(e)&&!Jv(t)?e!==e&&t!==t:LU(e,t,r,n,SA,a)}var mm=SA,BU=cA,FU=mm,UU=1,VU=2;function zU(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var l=s[0],c=e[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new BU;if(n)var h=n(c,u,l,e,t,d);if(!(h===void 0?FU(u,c,UU|VU,n,d):h))return!1}}return!0}var WU=zU,GU=vn;function HU(e){return e===e&&!GU(e)}var PA=HU,qU=PA,KU=iu;function YU(e){for(var t=KU(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,qU(a)]}return t}var XU=YU;function JU(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var AA=JU,ZU=WU,QU=XU,eV=AA;function tV(e){var t=QU(e);return t.length==1&&t[0][2]?eV(t[0][0],t[0][1]):function(r){return r===e||ZU(r,e,t)}}var rV=tV;function nV(e,t){return e!=null&&t in Object(e)}var aV=nV,iV=NP,oV=fm,sV=jt,lV=hm,cV=pm,uV=Wc;function dV(e,t,r){t=iV(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=uV(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&cV(a)&&lV(o,a)&&(sV(e)||oV(e)))}var fV=dV,hV=aV,pV=fV;function mV(e,t){return e!=null&&pV(e,t,hV)}var gV=mV,yV=mm,vV=MP,bV=gV,xV=Kp,wV=PA,SV=AA,PV=Wc,AV=1,OV=2;function _V(e,t){return xV(e)&&wV(t)?SV(PV(e),t):function(r){var n=vV(r,e);return n===void 0&&n===t?bV(r,e):yV(t,n,AV|OV)}}var jV=_V;function TV(e){return e}var Ti=TV;function kV(e){return function(t){return t==null?void 0:t[e]}}var EV=kV,CV=tm;function NV(e){return function(t){return CV(t,e)}}var MV=NV,IV=EV,$V=MV,RV=Kp,DV=Wc;function LV(e){return RV(e)?IV(DV(e)):$V(e)}var BV=LV,FV=rV,UV=jV,VV=Ti,zV=jt,WV=BV;function GV(e){return typeof e=="function"?e:e==null?VV:typeof e=="object"?zV(e)?UV(e[0],e[1]):FV(e):WV(e)}var wr=GV;function HV(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var OA=HV;function qV(e){return e!==e}var KV=qV;function YV(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var XV=YV,JV=OA,ZV=KV,QV=XV;function ez(e,t,r){return t===t?QV(e,t,r):JV(e,ZV,r)}var tz=ez,rz=tz;function nz(e,t){var r=e==null?0:e.length;return!!r&&rz(e,t,0)>-1}var az=nz;function iz(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var oz=iz;function sz(){}var lz=sz,dd=xA,cz=lz,uz=dm,dz=1/0,fz=dd&&1/uz(new dd([,-0]))[1]==dz?function(e){return new dd(e)}:cz,hz=fz,pz=uA,mz=az,gz=oz,yz=fA,vz=hz,bz=dm,xz=200;function wz(e,t,r){var n=-1,a=mz,i=e.length,o=!0,s=[],l=s;if(r)o=!1,a=gz;else if(i>=xz){var c=t?null:vz(e);if(c)return bz(c);o=!1,a=yz,l=new pz}else l=t?[]:s;e:for(;++n<i;){var u=e[n],d=t?t(u):u;if(u=r||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(u)}else a(l,d,r)||(l!==s&&l.push(d),s.push(u))}return s}var Sz=wz,Pz=wr,Az=Sz;function Oz(e,t){return e&&e.length?Az(e,Pz(t)):[]}var _z=Oz;const Zv=Ce(_z);function _A(e,t,r){return t===!0?Zv(e,r):de(t)?Zv(e,t):e}function Wa(e){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}var jz=["ref"];function Qv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qv(Object(r),!0).forEach(function(n){ou(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TA(n.key),n)}}function kz(e,t,r){return e0(e.prototype,t),e0(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ez(e,t,r){return t=Il(t),Cz(e,jA()?Reflect.construct(t,r,Il(e).constructor):t.apply(e,r))}function Cz(e,t){if(t&&(Wa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nz(e)}function Nz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jA=function(){return!!e})()}function Il(e){return Il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Il(e)}function Mz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&If(e,t)}function If(e,t){return If=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},If(e,t)}function ou(e,t,r){return t=TA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TA(e){var t=Iz(e,"string");return Wa(t)=="symbol"?t:t+""}function Iz(e,t){if(Wa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $z(e,t){if(e==null)return{};var r=Rz(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dz(e){return e.value}function Lz(e,t){if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return j.createElement(e,t);t.ref;var r=$z(t,jz);return j.createElement(um,r)}var t0=1,dn=function(e){function t(){var r;Tz(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Ez(this,t,[].concat(a)),ou(r,"lastBoundingBox",{width:-1,height:-1}),r}return Mz(t,e),kz(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>t0||Math.abs(a.height-this.lastBoundingBox.height)>t0)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Pr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Pr(Pr({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,d=Pr(Pr({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return j.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},Lz(i,Pr(Pr({},this.props),{},{payload:_A(u,c,Dz)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Pr(Pr({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Q(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(P.PureComponent);ou(dn,"displayName","Legend");ou(dn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var r0=vs,Bz=fm,Fz=jt,n0=r0?r0.isConcatSpreadable:void 0;function Uz(e){return Fz(e)||Bz(e)||!!(n0&&e&&e[n0])}var Vz=Uz,zz=pA,Wz=Vz;function kA(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Wz),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?kA(s,t-1,r,n,a):zz(a,s):n||(a[a.length]=s)}return a}var EA=kA;function Gz(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(r(i[l],l,i)===!1)break}return t}}var Hz=Gz,qz=Hz,Kz=qz(),Yz=Kz,Xz=Yz,Jz=iu;function Zz(e,t){return e&&Xz(e,t,Jz)}var CA=Zz,Qz=ws;function e7(e,t){return function(r,n){if(r==null)return r;if(!Qz(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var t7=e7,r7=CA,n7=t7,a7=n7(r7),gm=a7,i7=gm,o7=ws;function s7(e,t){var r=-1,n=o7(e)?Array(e.length):[];return i7(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var NA=s7;function l7(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var c7=l7,a0=xi;function u7(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=a0(e),o=t!==void 0,s=t===null,l=t===t,c=a0(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!l)return-1}return 0}var d7=u7,f7=d7;function h7(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var l=f7(a[n],i[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var p7=h7,fd=em,m7=tm,g7=wr,y7=NA,v7=c7,b7=yA,x7=p7,w7=Ti,S7=jt;function P7(e,t,r){t.length?t=fd(t,function(i){return S7(i)?function(o){return m7(o,i.length===1?i[0]:i)}:i}):t=[w7];var n=-1;t=fd(t,b7(g7));var a=y7(e,function(i,o,s){var l=fd(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return v7(a,function(i,o){return x7(i,o,r)})}var A7=P7;function O7(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _7=O7,j7=_7,i0=Math.max;function T7(e,t,r){return t=i0(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=i0(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),j7(e,this,s)}}var k7=T7;function E7(e){return function(){return e}}var C7=E7,N7=aa,M7=function(){try{var e=N7(Object,"defineProperty");return e({},"",{}),e}catch{}}(),MA=M7,I7=C7,o0=MA,$7=Ti,R7=o0?function(e,t){return o0(e,"toString",{configurable:!0,enumerable:!1,value:I7(t),writable:!0})}:$7,D7=R7,L7=800,B7=16,F7=Date.now;function U7(e){var t=0,r=0;return function(){var n=F7(),a=B7-(n-r);if(r=n,a>0){if(++t>=L7)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var V7=U7,z7=D7,W7=V7,G7=W7(z7),H7=G7,q7=Ti,K7=k7,Y7=H7;function X7(e,t){return Y7(K7(e,t,q7),e+"")}var J7=X7,Z7=Xp,Q7=ws,eW=hm,tW=vn;function rW(e,t,r){if(!tW(r))return!1;var n=typeof t;return(n=="number"?Q7(r)&&eW(t,r.length):n=="string"&&t in r)?Z7(r[t],e):!1}var su=rW,nW=EA,aW=A7,iW=J7,s0=su,oW=iW(function(e,t){if(e==null)return[];var r=t.length;return r>1&&s0(e,t[0],t[1])?t=[]:r>2&&s0(t[0],t[1],t[2])&&(t=[t[0]]),aW(e,nW(t,1),[])}),sW=oW;const ym=Ce(sW);function Po(e){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(e)}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$f.apply(this,arguments)}function lW(e,t){return fW(e)||dW(e,t)||uW(e,t)||cW()}function cW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uW(e,t){if(e){if(typeof e=="string")return l0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l0(e,t)}}function l0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function fW(e){if(Array.isArray(e))return e}function c0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c0(Object(r),!0).forEach(function(n){hW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hW(e,t,r){return t=pW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pW(e){var t=mW(e,"string");return Po(t)=="symbol"?t:t+""}function mW(e,t){if(Po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gW(e){return Array.isArray(e)&&it(e[0])&&it(e[1])?e.join(" ~ "):e}var yW=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,y=t.labelFormatter,v=t.accessibilityLayer,x=v===void 0?!1:v,w=function(){if(u&&u.length){var M={padding:0,margin:0},F=(h?ym(u,h):u).map(function(V,z){if(V.type==="none")return null;var G=hd({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},s),L=V.formatter||d||gW,Y=V.value,W=V.name,ne=Y,ie=W;if(ne!=null&&ie!=null){var ee=L(Y,W,V,z,u);if(Array.isArray(ee)){var oe=lW(ee,2);ne=oe[0],ie=oe[1]}else ne=ee}return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:G},it(ie)?j.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,it(ie)?j.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,j.createElement("span",{className:"recharts-tooltip-item-value"},ne),j.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:M},F)}return null},A=hd({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=hd({margin:0},c),S=!ge(m),O=S?m:"",_=be("recharts-default-tooltip",p),T=be("recharts-tooltip-label",g);S&&y&&u!==void 0&&u!==null&&(O=y(m,u));var I=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",$f({className:_,style:A},I),j.createElement("p",{className:T,style:b},j.isValidElement(O)?O:"".concat(O)),w())};function Ao(e){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(e)}function Fs(e,t,r){return t=vW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vW(e){var t=bW(e,"string");return Ao(t)=="symbol"?t:t+""}function bW(e,t){if(Ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Di="recharts-tooltip-wrapper",xW={visibility:"hidden"};function wW(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return be(Di,Fs(Fs(Fs(Fs({},"".concat(Di,"-right"),Q(r)&&t&&Q(t.x)&&r>=t.x),"".concat(Di,"-left"),Q(r)&&t&&Q(t.x)&&r<t.x),"".concat(Di,"-bottom"),Q(n)&&t&&Q(t.y)&&n>=t.y),"".concat(Di,"-top"),Q(n)&&t&&Q(t.y)&&n<t.y))}function u0(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Q(i[n]))return i[n];var u=r[n]-s-a,d=r[n]+a;if(t[n])return o[n]?u:d;if(o[n]){var h=u,p=l[n];return h<p?Math.max(d,l[n]):Math.max(u,l[n])}var g=d+s,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(d,l[n])}function SW(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function PW(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,d;return o.height>0&&o.width>0&&r?(u=u0({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=u0({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=SW({translateX:u,translateY:d,useTranslate3d:s})):c=xW,{cssProperties:c,cssClasses:wW({translateX:u,translateY:d,coordinate:r})}}function Ga(e){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}function d0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d0(Object(r),!0).forEach(function(n){Df(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$A(n.key),n)}}function _W(e,t,r){return OW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jW(e,t,r){return t=$l(t),TW(e,IA()?Reflect.construct(t,r,$l(e).constructor):t.apply(e,r))}function TW(e,t){if(t&&(Ga(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kW(e)}function kW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IA=function(){return!!e})()}function $l(e){return $l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$l(e)}function EW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rf(e,t)}function Rf(e,t){return Rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rf(e,t)}function Df(e,t,r){return t=$A(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $A(e){var t=CW(e,"string");return Ga(t)=="symbol"?t:t+""}function CW(e,t){if(Ga(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ga(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var h0=1,NW=function(e){function t(){var r;AW(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=jW(this,t,[].concat(a)),Df(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Df(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return EW(t,e),_W(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>h0||Math.abs(n.height-this.state.lastBoundingBox.height)>h0)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,y=a.useTranslate3d,v=a.viewBox,x=a.wrapperStyle,w=PW({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),A=w.cssClasses,b=w.cssProperties,S=f0(f0({transition:h&&i?"transform ".concat(s,"ms ").concat(l):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return j.createElement("div",{tabIndex:-1,className:A,style:S,ref:function(_){n.wrapperNode=_}},c)}}])}(P.PureComponent),MW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},dr={isSsr:MW(),get:function(t){return dr[t]},set:function(t,r){if(typeof t=="string")dr[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){dr[a]=t[a]})}}};function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(e)}function p0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p0(Object(r),!0).forEach(function(n){vm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DA(n.key),n)}}function RW(e,t,r){return $W(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DW(e,t,r){return t=Rl(t),LW(e,RA()?Reflect.construct(t,r||[],Rl(e).constructor):t.apply(e,r))}function LW(e,t){if(t&&(Ha(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BW(e)}function BW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RA=function(){return!!e})()}function Rl(e){return Rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rl(e)}function FW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lf(e,t)}function Lf(e,t){return Lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lf(e,t)}function vm(e,t,r){return t=DA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DA(e){var t=UW(e,"string");return Ha(t)=="symbol"?t:t+""}function UW(e,t){if(Ha(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ha(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VW(e){return e.dataKey}function zW(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(yW,t)}var Wt=function(e){function t(){return IW(this,t),DW(this,t,arguments)}return FW(t,e),RW(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,y=a.position,v=a.reverseDirection,x=a.useTranslate3d,w=a.viewBox,A=a.wrapperStyle,b=g??[];d&&b.length&&(b=_A(g.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),m,VW));var S=b.length>0;return j.createElement(NW,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:S,offset:p,position:y,reverseDirection:v,useTranslate3d:x,viewBox:w,wrapperStyle:A},zW(c,m0(m0({},this.props),{},{payload:b})))}}])}(P.PureComponent);vm(Wt,"displayName","Tooltip");vm(Wt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!dr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var WW=xr,GW=function(){return WW.Date.now()},HW=GW,qW=/\s/;function KW(e){for(var t=e.length;t--&&qW.test(e.charAt(t)););return t}var YW=KW,XW=YW,JW=/^\s+/;function ZW(e){return e&&e.slice(0,XW(e)+1).replace(JW,"")}var QW=ZW,e9=QW,g0=vn,t9=xi,y0=NaN,r9=/^[-+]0x[0-9a-f]+$/i,n9=/^0b[01]+$/i,a9=/^0o[0-7]+$/i,i9=parseInt;function o9(e){if(typeof e=="number")return e;if(t9(e))return y0;if(g0(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=g0(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e9(e);var r=n9.test(e);return r||a9.test(e)?i9(e.slice(2),r?2:8):r9.test(e)?y0:+e}var LA=o9,s9=vn,pd=HW,v0=LA,l9="Expected a function",c9=Math.max,u9=Math.min;function d9(e,t,r){var n,a,i,o,s,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(l9);t=v0(t)||0,s9(r)&&(u=!!r.leading,d="maxWait"in r,i=d?c9(v0(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var O=n,_=a;return n=a=void 0,c=S,o=e.apply(_,O),o}function g(S){return c=S,s=setTimeout(v,t),u?p(S):o}function m(S){var O=S-l,_=S-c,T=t-O;return d?u9(T,i-_):T}function y(S){var O=S-l,_=S-c;return l===void 0||O>=t||O<0||d&&_>=i}function v(){var S=pd();if(y(S))return x(S);s=setTimeout(v,m(S))}function x(S){return s=void 0,h&&n?p(S):(n=a=void 0,o)}function w(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function A(){return s===void 0?o:x(pd())}function b(){var S=pd(),O=y(S);if(n=arguments,a=this,l=S,O){if(s===void 0)return g(l);if(d)return clearTimeout(s),s=setTimeout(v,t),p(l)}return s===void 0&&(s=setTimeout(v,t)),o}return b.cancel=w,b.flush=A,b}var f9=d9,h9=f9,p9=vn,m9="Expected a function";function g9(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(m9);return p9(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),h9(e,t,{leading:n,maxWait:t,trailing:a})}var y9=g9;const v9=Ce(y9);var lu=function(t){return null};lu.displayName="Cell";function Oo(e){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function b0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b0(Object(r),!0).forEach(function(n){b9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b9(e,t,r){return t=x9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x9(e){var t=w9(e,"string");return Oo(t)=="symbol"?t:t+""}function w9(e,t){if(Oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ua={widthCache:{},cacheCount:0},S9=2e3,P9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},x0="recharts_measurement_span";function A9(e){var t=Bf({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ao=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||dr.isSsr)return{width:0,height:0};var n=A9(r),a=JSON.stringify({text:t,copyStyle:n});if(ua.widthCache[a])return ua.widthCache[a];try{var i=document.getElementById(x0);i||(i=document.createElement("span"),i.setAttribute("id",x0),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Bf(Bf({},P9),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return ua.widthCache[a]=l,++ua.cacheCount>S9&&(ua.cacheCount=0,ua.widthCache={}),l}catch{return{width:0,height:0}}},O9=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function _o(e){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(e)}function Dl(e,t){return k9(e)||T9(e,t)||j9(e,t)||_9()}function _9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j9(e,t){if(e){if(typeof e=="string")return w0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w0(e,t)}}function w0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function k9(e){if(Array.isArray(e))return e}function E9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N9(n.key),n)}}function C9(e,t,r){return S0(e.prototype,t),S0(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function N9(e){var t=M9(e,"string");return _o(t)=="symbol"?t:t+""}function M9(e,t){if(_o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var P0=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,A0=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,I9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},R9=Object.keys(BA),Sa="NaN";function D9(e,t){return e*BA[t]}var Us=function(){function e(t,r){E9(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!I9.test(r)&&(this.num=NaN,this.unit=""),R9.includes(r)&&(this.num=D9(t,r),this.unit="px")}return C9(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=$9.exec(r))!==null&&n!==void 0?n:[],i=Dl(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function FA(e){if(e.includes(Sa))return Sa;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=P0.exec(t))!==null&&r!==void 0?r:[],a=Dl(n,4),i=a[1],o=a[2],s=a[3],l=Us.parse(i??""),c=Us.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Sa;t=t.replace(P0,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=A0.exec(t))!==null&&d!==void 0?d:[],p=Dl(h,4),g=p[1],m=p[2],y=p[3],v=Us.parse(g??""),x=Us.parse(y??""),w=m==="+"?v.add(x):v.subtract(x);if(w.isNaN())return Sa;t=t.replace(A0,w.toString())}return t}var O0=/\(([^()]*)\)/;function L9(e){for(var t=e;t.includes("(");){var r=O0.exec(t),n=Dl(r,2),a=n[1];t=t.replace(O0,FA(a))}return t}function B9(e){var t=e.replace(/\s+/g,"");return t=L9(t),t=FA(t),t}function F9(e){try{return B9(e)}catch{return Sa}}function md(e){var t=F9(e.slice(5,-1));return t===Sa?"":t}var U9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],V9=["dx","dy","angle","className","breakAll"];function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ff.apply(this,arguments)}function _0(e,t){if(e==null)return{};var r=z9(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function j0(e,t){return q9(e)||H9(e,t)||G9(e,t)||W9()}function W9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G9(e,t){if(e){if(typeof e=="string")return T0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T0(e,t)}}function T0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function q9(e){if(Array.isArray(e))return e}var UA=/[ \f\n\r\t\v\u2028\u2029]+/,VA=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ge(r)||(n?i=r.toString().split(""):i=r.toString().split(UA));var o=i.map(function(l){return{word:l,width:ao(l,a).width}}),s=n?0:ao("Â ",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},K9=function(t,r,n,a,i){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=Q(o),d=s,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(G,L){var Y=L.word,W=L.width,ne=G[G.length-1];if(ne&&(a==null||i||ne.width+W+n<Number(a)))ne.words.push(Y),ne.width+=W+n;else{var ie={words:[Y],width:W};G.push(ie)}return G},[])},p=h(r),g=function(z){return z.reduce(function(G,L){return G.width>L.width?G:L})};if(!u)return p;for(var m="â€¦",y=function(z){var G=d.slice(0,z),L=VA({breakAll:c,style:l,children:G+m}).wordsWithComputedWidth,Y=h(L),W=Y.length>o||g(Y).width>Number(a);return[W,Y]},v=0,x=d.length-1,w=0,A;v<=x&&w<=d.length-1;){var b=Math.floor((v+x)/2),S=b-1,O=y(S),_=j0(O,2),T=_[0],I=_[1],E=y(b),M=j0(E,1),F=M[0];if(!T&&!F&&(v=b+1),T&&F&&(x=b-1),!T&&F){A=I;break}w++}return A||p},k0=function(t){var r=ge(t)?[]:t.toString().split(UA);return[{words:r}]},Y9=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!dr.isSsr){var l,c,u=VA({breakAll:o,children:a,style:i});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return k0(a);return K9({breakAll:o,children:a,maxLines:s,style:i},l,c,r,n)}return k0(a)},E0="#808080",Zn=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,y=t.fill,v=y===void 0?E0:y,x=_0(t,U9),w=P.useMemo(function(){return Y9({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),A=x.dx,b=x.dy,S=x.angle,O=x.className,_=x.breakAll,T=_0(x,V9);if(!it(n)||!it(i))return null;var I=n+(Q(A)?A:0),E=i+(Q(b)?b:0),M;switch(m){case"start":M=md("calc(".concat(c,")"));break;case"middle":M=md("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:M=md("calc(".concat(w.length-1," * -").concat(s,")"));break}var F=[];if(d){var V=w[0].width,z=x.width;F.push("scale(".concat((Q(z)?z/V:1)/V,")"))}return S&&F.push("rotate(".concat(S,", ").concat(I,", ").concat(E,")")),F.length&&(T.transform=F.join(" ")),j.createElement("text",Ff({},se(T,!0),{x:I,y:E,className:be("recharts-text",O),textAnchor:p,fill:v.includes("url")?E0:v}),w.map(function(G,L){var Y=G.words.join(_?"":" ");return j.createElement("tspan",{x:I,dy:L===0?M:s,key:"".concat(Y,"-").concat(L)},Y)}))};function fn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function X9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bm(e){let t,r,n;e.length!==2?(t=fn,r=(s,l)=>fn(e(s),l),n=(s,l)=>e(s)-l):(t=e===fn||e===X9?e:J9,r=e,n=e);function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=a(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:a,center:o,right:i}}function J9(){return 0}function zA(e){return e===null?NaN:+e}function*Z9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Q9=bm(fn),Ss=Q9.right;bm(zA).center;class C0 extends Map{constructor(t,r=rG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(N0(this,t))}has(t){return super.has(N0(this,t))}set(t,r){return super.set(eG(this,t),r)}delete(t){return super.delete(tG(this,t))}}function N0({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function eG({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function tG({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function rG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function nG(e=fn){if(e===fn)return WA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function WA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const aG=Math.sqrt(50),iG=Math.sqrt(10),oG=Math.sqrt(2);function Ll(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=aG?10:i>=iG?5:i>=oG?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Ll(e,t,r*2):[s,l,c]}function Uf(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Ll(t,e,r):Ll(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Vf(e,t,r){return t=+t,e=+e,r=+r,Ll(e,t,r)[2]}function zf(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Vf(t,e,r):Vf(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function M0(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function I0(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function GA(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?WA:nG(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),g=Math.min(n,Math.floor(t+(l-c)*d/l+h));GA(e,t,p,g,a)}const i=e[t];let o=r,s=n;for(Li(e,r,t),a(e[n],i)>0&&Li(e,r,n);o<s;){for(Li(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?Li(e,r,s):(++s,Li(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Li(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function sG(e,t,r){if(e=Float64Array.from(Z9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return I0(e);if(t>=1)return M0(e);var n,a=(n-1)*t,i=Math.floor(a),o=M0(GA(e,i).subarray(0,i+1)),s=I0(e.subarray(i+1));return o+(s-o)*(a-i)}}function lG(e,t,r=zA){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function cG(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Yt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Wf=Symbol("implicit");function xm(){var e=new C0,t=[],r=[],n=Wf;function a(i){let o=e.get(i);if(o===void 0){if(n!==Wf)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new C0;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return xm(t,r).unknown(n)},Yt.apply(a,arguments),a}function jo(){var e=xm().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-l+c*2),s&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,o=i*(1-l),s&&(g=Math.round(g),o=Math.round(o));var y=cG(h).map(function(v){return g+i*v});return r(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return jo(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Yt.apply(d(),arguments)}function HA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HA(t())},e}function io(){return HA(jo.apply(null,arguments).paddingInner(1))}function wm(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function qA(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ps(){}var To=.7,Bl=1/To,Ca="\\s*([+-]?\\d+)\\s*",ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uG=/^#([0-9a-f]{3,8})$/,dG=new RegExp(`^rgb\\(${Ca},${Ca},${Ca}\\)$`),fG=new RegExp(`^rgb\\(${fr},${fr},${fr}\\)$`),hG=new RegExp(`^rgba\\(${Ca},${Ca},${Ca},${ko}\\)$`),pG=new RegExp(`^rgba\\(${fr},${fr},${fr},${ko}\\)$`),mG=new RegExp(`^hsl\\(${ko},${fr},${fr}\\)$`),gG=new RegExp(`^hsla\\(${ko},${fr},${fr},${ko}\\)$`),$0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wm(Ps,Eo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:R0,formatHex:R0,formatHex8:yG,formatHsl:vG,formatRgb:D0,toString:D0});function R0(){return this.rgb().formatHex()}function yG(){return this.rgb().formatHex8()}function vG(){return KA(this).formatHsl()}function D0(){return this.rgb().formatRgb()}function Eo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=uG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?L0(t):r===3?new Ot(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Vs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Vs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dG.exec(e))?new Ot(t[1],t[2],t[3],1):(t=fG.exec(e))?new Ot(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hG.exec(e))?Vs(t[1],t[2],t[3],t[4]):(t=pG.exec(e))?Vs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mG.exec(e))?U0(t[1],t[2]/100,t[3]/100,1):(t=gG.exec(e))?U0(t[1],t[2]/100,t[3]/100,t[4]):$0.hasOwnProperty(e)?L0($0[e]):e==="transparent"?new Ot(NaN,NaN,NaN,0):null}function L0(e){return new Ot(e>>16&255,e>>8&255,e&255,1)}function Vs(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ot(e,t,r,n)}function bG(e){return e instanceof Ps||(e=Eo(e)),e?(e=e.rgb(),new Ot(e.r,e.g,e.b,e.opacity)):new Ot}function Gf(e,t,r,n){return arguments.length===1?bG(e):new Ot(e,t,r,n??1)}function Ot(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}wm(Ot,Gf,qA(Ps,{brighter(e){return e=e==null?Bl:Math.pow(Bl,e),new Ot(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?To:Math.pow(To,e),new Ot(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ot(Hn(this.r),Hn(this.g),Hn(this.b),Fl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:B0,formatHex:B0,formatHex8:xG,formatRgb:F0,toString:F0}));function B0(){return`#${Ln(this.r)}${Ln(this.g)}${Ln(this.b)}`}function xG(){return`#${Ln(this.r)}${Ln(this.g)}${Ln(this.b)}${Ln((isNaN(this.opacity)?1:this.opacity)*255)}`}function F0(){const e=Fl(this.opacity);return`${e===1?"rgb(":"rgba("}${Hn(this.r)}, ${Hn(this.g)}, ${Hn(this.b)}${e===1?")":`, ${e})`}`}function Fl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ln(e){return e=Hn(e),(e<16?"0":"")+e.toString(16)}function U0(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new tr(e,t,r,n)}function KA(e){if(e instanceof tr)return new tr(e.h,e.s,e.l,e.opacity);if(e instanceof Ps||(e=Eo(e)),!e)return new tr;if(e instanceof tr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new tr(o,s,l,e.opacity)}function wG(e,t,r,n){return arguments.length===1?KA(e):new tr(e,t,r,n??1)}function tr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}wm(tr,wG,qA(Ps,{brighter(e){return e=e==null?Bl:Math.pow(Bl,e),new tr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?To:Math.pow(To,e),new tr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ot(gd(e>=240?e-240:e+120,a,n),gd(e,a,n),gd(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new tr(V0(this.h),zs(this.s),zs(this.l),Fl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fl(this.opacity);return`${e===1?"hsl(":"hsla("}${V0(this.h)}, ${zs(this.s)*100}%, ${zs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function V0(e){return e=(e||0)%360,e<0?e+360:e}function zs(e){return Math.max(0,Math.min(1,e||0))}function gd(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Sm=e=>()=>e;function SG(e,t){return function(r){return e+r*t}}function PG(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function AG(e){return(e=+e)==1?YA:function(t,r){return r-t?PG(t,r,e):Sm(isNaN(t)?r:t)}}function YA(e,t){var r=t-e;return r?SG(e,r):Sm(isNaN(e)?t:e)}const z0=function e(t){var r=AG(t);function n(a,i){var o=r((a=Gf(a)).r,(i=Gf(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),c=YA(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function OG(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function _G(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jG(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=ki(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function TG(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ul(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kG(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ki(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Hf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yd=new RegExp(Hf.source,"g");function EG(e){return function(){return e}}function CG(e){return function(t){return e(t)+""}}function NG(e,t){var r=Hf.lastIndex=yd.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Hf.exec(e))&&(a=yd.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Ul(n,a)})),r=yd.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?CG(l[0].x):EG(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function ki(e,t){var r=typeof t,n;return t==null||r==="boolean"?Sm(t):(r==="number"?Ul:r==="string"?(n=Eo(t))?(t=n,z0):NG:t instanceof Eo?z0:t instanceof Date?TG:_G(t)?OG:Array.isArray(t)?jG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kG:Ul)(e,t)}function Pm(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function MG(e,t){t===void 0&&(t=e,e=ki);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function IG(e){return function(){return e}}function Vl(e){return+e}var W0=[0,1];function wt(e){return e}function qf(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:IG(isNaN(t)?NaN:.5)}function $G(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function RG(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=qf(a,n),i=r(o,i)):(n=qf(n,a),i=r(i,o)),function(s){return i(n(s))}}function DG(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=qf(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var l=Ss(e,s,1,n)-1;return i[l](a[l](s))}}function As(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cu(){var e=W0,t=W0,r=ki,n,a,i,o=wt,s,l,c;function u(){var h=Math.min(e.length,t.length);return o!==wt&&(o=$G(e[0],e[h-1])),s=h>2?DG:RG,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?i:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(a((c||(c=s(t,e.map(n),Ul)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Vl),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Pm,u()},d.clamp=function(h){return arguments.length?(o=h?!0:wt,u()):o!==wt},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,a=p,u()}}function Am(){return cu()(wt,wt)}function LG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zl(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function qa(e){return e=zl(Math.abs(e)),e?e[1]:NaN}function BG(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function FG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var UG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Co(e){if(!(t=UG.exec(e)))throw new Error("invalid format: "+e);var t;return new Om({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Co.prototype=Om.prototype;function Om(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Om.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function VG(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var XA;function zG(e,t){var r=zl(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(XA=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+zl(e,Math.max(0,t+i-1))[0]}function G0(e,t){var r=zl(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const H0={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:LG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>G0(e*100,t),r:G0,s:zG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function q0(e){return e}var K0=Array.prototype.map,Y0=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function WG(e){var t=e.grouping===void 0||e.thousands===void 0?q0:BG(K0.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?q0:FG(K0.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"âˆ’":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Co(d);var h=d.fill,p=d.align,g=d.sign,m=d.symbol,y=d.zero,v=d.width,x=d.comma,w=d.precision,A=d.trim,b=d.type;b==="n"?(x=!0,b="g"):H0[b]||(w===void 0&&(w=12),A=!0,b="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",O=m==="$"?n:/[%p]/.test(b)?o:"",_=H0[b],T=/[defgprs%]/.test(b);w=w===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(E){var M=S,F=O,V,z,G;if(b==="c")F=_(E)+F,E="";else{E=+E;var L=E<0||1/E<0;if(E=isNaN(E)?l:_(Math.abs(E),w),A&&(E=VG(E)),L&&+E==0&&g!=="+"&&(L=!1),M=(L?g==="("?g:s:g==="-"||g==="("?"":g)+M,F=(b==="s"?Y0[8+XA/3]:"")+F+(L&&g==="("?")":""),T){for(V=-1,z=E.length;++V<z;)if(G=E.charCodeAt(V),48>G||G>57){F=(G===46?a+E.slice(V+1):E.slice(V))+F,E=E.slice(0,V);break}}}x&&!y&&(E=t(E,1/0));var Y=M.length+E.length+F.length,W=Y<v?new Array(v-Y+1).join(h):"";switch(x&&y&&(E=t(W+E,W.length?v-F.length:1/0),W=""),p){case"<":E=M+E+F+W;break;case"=":E=M+W+E+F;break;case"^":E=W.slice(0,Y=W.length>>1)+M+E+F+W.slice(Y);break;default:E=W+M+E+F;break}return i(E)}return I.toString=function(){return d+""},I}function u(d,h){var p=c((d=Co(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(qa(h)/3)))*3,m=Math.pow(10,-g),y=Y0[8+g/3];return function(v){return p(m*v)+y}}return{format:c,formatPrefix:u}}var Ws,_m,JA;GG({thousands:",",grouping:[3],currency:["$",""]});function GG(e){return Ws=WG(e),_m=Ws.format,JA=Ws.formatPrefix,Ws}function HG(e){return Math.max(0,-qa(Math.abs(e)))}function qG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qa(t)/3)))*3-qa(Math.abs(e)))}function KG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qa(t)-qa(e))+1}function ZA(e,t,r,n){var a=zf(e,t,r),i;switch(n=Co(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=qG(a,o))&&(n.precision=i),JA(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=KG(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=HG(a))&&(n.precision=i-(n.type==="%")*2);break}}return _m(n)}function bn(e){var t=e.domain;return e.ticks=function(r){var n=t();return Uf(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return ZA(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);u-- >0;){if(c=Vf(o,s,r),c===l)return n[a]=o,n[i]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Wl(){var e=Am();return e.copy=function(){return As(e,Wl())},Yt.apply(e,arguments),bn(e)}function QA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Vl),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return QA(e).unknown(t)},e=arguments.length?Array.from(e,Vl):[0,1],bn(r)}function eO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function X0(e){return Math.log(e)}function J0(e){return Math.exp(e)}function YG(e){return-Math.log(-e)}function XG(e){return-Math.exp(-e)}function JG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ZG(e){return e===10?JG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function QG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Z0(e){return(t,r)=>-e(-t,r)}function jm(e){const t=e(X0,J0),r=t.domain;let n=10,a,i;function o(){return a=QG(n),i=ZG(n),r()[0]<0?(a=Z0(a),i=Z0(i),e(YG,XG)):e(X0,J0),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=a(c),p=a(u),g,m;const y=s==null?10:+s;let v=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;v.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;v.push(m)}v.length*2<y&&(v=Uf(c,u,y))}else v=Uf(h,p,Math.min(p-h,y)).map(i);return d?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Co(l)).precision==null&&(l.trim=!0),l=_m(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/i(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(eO(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function tO(){const e=jm(cu()).domain([1,10]);return e.copy=()=>As(e,tO()).base(e.base()),Yt.apply(e,arguments),e}function Q0(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Tm(e){var t=1,r=e(Q0(t),eb(t));return r.constant=function(n){return arguments.length?e(Q0(t=+n),eb(t)):t},bn(r)}function rO(){var e=Tm(cu());return e.copy=function(){return As(e,rO()).constant(e.constant())},Yt.apply(e,arguments)}function tb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function eH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function tH(e){return e<0?-e*e:e*e}function km(e){var t=e(wt,wt),r=1;function n(){return r===1?e(wt,wt):r===.5?e(eH,tH):e(tb(r),tb(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},bn(t)}function Em(){var e=km(cu());return e.copy=function(){return As(e,Em()).exponent(e.exponent())},Yt.apply(e,arguments),e}function rH(){return Em.apply(null,arguments).exponent(.5)}function rb(e){return Math.sign(e)*e*e}function nH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function nO(){var e=Am(),t=[0,1],r=!1,n;function a(i){var o=nH(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(rb(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Vl)).map(rb)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return nO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Yt.apply(a,arguments),bn(a)}function aO(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=lG(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Ss(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(fn),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return aO().domain(e).range(t).unknown(n)},Yt.apply(i,arguments)}function iO(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[Ss(n,l,0,r)]:i}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return iO().domain([e,t]).range(a).unknown(i)},Yt.apply(bn(o),arguments)}function oO(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Ss(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return oO().domain(e).range(t).unknown(r)},Yt.apply(a,arguments)}const vd=new Date,bd=new Date;function ot(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>ot(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(vd.setTime(+i),bd.setTime(+o),e(vd),e(bd),Math.floor(r(vd,bd))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Gl=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gl.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Gl);Gl.range;const Tr=1e3,Ht=Tr*60,kr=Ht*60,Br=kr*24,Cm=Br*7,nb=Br*30,xd=Br*365,Bn=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCSeconds());Bn.range;const Nm=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tr)},(e,t)=>{e.setTime(+e+t*Ht)},(e,t)=>(t-e)/Ht,e=>e.getMinutes());Nm.range;const Mm=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ht)},(e,t)=>(t-e)/Ht,e=>e.getUTCMinutes());Mm.range;const Im=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tr-e.getMinutes()*Ht)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getHours());Im.range;const $m=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getUTCHours());$m.range;const Os=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ht)/Br,e=>e.getDate()-1);Os.range;const uu=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Br,e=>e.getUTCDate()-1);uu.range;const sO=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Br,e=>Math.floor(e/Br));sO.range;function ia(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ht)/Cm)}const du=ia(0),Hl=ia(1),aH=ia(2),iH=ia(3),Ka=ia(4),oH=ia(5),sH=ia(6);du.range;Hl.range;aH.range;iH.range;Ka.range;oH.range;sH.range;function oa(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Cm)}const fu=oa(0),ql=oa(1),lH=oa(2),cH=oa(3),Ya=oa(4),uH=oa(5),dH=oa(6);fu.range;ql.range;lH.range;cH.range;Ya.range;uH.range;dH.range;const Rm=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Rm.range;const Dm=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Dm.range;const Fr=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fr.range;const Ur=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ur.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ur.range;function lO(e,t,r,n,a,i){const o=[[Bn,1,Tr],[Bn,5,5*Tr],[Bn,15,15*Tr],[Bn,30,30*Tr],[i,1,Ht],[i,5,5*Ht],[i,15,15*Ht],[i,30,30*Ht],[a,1,kr],[a,3,3*kr],[a,6,6*kr],[a,12,12*kr],[n,1,Br],[n,2,2*Br],[r,1,Cm],[t,1,nb],[t,3,3*nb],[e,1,xd]];function s(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=bm(([,,y])=>y).right(o,h);if(p===o.length)return e.every(zf(c/xd,u/xd,d));if(p===0)return Gl.every(Math.max(zf(c,u,d),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[s,l]}const[fH,hH]=lO(Ur,Dm,fu,sO,$m,Mm),[pH,mH]=lO(Fr,Rm,du,Os,Im,Nm);function wd(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sd(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bi(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function gH(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Fi(a),u=Ui(a),d=Fi(i),h=Ui(i),p=Fi(o),g=Ui(o),m=Fi(s),y=Ui(s),v=Fi(l),x=Ui(l),w={a:L,A:Y,b:W,B:ne,c:null,d:cb,e:cb,f:BH,g:YH,G:JH,H:RH,I:DH,j:LH,L:cO,m:FH,M:UH,p:ie,q:ee,Q:fb,s:hb,S:VH,u:zH,U:WH,V:GH,w:HH,W:qH,x:null,X:null,y:KH,Y:XH,Z:ZH,"%":db},A={a:oe,A:xe,b:Se,B:$,c:null,d:ub,e:ub,f:rq,g:fq,G:pq,H:QH,I:eq,j:tq,L:dO,m:nq,M:aq,p:K,q:D,Q:fb,s:hb,S:iq,u:oq,U:sq,V:lq,w:cq,W:uq,x:null,X:null,y:dq,Y:hq,Z:mq,"%":db},b={a:I,A:E,b:M,B:F,c:V,d:sb,e:sb,f:NH,g:ob,G:ib,H:lb,I:lb,j:TH,L:CH,m:jH,M:kH,p:T,q:_H,Q:IH,s:$H,S:EH,u:wH,U:SH,V:PH,w:xH,W:AH,x:z,X:G,y:ob,Y:ib,Z:OH,"%":MH};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),A.x=S(r,A),A.X=S(n,A),A.c=S(t,A);function S(k,R){return function(B){var N=[],H=-1,J=0,te=k.length,ae,he,ke;for(B instanceof Date||(B=new Date(+B));++H<te;)k.charCodeAt(H)===37&&(N.push(k.slice(J,H)),(he=ab[ae=k.charAt(++H)])!=null?ae=k.charAt(++H):he=ae==="e"?" ":"0",(ke=R[ae])&&(ae=ke(B,he)),N.push(ae),J=H+1);return N.push(k.slice(J,H)),N.join("")}}function O(k,R){return function(B){var N=Bi(1900,void 0,1),H=_(N,k,B+="",0),J,te;if(H!=B.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(N.s*1e3+("L"in N?N.L:0));if(R&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+N.p*12),N.m===void 0&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(J=Sd(Bi(N.y,0,1)),te=J.getUTCDay(),J=te>4||te===0?ql.ceil(J):ql(J),J=uu.offset(J,(N.V-1)*7),N.y=J.getUTCFullYear(),N.m=J.getUTCMonth(),N.d=J.getUTCDate()+(N.w+6)%7):(J=wd(Bi(N.y,0,1)),te=J.getDay(),J=te>4||te===0?Hl.ceil(J):Hl(J),J=Os.offset(J,(N.V-1)*7),N.y=J.getFullYear(),N.m=J.getMonth(),N.d=J.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),te="Z"in N?Sd(Bi(N.y,0,1)).getUTCDay():wd(Bi(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+N.W*7-(te+5)%7:N.w+N.U*7-(te+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,Sd(N)):wd(N)}}function _(k,R,B,N){for(var H=0,J=R.length,te=B.length,ae,he;H<J;){if(N>=te)return-1;if(ae=R.charCodeAt(H++),ae===37){if(ae=R.charAt(H++),he=b[ae in ab?R.charAt(H++):ae],!he||(N=he(k,B,N))<0)return-1}else if(ae!=B.charCodeAt(N++))return-1}return N}function T(k,R,B){var N=c.exec(R.slice(B));return N?(k.p=u.get(N[0].toLowerCase()),B+N[0].length):-1}function I(k,R,B){var N=p.exec(R.slice(B));return N?(k.w=g.get(N[0].toLowerCase()),B+N[0].length):-1}function E(k,R,B){var N=d.exec(R.slice(B));return N?(k.w=h.get(N[0].toLowerCase()),B+N[0].length):-1}function M(k,R,B){var N=v.exec(R.slice(B));return N?(k.m=x.get(N[0].toLowerCase()),B+N[0].length):-1}function F(k,R,B){var N=m.exec(R.slice(B));return N?(k.m=y.get(N[0].toLowerCase()),B+N[0].length):-1}function V(k,R,B){return _(k,t,R,B)}function z(k,R,B){return _(k,r,R,B)}function G(k,R,B){return _(k,n,R,B)}function L(k){return o[k.getDay()]}function Y(k){return i[k.getDay()]}function W(k){return l[k.getMonth()]}function ne(k){return s[k.getMonth()]}function ie(k){return a[+(k.getHours()>=12)]}function ee(k){return 1+~~(k.getMonth()/3)}function oe(k){return o[k.getUTCDay()]}function xe(k){return i[k.getUTCDay()]}function Se(k){return l[k.getUTCMonth()]}function $(k){return s[k.getUTCMonth()]}function K(k){return a[+(k.getUTCHours()>=12)]}function D(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var R=S(k+="",w);return R.toString=function(){return k},R},parse:function(k){var R=O(k+="",!1);return R.toString=function(){return k},R},utcFormat:function(k){var R=S(k+="",A);return R.toString=function(){return k},R},utcParse:function(k){var R=O(k+="",!0);return R.toString=function(){return k},R}}}var ab={"-":"",_:" ",0:"0"},ut=/^\s*\d+/,yH=/^%/,vH=/[\\^$*+?|[\]().{}]/g;function Ae(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function bH(e){return e.replace(vH,"\\$&")}function Fi(e){return new RegExp("^(?:"+e.map(bH).join("|")+")","i")}function Ui(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function xH(e,t,r){var n=ut.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function wH(e,t,r){var n=ut.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function SH(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function PH(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function AH(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ib(e,t,r){var n=ut.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function ob(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function OH(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _H(e,t,r){var n=ut.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function jH(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sb(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function TH(e,t,r){var n=ut.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lb(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function kH(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function EH(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function CH(e,t,r){var n=ut.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function NH(e,t,r){var n=ut.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function MH(e,t,r){var n=yH.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function IH(e,t,r){var n=ut.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function $H(e,t,r){var n=ut.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function cb(e,t){return Ae(e.getDate(),t,2)}function RH(e,t){return Ae(e.getHours(),t,2)}function DH(e,t){return Ae(e.getHours()%12||12,t,2)}function LH(e,t){return Ae(1+Os.count(Fr(e),e),t,3)}function cO(e,t){return Ae(e.getMilliseconds(),t,3)}function BH(e,t){return cO(e,t)+"000"}function FH(e,t){return Ae(e.getMonth()+1,t,2)}function UH(e,t){return Ae(e.getMinutes(),t,2)}function VH(e,t){return Ae(e.getSeconds(),t,2)}function zH(e){var t=e.getDay();return t===0?7:t}function WH(e,t){return Ae(du.count(Fr(e)-1,e),t,2)}function uO(e){var t=e.getDay();return t>=4||t===0?Ka(e):Ka.ceil(e)}function GH(e,t){return e=uO(e),Ae(Ka.count(Fr(e),e)+(Fr(e).getDay()===4),t,2)}function HH(e){return e.getDay()}function qH(e,t){return Ae(Hl.count(Fr(e)-1,e),t,2)}function KH(e,t){return Ae(e.getFullYear()%100,t,2)}function YH(e,t){return e=uO(e),Ae(e.getFullYear()%100,t,2)}function XH(e,t){return Ae(e.getFullYear()%1e4,t,4)}function JH(e,t){var r=e.getDay();return e=r>=4||r===0?Ka(e):Ka.ceil(e),Ae(e.getFullYear()%1e4,t,4)}function ZH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ae(t/60|0,"0",2)+Ae(t%60,"0",2)}function ub(e,t){return Ae(e.getUTCDate(),t,2)}function QH(e,t){return Ae(e.getUTCHours(),t,2)}function eq(e,t){return Ae(e.getUTCHours()%12||12,t,2)}function tq(e,t){return Ae(1+uu.count(Ur(e),e),t,3)}function dO(e,t){return Ae(e.getUTCMilliseconds(),t,3)}function rq(e,t){return dO(e,t)+"000"}function nq(e,t){return Ae(e.getUTCMonth()+1,t,2)}function aq(e,t){return Ae(e.getUTCMinutes(),t,2)}function iq(e,t){return Ae(e.getUTCSeconds(),t,2)}function oq(e){var t=e.getUTCDay();return t===0?7:t}function sq(e,t){return Ae(fu.count(Ur(e)-1,e),t,2)}function fO(e){var t=e.getUTCDay();return t>=4||t===0?Ya(e):Ya.ceil(e)}function lq(e,t){return e=fO(e),Ae(Ya.count(Ur(e),e)+(Ur(e).getUTCDay()===4),t,2)}function cq(e){return e.getUTCDay()}function uq(e,t){return Ae(ql.count(Ur(e)-1,e),t,2)}function dq(e,t){return Ae(e.getUTCFullYear()%100,t,2)}function fq(e,t){return e=fO(e),Ae(e.getUTCFullYear()%100,t,2)}function hq(e,t){return Ae(e.getUTCFullYear()%1e4,t,4)}function pq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ya(e):Ya.ceil(e),Ae(e.getUTCFullYear()%1e4,t,4)}function mq(){return"+0000"}function db(){return"%"}function fb(e){return+e}function hb(e){return Math.floor(+e/1e3)}var da,hO,pO;gq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gq(e){return da=gH(e),hO=da.format,da.parse,pO=da.utcFormat,da.utcParse,da}function yq(e){return new Date(e)}function vq(e){return e instanceof Date?+e:+new Date(+e)}function Lm(e,t,r,n,a,i,o,s,l,c){var u=Am(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),x=c("%b %d"),w=c("%B"),A=c("%Y");function b(S){return(l(S)<S?p:s(S)<S?g:o(S)<S?m:i(S)<S?y:n(S)<S?a(S)<S?v:x:r(S)<S?w:A)(S)}return u.invert=function(S){return new Date(d(S))},u.domain=function(S){return arguments.length?h(Array.from(S,vq)):h().map(yq)},u.ticks=function(S){var O=h();return e(O[0],O[O.length-1],S??10)},u.tickFormat=function(S,O){return O==null?b:c(O)},u.nice=function(S){var O=h();return(!S||typeof S.range!="function")&&(S=t(O[0],O[O.length-1],S??10)),S?h(eO(O,S)):u},u.copy=function(){return As(u,Lm(e,t,r,n,a,i,o,s,l,c))},u}function bq(){return Yt.apply(Lm(pH,mH,Fr,Rm,du,Os,Im,Nm,Bn,hO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xq(){return Yt.apply(Lm(fH,hH,Ur,Dm,fu,uu,$m,Mm,Bn,pO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hu(){var e=0,t=1,r,n,a,i,o=wt,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(a===0?.5:(d=(i(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,o=d(p,g),c):[o(0),o(1)]}}return c.range=u(ki),c.rangeRound=u(Pm),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function xn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mO(){var e=bn(hu()(wt));return e.copy=function(){return xn(e,mO())},Hr.apply(e,arguments)}function gO(){var e=jm(hu()).domain([1,10]);return e.copy=function(){return xn(e,gO()).base(e.base())},Hr.apply(e,arguments)}function yO(){var e=Tm(hu());return e.copy=function(){return xn(e,yO()).constant(e.constant())},Hr.apply(e,arguments)}function Bm(){var e=km(hu());return e.copy=function(){return xn(e,Bm()).exponent(e.exponent())},Hr.apply(e,arguments)}function wq(){return Bm.apply(null,arguments).exponent(.5)}function vO(){var e=[],t=wt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ss(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(fn),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>sG(e,i/n))},r.copy=function(){return vO(t).domain(e)},Hr.apply(r,arguments)}function pu(){var e=0,t=.5,r=1,n=1,a,i,o,s,l,c=wt,u,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?s:l),c(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),o=u(r=+r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(y){var v,x,w;return arguments.length?([v,x,w]=y,c=MG(m,[v,x,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(ki),p.rangeRound=g(Pm),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,a=m(e),i=m(t),o=m(r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function bO(){var e=bn(pu()(wt));return e.copy=function(){return xn(e,bO())},Hr.apply(e,arguments)}function xO(){var e=jm(pu()).domain([.1,1,10]);return e.copy=function(){return xn(e,xO()).base(e.base())},Hr.apply(e,arguments)}function wO(){var e=Tm(pu());return e.copy=function(){return xn(e,wO()).constant(e.constant())},Hr.apply(e,arguments)}function Fm(){var e=km(pu());return e.copy=function(){return xn(e,Fm()).exponent(e.exponent())},Hr.apply(e,arguments)}function Sq(){return Fm.apply(null,arguments).exponent(.5)}const pb=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jo,scaleDiverging:bO,scaleDivergingLog:xO,scaleDivergingPow:Fm,scaleDivergingSqrt:Sq,scaleDivergingSymlog:wO,scaleIdentity:QA,scaleImplicit:Wf,scaleLinear:Wl,scaleLog:tO,scaleOrdinal:xm,scalePoint:io,scalePow:Em,scaleQuantile:aO,scaleQuantize:iO,scaleRadial:nO,scaleSequential:mO,scaleSequentialLog:gO,scaleSequentialPow:Bm,scaleSequentialQuantile:vO,scaleSequentialSqrt:wq,scaleSequentialSymlog:yO,scaleSqrt:rH,scaleSymlog:rO,scaleThreshold:oO,scaleTime:bq,scaleUtc:xq,tickFormat:ZA},Symbol.toStringTag,{value:"Module"}));var Pq=xi;function Aq(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(s===void 0?o===o&&!Pq(o):r(o,s)))var s=o,l=i}return l}var mu=Aq;function Oq(e,t){return e>t}var SO=Oq,_q=mu,jq=SO,Tq=Ti;function kq(e){return e&&e.length?_q(e,Tq,jq):void 0}var Eq=kq;const gu=Ce(Eq);function Cq(e,t){return e<t}var PO=Cq,Nq=mu,Mq=PO,Iq=Ti;function $q(e){return e&&e.length?Nq(e,Iq,Mq):void 0}var Rq=$q;const yu=Ce(Rq);var Dq=em,Lq=wr,Bq=NA,Fq=jt;function Uq(e,t){var r=Fq(e)?Dq:Bq;return r(e,Lq(t))}var Vq=Uq,zq=EA,Wq=Vq;function Gq(e,t){return zq(Wq(e,t),1)}var Hq=Gq;const qq=Ce(Hq);var Kq=mm;function Yq(e,t){return Kq(e,t)}var Xq=Yq;const _s=Ce(Xq);var Ei=1e9,Jq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vm,Ge=!0,qt="[DecimalError] ",qn=qt+"Invalid argument: ",Um=qt+"Exponent out of range: ",Ci=Math.floor,Nn=Math.pow,Zq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mt,lt=1e7,Fe=7,AO=9007199254740991,Kl=Ci(AO/Fe),re={};re.absoluteValue=re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};re.comparedTo=re.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};re.decimalPlaces=re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};re.dividedBy=re.div=function(e){return Ir(this,new this.constructor(e))};re.dividedToIntegerBy=re.idiv=function(e){var t=this,r=t.constructor;return Me(Ir(t,new r(e),0,1),r.precision)};re.equals=re.eq=function(e){return!this.cmp(e)};re.exponent=function(){return tt(this)};re.greaterThan=re.gt=function(e){return this.cmp(e)>0};re.greaterThanOrEqualTo=re.gte=function(e){return this.cmp(e)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(e){return this.cmp(e)<0};re.lessThanOrEqualTo=re.lte=function(e){return this.cmp(e)<1};re.logarithm=re.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mt))throw Error(qt+"NaN");if(r.s<1)throw Error(qt+(r.s?"NaN":"-Infinity"));return r.eq(Mt)?new n(0):(Ge=!1,t=Ir(No(r,i),No(e,i),i),Ge=!0,Me(t,a))};re.minus=re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jO(t,e):OO(t,(e.s=-e.s,e))};re.modulo=re.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(qt+"NaN");return r.s?(Ge=!1,t=Ir(r,e,0,1).times(e),Ge=!0,r.minus(t)):Me(new n(r),a)};re.naturalExponential=re.exp=function(){return _O(this)};re.naturalLogarithm=re.ln=function(){return No(this)};re.negated=re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};re.plus=re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OO(t,e):jO(t,(e.s=-e.s,e))};re.precision=re.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qn+e);if(t=tt(a)+1,n=a.d.length-1,r=n*Fe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};re.squareRoot=re.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(qt+"NaN")}for(e=tt(s),Ge=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=or(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ci((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=o=r+3;;)if(i=n,n=i.plus(Ir(s,i,o+2)).times(.5),or(i.d).slice(0,o)===(t=or(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Me(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return Ge=!0,Me(n,r)};re.times=re.mul=function(e){var t,r,n,a,i,o,s,l,c,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,o=l,l=c,c=o),i=[],o=l+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+p[n]*h[a-n-1]+t,i[a--]=s%lt|0,t=s/lt|0;i[a]=(i[a]+t)%lt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ge?Me(e,d.precision):e};re.toDecimalPlaces=re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(mr(e,0,Ei),t===void 0?t=n.rounding:mr(t,0,8),Me(r,e+tt(r)+1,t))};re.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Qn(n,!0):(mr(e,0,Ei),t===void 0?t=a.rounding:mr(t,0,8),n=Me(new a(n),e+1,t),r=Qn(n,!0,e+1)),r};re.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Qn(a):(mr(e,0,Ei),t===void 0?t=i.rounding:mr(t,0,8),n=Me(new i(a),e+tt(a)+1,t),r=Qn(n.abs(),!1,e+tt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};re.toInteger=re.toint=function(){var e=this,t=e.constructor;return Me(new t(e),tt(e)+1,t.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Mt);if(s=new l(s),!s.s){if(e.s<1)throw Error(qt+"Infinity");return s}if(s.eq(Mt))return s;if(n=l.precision,e.eq(Mt))return Me(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=u<0?-u:u)<=AO){for(a=new l(Mt),t=Math.ceil(n/Fe+4),Ge=!1;r%2&&(a=a.times(s),gb(a.d,t)),r=Ci(r/2),r!==0;)s=s.times(s),gb(s.d,t);return Ge=!0,e.s<0?new l(Mt).div(a):Me(a,n)}}else if(i<0)throw Error(qt+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ge=!1,a=e.times(No(s,n+c)),Ge=!0,a=_O(a),a.s=i,a};re.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=tt(a),n=Qn(a,r<=i.toExpNeg||r>=i.toExpPos)):(mr(e,1,Ei),t===void 0?t=i.rounding:mr(t,0,8),a=Me(new i(a),e,t),r=tt(a),n=Qn(a,e<=r||r<=i.toExpNeg,e)),n};re.toSignificantDigits=re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(mr(e,1,Ei),t===void 0?t=n.rounding:mr(t,0,8)),Me(new n(r),e,t)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tt(e),r=e.constructor;return Qn(e,t<=r.toExpNeg||t>=r.toExpPos)};function OO(e,t){var r,n,a,i,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ge?Me(t,d):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(n=l,i=-i,s=c.length):(n=c,a=o,s=l.length),o=Math.ceil(d/Fe),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/lt|0,l[i]%=lt;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Ge?Me(t,d):t}function mr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qn+e)}function or(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Fe-n.length,r&&(i+=en(r)),i+=n;o=e[t],n=o+"",r=Fe-n.length,r&&(i+=en(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ir=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%lt|0,o=i/lt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*lt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,l,c,u,d,h,p,g,m,y,v,x,w,A,b,S,O,_,T=n.constructor,I=n.s==a.s?1:-1,E=n.d,M=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(qt+"Division by zero");for(l=n.e-a.e,O=M.length,b=E.length,p=new T(I),g=p.d=[],c=0;M[c]==(E[c]||0);)++c;if(M[c]>(E[c]||0)&&--l,i==null?x=i=T.precision:o?x=i+(tt(n)-tt(a))+1:x=i,x<0)return new T(0);if(x=x/Fe+2|0,c=0,O==1)for(u=0,M=M[0],x++;(c<b||u)&&x--;c++)w=u*lt+(E[c]||0),g[c]=w/M|0,u=w%M|0;else{for(u=lt/(M[0]+1)|0,u>1&&(M=e(M,u),E=e(E,u),O=M.length,b=E.length),A=O,m=E.slice(0,O),y=m.length;y<O;)m[y++]=0;_=M.slice(),_.unshift(0),S=M[0],M[1]>=lt/2&&++S;do u=0,s=t(M,m,O,y),s<0?(v=m[0],O!=y&&(v=v*lt+(m[1]||0)),u=v/S|0,u>1?(u>=lt&&(u=lt-1),d=e(M,u),h=d.length,y=m.length,s=t(d,m,h,y),s==1&&(u--,r(d,O<h?_:M,h))):(u==0&&(s=u=1),d=M.slice()),h=d.length,h<y&&d.unshift(0),r(m,d,y),s==-1&&(y=m.length,s=t(M,m,O,y),s<1&&(u++,r(m,O<y?_:M,y))),y=m.length):s===0&&(u++,m=[0]),g[c++]=u,s&&m[0]?m[y++]=E[A]||0:(m=[E[A]],y=1);while((A++<b||m[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=l,Me(p,o?i+tt(p)+1:i)}}();function _O(e,t){var r,n,a,i,o,s,l=0,c=0,u=e.constructor,d=u.precision;if(tt(e)>16)throw Error(Um+tt(e));if(!e.s)return new u(Mt);for(t==null?(Ge=!1,s=d):s=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Nn(2,c))/Math.LN10*2+5|0,s+=n,r=a=i=new u(Mt),u.precision=s;;){if(a=Me(a.times(e),s),r=r.times(++l),o=i.plus(Ir(a,r,s)),or(o.d).slice(0,s)===or(i.d).slice(0,s)){for(;c--;)i=Me(i.times(i),s);return u.precision=d,t==null?(Ge=!0,Me(i,d)):i}i=o}}function tt(e){for(var t=e.e*Fe,r=e.d[0];r>=10;r/=10)t++;return t}function Pd(e,t,r){if(t>e.LN10.sd())throw Ge=!0,r&&(e.precision=r),Error(qt+"LN10 precision limit exceeded");return Me(new e(e.LN10),t)}function en(e){for(var t="";e--;)t+="0";return t}function No(e,t){var r,n,a,i,o,s,l,c,u,d=1,h=10,p=e,g=p.d,m=p.constructor,y=m.precision;if(p.s<1)throw Error(qt+(p.s?"NaN":"-Infinity"));if(p.eq(Mt))return new m(0);if(t==null?(Ge=!1,c=y):c=t,p.eq(10))return t==null&&(Ge=!0),Pd(m,c);if(c+=h,m.precision=c,r=or(g),n=r.charAt(0),i=tt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=or(p.d),n=r.charAt(0),d++;i=tt(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=Pd(m,c+2,y).times(i+""),p=No(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=y,t==null?(Ge=!0,Me(p,y)):p;for(s=o=p=Ir(p.minus(Mt),p.plus(Mt),c),u=Me(p.times(p),c),a=3;;){if(o=Me(o.times(u),c),l=s.plus(Ir(o,new m(a),c)),or(l.d).slice(0,c)===or(s.d).slice(0,c))return s=s.times(2),i!==0&&(s=s.plus(Pd(m,c+2,y).times(i+""))),s=Ir(s,new m(d),c),m.precision=y,t==null?(Ge=!0,Me(s,y)):s;s=l,a+=2}}function mb(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ci(r/Fe),e.d=[],n=(r+1)%Fe,r<0&&(n+=Fe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Fe;n<a;)e.d.push(+t.slice(n,n+=Fe));t=t.slice(n),n=Fe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ge&&(e.e>Kl||e.e<-Kl))throw Error(Um+r)}else e.s=0,e.e=0,e.d=[0];return e}function Me(e,t,r){var n,a,i,o,s,l,c,u,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Fe,a=t,c=d[u=0];else{if(u=Math.ceil((n+1)/Fe),i=d.length,u>=i)return e;for(c=i=d[u],o=1;i>=10;i/=10)o++;n%=Fe,a=n-Fe+o}if(r!==void 0&&(i=Nn(10,o-a-1),s=c/i%10|0,l=t<0||d[u+1]!==void 0||c%i,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/Nn(10,o-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=tt(e),d.length=1,t=t-i-1,d[0]=Nn(10,(Fe-t%Fe)%Fe),e.e=Ci(-t/Fe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,i=1,u--):(d.length=u+1,i=Nn(10,Fe-n),d[u]=a>0?(c/Nn(10,o-a)%Nn(10,a)|0)*i:0),l)for(;;)if(u==0){(d[0]+=i)==lt&&(d[0]=1,++e.e);break}else{if(d[u]+=i,d[u]!=lt)break;d[u--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(Ge&&(e.e>Kl||e.e<-Kl))throw Error(Um+tt(e));return e}function jO(e,t){var r,n,a,i,o,s,l,c,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ge?Me(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),a=Math.max(Math.ceil(p/Fe),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=d.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>o;){if(l[--a]<d[a]){for(i=a;i&&l[--i]===0;)l[i]=lt-1;--l[i],l[a]+=lt}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ge?Me(t,p):t):new h(0)}function Qn(e,t,r){var n,a=tt(e),i=or(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+en(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+en(-a-1)+i,r&&(n=r-o)>0&&(i+=en(n))):a>=o?(i+=en(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+en(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=en(n))),e.s<0?"-"+i:i}function gb(e,t){if(e.length>t)return e.length=t,!0}function TO(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(qn+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return mb(o,i.toString())}else if(typeof i!="string")throw Error(qn+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Zq.test(i))mb(o,i);else throw Error(qn+i)}if(a.prototype=re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=TO,a.config=a.set=Qq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Qq(e){if(!e||typeof e!="object")throw Error(qt+"Object expected");var t,r,n,a=["precision",1,Ei,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ci(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(qn+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qn+r+": "+n);return this}var Vm=TO(Jq);Mt=new Vm(1);const Ee=Vm;function eK(e){return aK(e)||nK(e)||rK(e)||tK()}function tK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rK(e,t){if(e){if(typeof e=="string")return Kf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kf(e,t)}}function nK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function aK(e){if(Array.isArray(e))return Kf(e)}function Kf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iK=function(t){return t},kO={"@@functional/placeholder":!0},EO=function(t){return t===kO},yb=function(t){return function r(){return arguments.length===0||arguments.length===1&&EO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},oK=function e(t,r){return t===1?r:yb(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==kO}).length;return o>=t?r.apply(void 0,a):e(t-o,yb(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=a.map(function(d){return EO(d)?l.shift():d});return r.apply(void 0,eK(u).concat(l))}))})},vu=function(t){return oK(t.length,t)},Yf=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},sK=vu(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),lK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return iK;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},Xf=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},CO=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,l){return s===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function cK(e){var t;return e===0?t=1:t=Math.floor(new Ee(e).abs().log(10).toNumber())+1,t}function uK(e,t,r){for(var n=new Ee(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var dK=vu(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),fK=vu(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),hK=vu(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const bu={rangeStep:uK,getDigitCount:cK,interpolateNumber:dK,uninterpolateNumber:fK,uninterpolateTruncation:hK};function Jf(e){return gK(e)||mK(e)||NO(e)||pK()}function pK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gK(e){if(Array.isArray(e))return Zf(e)}function Mo(e,t){return bK(e)||vK(e,t)||NO(e,t)||yK()}function yK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NO(e,t){if(e){if(typeof e=="string")return Zf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zf(e,t)}}function Zf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vK(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function bK(e){if(Array.isArray(e))return e}function MO(e){var t=Mo(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function IO(e,t,r){if(e.lte(0))return new Ee(0);var n=bu.getDigitCount(e.toNumber()),a=new Ee(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new Ee(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=s.mul(a);return t?l:new Ee(Math.ceil(l))}function xK(e,t,r){var n=1,a=new Ee(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ee(10).pow(bu.getDigitCount(e)-1),a=new Ee(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ee(Math.floor(e)))}else e===0?a=new Ee(Math.floor((t-1)/2)):r||(a=new Ee(Math.floor(e)));var o=Math.floor((t-1)/2),s=lK(sK(function(l){return a.add(new Ee(l-o).mul(n)).toNumber()}),Yf);return s(0,t)}function $O(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ee(0),tickMin:new Ee(0),tickMax:new Ee(0)};var i=IO(new Ee(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Ee(0):(o=new Ee(e).add(t).div(2),o=o.sub(new Ee(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Ee(t).sub(o).div(i).toNumber()),c=s+l+1;return c>r?$O(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:i,tickMin:o.sub(new Ee(s).mul(i)),tickMax:o.add(new Ee(l).mul(i))})}function wK(e){var t=Mo(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=MO([r,n]),l=Mo(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(Jf(Yf(0,a-1).map(function(){return 1/0}))):[].concat(Jf(Yf(0,a-1).map(function(){return-1/0})),[u]);return r>n?Xf(d):d}if(c===u)return xK(c,a,i);var h=$O(c,u,o,i),p=h.step,g=h.tickMin,m=h.tickMax,y=bu.rangeStep(g,m.add(new Ee(.1).mul(p)),p);return r>n?Xf(y):y}function SK(e,t){var r=Mo(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=MO([n,a]),s=Mo(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),d=IO(new Ee(c).sub(l).div(u-1),i,0),h=[].concat(Jf(bu.rangeStep(new Ee(l),new Ee(c).sub(new Ee(.99).mul(d)),d)),[c]);return n>a?Xf(h):h}var PK=CO(wK),AK=CO(SK),OK="Invariant failed";function ea(e,t){throw new Error(OK)}var _K=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}function jK(e,t){return CK(e)||EK(e,t)||kK(e,t)||TK()}function TK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kK(e,t){if(e){if(typeof e=="string")return vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vb(e,t)}}function vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function CK(e){if(Array.isArray(e))return e}function NK(e,t){if(e==null)return{};var r=MK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LO(n.key),n)}}function RK(e,t,r){return $K(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DK(e,t,r){return t=Xl(t),LK(e,RO()?Reflect.construct(t,r||[],Xl(e).constructor):t.apply(e,r))}function LK(e,t){if(t&&(Xa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BK(e)}function BK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RO=function(){return!!e})()}function Xl(e){return Xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xl(e)}function FK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qf(e,t)}function Qf(e,t){return Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qf(e,t)}function DO(e,t,r){return t=LO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LO(e){var t=UK(e,"string");return Xa(t)=="symbol"?t:t+""}function UK(e,t){if(Xa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var js=function(e){function t(){return IK(this,t),DK(this,t,arguments)}return FK(t,e),RK(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,h=NK(n,_K),p=se(h,!1);this.props.direction==="x"&&u.type!=="number"&&ea();var g=l.map(function(m){var y=c(m,s),v=y.x,x=y.y,w=y.value,A=y.errorVal;if(!A)return null;var b=[],S,O;if(Array.isArray(A)){var _=jK(A,2);S=_[0],O=_[1]}else S=O=A;if(i==="vertical"){var T=u.scale,I=x+a,E=I+o,M=I-o,F=T(w-S),V=T(w+O);b.push({x1:V,y1:E,x2:V,y2:M}),b.push({x1:F,y1:I,x2:V,y2:I}),b.push({x1:F,y1:E,x2:F,y2:M})}else if(i==="horizontal"){var z=d.scale,G=v+a,L=G-o,Y=G+o,W=z(w-S),ne=z(w+O);b.push({x1:L,y1:ne,x2:Y,y2:ne}),b.push({x1:G,y1:W,x2:G,y2:ne}),b.push({x1:L,y1:W,x2:Y,y2:W})}return j.createElement(Pe,Yl({className:"recharts-errorBar",key:"bar-".concat(b.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},p),b.map(function(ie){return j.createElement("line",Yl({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return j.createElement(Pe,{className:"recharts-errorBars"},g)}}])}(j.Component);DO(js,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});DO(js,"displayName","ErrorBar");function Io(e){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(e)}function bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return t=zK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=WK(e,"string");return Io(t)=="symbol"?t:t+""}function WK(e,t){if(Io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BO=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ct(r,dn);if(!o)return null;var s=dn.defaultProps,l=s!==void 0?An(An({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:i==="children"?c=(n||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?An(An({},h),d.props):{},g=p.dataKey,m=p.name,y=p.legendType,v=p.hide;return{inactive:v,dataKey:g,type:l.iconType||y||"square",color:zm(d),value:m||g,payload:p}}),An(An(An({},l),dn.getWithHeight(o,a)),{},{payload:c,item:o})};function $o(e){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(e)}function xb(e){return KK(e)||qK(e)||HK(e)||GK()}function GK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HK(e,t){if(e){if(typeof e=="string")return eh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eh(e,t)}}function qK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KK(e){if(Array.isArray(e))return eh(e)}function eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wb(Object(r),!0).forEach(function(n){Na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Na(e,t,r){return t=YK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=XK(e,"string");return $o(t)=="symbol"?t:t+""}function XK(e,t){if($o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function at(e,t,r){return ge(e)||ge(t)?r:it(t)?Rt(e,t,r):de(t)?t(e):r}function oo(e,t,r,n){var a=qq(e,function(s){return at(s,t)});if(r==="number"){var i=a.filter(function(s){return Q(s)||parseFloat(s)});return i.length?[yu(i),gu(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!ge(s)}):a;return o.map(function(s){return it(s)||s instanceof Date?s:""})}var JK=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<s;c++){var u=c>0?a[c-1].coordinate:a[s-1].coordinate,d=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(bt(d-u)!==bt(h-d)){var g=[];if(bt(h-d)===bt(l[1]-l[0])){p=h;var m=d+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{p=u;var y=h+l[1]-l[0];g[0]=Math.min(d,(y+d)/2),g[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){o=a[c].index;break}}else{var x=Math.min(u,h),w=Math.max(u,h);if(t>(x+d)/2&&t<=(w+d)/2){o=a[c].index;break}}}else for(var A=0;A<s;A++)if(A===0&&t<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<s-1&&t>(n[A].coordinate+n[A-1].coordinate)/2&&t<=(n[A].coordinate+n[A+1].coordinate)/2||A===s-1&&t>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},zm=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ye(Ye({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},ZK=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,c=s.length;l<c;l++)for(var u=i[s[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],m=g.items,y=g.cateAxisId,v=m.filter(function(O){return un(O.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,w=x!==void 0?Ye(Ye({},x),v[0].props):v[0].props,A=w.barSize,b=w[y];o[b]||(o[b]=[]);var S=ge(A)?r:A;o[b].push({item:v[0],stackList:v.slice(1),barSize:ge(S)?void 0:xt(S,n,0)})}}return o},QK=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=xt(r,a,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/l,g=o.reduce(function(A,b){return A+b.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,y={offset:m-c,size:0};u=o.reduce(function(A,b){var S={item:b.item,position:{offset:y.offset+y.size+c,size:h?p:b.barSize}},O=[].concat(xb(A),[S]);return y=O[O.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(_){O.push({item:_,position:y})}),O},d)}else{var v=xt(n,a,0,!0);a-2*v-(l-1)*c<=0&&(c=0);var x=(a-2*v-(l-1)*c)/l;x>1&&(x>>=0);var w=s===+s?Math.min(x,s):x;u=o.reduce(function(A,b,S){var O=[].concat(xb(A),[{item:b.item,position:{offset:v+(x+c)*S+(x-w)/2,size:w}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(_){O.push({item:_,position:O[O.length-1].position})}),O},d)}return u},eY=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=BO({children:i,legendWidth:l});if(c){var u=a||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Q(t[p]))return Ye(Ye({},t),{},Na({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Q(t[g]))return Ye(Ye({},t),{},Na({},g,t[g]+(h||0)))}return t},tY=function(t,r,n){return ge(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},FO=function(t,r,n,a,i){var o=r.props.children,s=Dt(o,js).filter(function(c){return tY(a,i,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=at(u,n);if(ge(d))return c;var h=Array.isArray(d)?[yu(d),gu(d)]:[d,d],p=l.reduce(function(g,m){var y=at(u,m,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),x=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},rY=function(t,r,n,a,i){var o=r.map(function(s){return FO(t,s,n,i,a)}).filter(function(s){return!ge(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},UO=function(t,r,n,a,i){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&FO(t,l,c,a)||oo(t,c,n,i)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},VO=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},zO=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,o,s=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||s.push(r),o||s.push(n),s},Er=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?bt(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return u.filter(function(d){return!xs(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:i?i[d]:d,index:h,offset:c}})},Ad=new WeakMap,Gs=function(t,r){if(typeof r!="function")return t;Ad.has(t)||Ad.set(t,new WeakMap);var n=Ad.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},WO=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:jo(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Wl(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:io(),realScaleType:"point"}:i==="category"?{scale:jo(),realScaleType:"band"}:{scale:Wl(),realScaleType:"linear"};if(bs(a)){var l="scale".concat(tu(a));return{scale:(pb[l]||io)(),realScaleType:pb[l]?l:"point"}}return de(a)?{scale:a}:{scale:io(),realScaleType:"point"}},Sb=1e-4,GO=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-Sb,o=Math.max(a[0],a[1])+Sb,s=t(r[0]),l=t(r[n-1]);(s<i||s>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},nY=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},aY=function(t,r){if(!r||r.length!==2||!Q(r[0])||!Q(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Q(t[0])||t[0]<n)&&(i[0]=n),(!Q(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},iY=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var l=xs(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},oY=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=xs(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},sY={sign:iY,expand:MB,none:Va,silhouette:IB,wiggle:$B,positive:oY},lY=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=sY[n],o=NB().keys(a).value(function(s,l){return+at(s,l,0)}).order(Of).offset(i);return o(t)},cY=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ye(Ye({},h.type.defaultProps),h.props):h.props,m=g.stackId,y=g.hide;if(y)return d;var v=g[n],x=d[v]||{hasStack:!1,stackGroups:{}};if(it(m)){var w=x.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[m]=w}else x.stackGroups[Oi("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Ye(Ye({},d),{},Na({},v,x))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,y){var v=p.stackGroups[y];return Ye(Ye({},m),{},Na({},y,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:lY(t,v.items,i)}))},g)}return Ye(Ye({},d),{},Na({},h,p))},u)},HO=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=PK(c,i,s);return t.domain([yu(u),gu(u)]),{niceTicks:u}}if(i&&a==="number"){var d=t.domain(),h=AK(d,i,s);return{niceTicks:h}}return null};function Pb(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ge(a[t.dataKey])){var s=Pl(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=at(a,ge(o)?t.dataKey:o);return ge(l)?null:t.scale(l)}var Ab=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=at(o,r.dataKey,r.domain[s]);return ge(l)?null:r.scale(l)-i/2+a},uY=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},dY=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ye(Ye({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(it(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},fY=function(t){return t.reduce(function(r,n){return[yu(n.concat([r[0]]).filter(Q)),gu(n.concat([r[1]]).filter(Q))]},[1/0,-1/0])},qO=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,l=s.reduce(function(c,u){var d=fY(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Ob=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_b=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,th=function(t,r,n){if(de(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Q(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(Ob.test(t[0])){var i=+Ob.exec(t[0])[1];a[0]=r[0]-i}else de(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Q(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(_b.test(t[1])){var o=+_b.exec(t[1])[1];a[1]=r[1]+o}else de(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Jl=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=ym(r,function(d){return d.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var c=i[s],u=i[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},jb=function(t,r,n){return!t||!t.length||_s(t,Rt(n,"type.defaultProps.domain"))?r:t},KO=function(t,r){var n=t.type.defaultProps?Ye(Ye({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Ye(Ye({},se(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:zm(t),value:at(r,a),type:l,payload:r,chartType:c,hide:u})};function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function Tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tb(Object(r),!0).forEach(function(n){YO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YO(e,t,r){return t=hY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hY(e){var t=pY(e,"string");return Ro(t)=="symbol"?t:t+""}function pY(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mY(e,t){return bY(e)||vY(e,t)||yY(e,t)||gY()}function gY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(e,t){if(e){if(typeof e=="string")return kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kb(e,t)}}function kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function bY(e){if(Array.isArray(e))return e}var Zl=Math.PI/180,xY=function(t){return t*180/Math.PI},Re=function(t,r,n,a){return{x:t+Math.cos(-Zl*a)*n,y:r+Math.sin(-Zl*a)*n}},XO=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wY=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.startAngle,c=t.endAngle,u=xt(t.cx,o,o/2),d=xt(t.cy,s,s/2),h=XO(o,s,n),p=xt(t.innerRadius,h,0),g=xt(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(y,v){var x=r[v],w=x.domain,A=x.reversed,b;if(ge(x.range))a==="angleAxis"?b=[l,c]:a==="radiusAxis"&&(b=[p,g]),A&&(b=[b[1],b[0]]);else{b=x.range;var S=b,O=mY(S,2);l=O[0],c=O[1]}var _=WO(x,i),T=_.realScaleType,I=_.scale;I.domain(w).range(b),GO(I);var E=HO(I,Ar(Ar({},x),{},{realScaleType:T})),M=Ar(Ar(Ar({},x),E),{},{range:b,radius:g,realScaleType:T,scale:I,cx:u,cy:d,innerRadius:p,outerRadius:g,startAngle:l,endAngle:c});return Ar(Ar({},y),{},YO({},v,M))},{})},SY=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},PY=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=SY({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(n-i)/s,c=Math.acos(l);return a>o&&(c=2*Math.PI-c),{radius:s,angle:xY(c),angleInRadian:c}},AY=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},OY=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},Eb=function(t,r){var n=t.x,a=t.y,i=PY({x:n,y:a},r),o=i.radius,s=i.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=AY(r),d=u.startAngle,h=u.endAngle,p=s,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?Ar(Ar({},r),{},{radius:o,angle:OY(p,r)}):null},JO=function(t){return!P.isValidElement(t)&&!de(t)&&typeof t!="boolean"?t.className:""};function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}var _Y=["offset"];function jY(e){return CY(e)||EY(e)||kY(e)||TY()}function TY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kY(e,t){if(e){if(typeof e=="string")return rh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rh(e,t)}}function EY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CY(e){if(Array.isArray(e))return rh(e)}function rh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NY(e,t){if(e==null)return{};var r=MY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(r),!0).forEach(function(n){IY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IY(e,t,r){return t=$Y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=RY(e,"string");return Do(t)=="symbol"?t:t+""}function RY(e,t){if(Do(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(this,arguments)}var DY=function(t){var r=t.value,n=t.formatter,a=ge(t.children)?r:t.children;return de(n)?n(a):a},LY=function(t,r){var n=bt(r-t),a=Math.min(Math.abs(r-t),360);return n*a},BY=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,l=i,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,y=(d+h)/2,v=LY(p,g),x=v>=0?1:-1,w,A;a==="insideStart"?(w=p+x*o,A=m):a==="insideEnd"?(w=g-x*o,A=!m):a==="end"&&(w=g+x*o,A=m),A=v<=0?A:!A;var b=Re(c,u,y,w),S=Re(c,u,y,w+(A?1:-1)*359),O="M".concat(b.x,",").concat(b.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(S.x,",").concat(S.y),_=ge(t.id)?Oi("recharts-radial-line-"):t.id;return j.createElement("text",Lo({},n,{dominantBaseline:"central",className:be("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:_,d:O})),j.createElement("textPath",{xlinkHref:"#".concat(_)},r))},FY=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,d=i.endAngle,h=(u+d)/2;if(a==="outside"){var p=Re(o,s,c+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,v=Re(o,s,y,h),x=v.x,w=v.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},UY=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,d=u>=0?1:-1,h=d*a,p=d>0?"end":"start",g=d>0?"start":"end",m=c>=0?1:-1,y=m*a,v=m>0?"end":"start",x=m>0?"start":"end";if(i==="top"){var w={x:s+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return rt(rt({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var A={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return rt(rt({},A),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var b={x:s-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return rt(rt({},b),n?{width:Math.max(b.x-n.x,0),height:u}:{})}if(i==="right"){var S={x:s+c+y,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return rt(rt({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var O=n?{width:c,height:u}:{};return i==="insideLeft"?rt({x:s+y,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},O):i==="insideRight"?rt({x:s+c-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},O):i==="insideTop"?rt({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},O):i==="insideBottom"?rt({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},O):i==="insideTopLeft"?rt({x:s+y,y:l+h,textAnchor:x,verticalAnchor:g},O):i==="insideTopRight"?rt({x:s+c-y,y:l+h,textAnchor:v,verticalAnchor:g},O):i==="insideBottomLeft"?rt({x:s+y,y:l+u-h,textAnchor:x,verticalAnchor:p},O):i==="insideBottomRight"?rt({x:s+c-y,y:l+u-h,textAnchor:v,verticalAnchor:p},O):wi(i)&&(Q(i.x)||hf(i.x))&&(Q(i.y)||hf(i.y))?rt({x:s+xt(i.x,c),y:l+xt(i.y,u),textAnchor:"end",verticalAnchor:"end"},O):rt({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},O)},VY=function(t){return"cx"in t&&Q(t.cx)};function ct(e){var t=e.offset,r=t===void 0?5:t,n=NY(e,_Y),a=rt({offset:r},n),i=a.viewBox,o=a.position,s=a.value,l=a.children,c=a.content,u=a.className,d=u===void 0?"":u,h=a.textBreakAll;if(!i||ge(s)&&ge(l)&&!P.isValidElement(c)&&!de(c))return null;if(P.isValidElement(c))return P.cloneElement(c,a);var p;if(de(c)){if(p=P.createElement(c,a),P.isValidElement(p))return p}else p=DY(a);var g=VY(i),m=se(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return BY(a,p,m);var y=g?FY(a):UY(a);return j.createElement(Zn,Lo({className:be("recharts-label",d)},m,y,{breakAll:h}),p)}ct.displayName="Label";var ZO=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,h=t.y,p=t.top,g=t.left,m=t.width,y=t.height,v=t.clockWise,x=t.labelViewBox;if(x)return x;if(Q(m)&&Q(y)){if(Q(d)&&Q(h))return{x:d,y:h,width:m,height:y};if(Q(p)&&Q(g))return{x:p,y:g,width:m,height:y}}return Q(d)&&Q(h)?{x:d,y:h,width:0,height:0}:Q(r)&&Q(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:v}:t.viewBox?t.viewBox:{}},zY=function(t,r){return t?t===!0?j.createElement(ct,{key:"label-implicit",viewBox:r}):it(t)?j.createElement(ct,{key:"label-implicit",viewBox:r,value:t}):P.isValidElement(t)?t.type===ct?P.cloneElement(t,{key:"label-implicit",viewBox:r}):j.createElement(ct,{key:"label-implicit",content:t,viewBox:r}):de(t)?j.createElement(ct,{key:"label-implicit",content:t,viewBox:r}):wi(t)?j.createElement(ct,Lo({viewBox:r},t,{key:"label-implicit"})):null:null},WY=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=ZO(t),o=Dt(a,ct).map(function(l,c){return P.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return o;var s=zY(t.label,r||i);return[s].concat(jY(o))};ct.parseViewBox=ZO;ct.renderCallByParent=WY;function GY(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var HY=GY;const qY=Ce(HY);function Bo(e){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(e)}var KY=["valueAccessor"],YY=["data","dataKey","clockWise","id","textBreakAll"];function XY(e){return eX(e)||QY(e)||ZY(e)||JY()}function JY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZY(e,t){if(e){if(typeof e=="string")return nh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nh(e,t)}}function QY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eX(e){if(Array.isArray(e))return nh(e)}function nh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}function Nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nb(Object(r),!0).forEach(function(n){tX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tX(e,t,r){return t=rX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rX(e){var t=nX(e,"string");return Bo(t)=="symbol"?t:t+""}function nX(e,t){if(Bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ib(e,t){if(e==null)return{};var r=aX(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var iX=function(t){return Array.isArray(t.value)?qY(t.value):t.value};function $r(e){var t=e.valueAccessor,r=t===void 0?iX:t,n=Ib(e,KY),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=Ib(n,YY);return!a||!a.length?null:j.createElement(Pe,{className:"recharts-label-list"},a.map(function(u,d){var h=ge(i)?r(u,d):at(u&&u.payload,i),p=ge(s)?{}:{id:"".concat(s,"-").concat(d)};return j.createElement(ct,Ql({},se(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:ct.parseViewBox(ge(o)?u:Mb(Mb({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}$r.displayName="LabelList";function oX(e,t){return e?e===!0?j.createElement($r,{key:"labelList-implicit",data:t}):j.isValidElement(e)||de(e)?j.createElement($r,{key:"labelList-implicit",data:t,content:e}):wi(e)?j.createElement($r,Ql({data:t},e,{key:"labelList-implicit"})):null:null}function sX(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Dt(n,$r).map(function(o,s){return P.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=oX(e.label,t);return[i].concat(XY(a))}$r.renderCallByParent=sX;function Fo(e){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ah.apply(this,arguments)}function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$b(Object(r),!0).forEach(function(n){lX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lX(e,t,r){return t=cX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cX(e){var t=uX(e,"string");return Fo(t)=="symbol"?t:t+""}function uX(e,t){if(Fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dX=function(t,r){var n=bt(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Hs=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+a,d=Math.asin(l/u)/Zl,h=c?i:i+o*d,p=Re(r,n,u,h),g=Re(r,n,a,h),m=c?i-o*d:i,y=Re(r,n,u*Math.cos(d*Zl),m);return{center:p,circleTangency:g,lineTangency:y,theta:d}},QO=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,l=dX(o,s),c=o+l,u=Re(r,n,i,o),d=Re(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Re(r,n,a,o),g=Re(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},fX=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=bt(u-c),h=Hs({cx:r,cy:n,radius:i,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,y=Hs({cx:r,cy:n,radius:i,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),v=y.circleTangency,x=y.lineTangency,w=y.theta,A=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(A<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):QO({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var b="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var S=Hs({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=S.circleTangency,_=S.lineTangency,T=S.theta,I=Hs({cx:r,cy:n,radius:a,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=I.circleTangency,M=I.lineTangency,F=I.theta,V=l?Math.abs(c-u):Math.abs(c-u)-T-F;if(V<0&&o===0)return"".concat(b,"L").concat(r,",").concat(n,"Z");b+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(d>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else b+="L".concat(r,",").concat(n,"Z");return b},hX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},e_=function(t){var r=Rb(Rb({},hX),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(o<i||u===d)return null;var p=be("recharts-sector",h),g=o-i,m=xt(s,g,0,!0),y;return m>0&&Math.abs(u-d)<360?y=fX({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=QO({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),j.createElement("path",ah({},se(r,!0),{className:p,d:y,role:"img"}))};function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ih.apply(this,arguments)}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){pX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pX(e,t,r){return t=mX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mX(e){var t=gX(e,"string");return Uo(t)=="symbol"?t:t+""}function gX(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bb={curveBasisClosed:wB,curveBasisOpen:SB,curveBasis:xB,curveBumpX:oB,curveBumpY:sB,curveLinearClosed:PB,curveLinear:nu,curveMonotoneX:AB,curveMonotoneY:OB,curveNatural:_B,curveStep:jB,curveStepAfter:kB,curveStepBefore:TB},qs=function(t){return t.x===+t.x&&t.y===+t.y},Vi=function(t){return t.x},zi=function(t){return t.y},yX=function(t,r){if(de(t))return t;var n="curve".concat(tu(t));return(n==="curveMonotone"||n==="curveBump")&&r?Bb["".concat(n).concat(r==="vertical"?"Y":"X")]:Bb[n]||nu},vX=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=yX(n,s),d=c?i.filter(function(m){return qs(m)}):i,h;if(Array.isArray(o)){var p=c?o.filter(function(m){return qs(m)}):o,g=d.map(function(m,y){return Lb(Lb({},m),{},{base:p[y]})});return s==="vertical"?h=Ls().y(zi).x1(Vi).x0(function(m){return m.base.x}):h=Ls().x(Vi).y1(zi).y0(function(m){return m.base.y}),h.defined(qs).curve(u),h(g)}return s==="vertical"&&Q(o)?h=Ls().y(zi).x1(Vi).x0(o):Q(o)?h=Ls().x(Vi).y1(zi).y0(o):h=YP().x(Vi).y(zi),h.defined(qs).curve(u),h(d)},ec=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?vX(t):a;return j.createElement("path",ih({},se(t,!1),Al(t),{className:be("recharts-curve",r),d:o,ref:i}))},t_={exports:{}},bX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xX=bX,wX=xX;function r_(){}function n_(){}n_.resetWarningCache=r_;var SX=function(){function e(n,a,i,o,s,l){if(l!==wX){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n_,resetWarningCache:r_};return r.PropTypes=r,r};t_.exports=SX();var PX=t_.exports;const _e=Ce(PX);var AX=Object.getOwnPropertyNames,OX=Object.getOwnPropertySymbols,_X=Object.prototype.hasOwnProperty;function Fb(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Ks(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function Ub(e){return AX(e).concat(OX(e))}var jX=Object.hasOwn||function(e,t){return _X.call(e,t)};function sa(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var TX="__v",kX="__o",EX="_owner",Vb=Object.getOwnPropertyDescriptor,zb=Object.keys;function CX(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function NX(e,t){return sa(e.getTime(),t.getTime())}function MX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function IX(e,t){return e===t}function Wb(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;){if(a[d]){d++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var $X=sa;function RX(e,t,r){var n=zb(e),a=n.length;if(zb(t).length!==a)return!1;for(;a-- >0;)if(!a_(e,t,r,n[a]))return!1;return!0}function Wi(e,t,r){var n=Ub(e),a=n.length;if(Ub(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!a_(e,t,r,i)||(o=Vb(e,i),s=Vb(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function DX(e,t){return sa(e.valueOf(),t.valueOf())}function LX(e,t){return e.source===t.source&&e.flags===t.flags}function Gb(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!a[u]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function BX(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function FX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function a_(e,t,r,n){return(n===EX||n===kX||n===TX)&&(e.$$typeof||t.$$typeof)?!0:jX(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var UX="[object Arguments]",VX="[object Boolean]",zX="[object Date]",WX="[object Error]",GX="[object Map]",HX="[object Number]",qX="[object Object]",KX="[object RegExp]",YX="[object Set]",XX="[object String]",JX="[object URL]",ZX=Array.isArray,Hb=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,qb=Object.assign,QX=Object.prototype.toString.call.bind(Object.prototype.toString);function eJ(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,y){if(g===m)return!0;if(g==null||m==null)return!1;var v=typeof g;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?o(g,m,y):v==="function"?a(g,m,y):!1;var x=g.constructor;if(x!==m.constructor)return!1;if(x===Object)return s(g,m,y);if(ZX(g))return t(g,m,y);if(Hb!=null&&Hb(g))return d(g,m,y);if(x===Date)return r(g,m,y);if(x===RegExp)return c(g,m,y);if(x===Map)return i(g,m,y);if(x===Set)return u(g,m,y);var w=QX(g);return w===zX?r(g,m,y):w===KX?c(g,m,y):w===GX?i(g,m,y):w===YX?u(g,m,y):w===qX?typeof g.then!="function"&&typeof m.then!="function"&&s(g,m,y):w===JX?h(g,m,y):w===WX?n(g,m,y):w===UX?s(g,m,y):w===VX||w===HX||w===XX?l(g,m,y):!1}}function tJ(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Wi:CX,areDatesEqual:NX,areErrorsEqual:MX,areFunctionsEqual:IX,areMapsEqual:n?Fb(Wb,Wi):Wb,areNumbersEqual:$X,areObjectsEqual:n?Wi:RX,arePrimitiveWrappersEqual:DX,areRegExpsEqual:LX,areSetsEqual:n?Fb(Gb,Wi):Gb,areTypedArraysEqual:n?Wi:BX,areUrlsEqual:FX};if(r&&(a=qb({},a,r(a))),t){var i=Ks(a.areArraysEqual),o=Ks(a.areMapsEqual),s=Ks(a.areObjectsEqual),l=Ks(a.areSetsEqual);a=qb({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function rJ(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function nJ(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),d=u.cache,h=d===void 0?t?new WeakMap:void 0:d,p=u.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,o)}}var aJ=wn();wn({strict:!0});wn({circular:!0});wn({circular:!0,strict:!0});wn({createInternalComparator:function(){return sa}});wn({strict:!0,createInternalComparator:function(){return sa}});wn({circular:!0,createInternalComparator:function(){return sa}});wn({circular:!0,createInternalComparator:function(){return sa},strict:!0});function wn(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=tJ(e),l=eJ(s),c=n?n(l):rJ(l);return nJ({circular:r,comparator:l,createState:a,equals:c,strict:o})}function iJ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Kb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):iJ(a)};requestAnimationFrame(n)}function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(e)}function oJ(e){return uJ(e)||cJ(e)||lJ(e)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(e,t){if(e){if(typeof e=="string")return Yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yb(e,t)}}function Yb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uJ(e){if(Array.isArray(e))return e}function dJ(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=oJ(o),l=s[0],c=s.slice(1);if(typeof l=="number"){Kb(a.bind(null,c),l);return}a(l),Kb(a.bind(null,c));return}oh(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}function Xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xb(Object(r),!0).forEach(function(n){i_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i_(e,t,r){return t=fJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fJ(e){var t=hJ(e,"string");return Vo(t)==="symbol"?t:String(t)}function hJ(e,t){if(Vo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pJ=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},mJ=function(t){return t},gJ=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},so=function(t,r){return Object.keys(r).reduce(function(n,a){return Jb(Jb({},n),{},i_({},a,t(a,r[a])))},{})},Zb=function(t,r,n){return t.map(function(a){return"".concat(gJ(a)," ").concat(r,"ms ").concat(n)}).join(",")};function yJ(e,t){return xJ(e)||bJ(e,t)||o_(e,t)||vJ()}function vJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function xJ(e){if(Array.isArray(e))return e}function wJ(e){return AJ(e)||PJ(e)||o_(e)||SJ()}function SJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o_(e,t){if(e){if(typeof e=="string")return sh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sh(e,t)}}function PJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AJ(e){if(Array.isArray(e))return sh(e)}function sh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tc=1e-4,s_=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},l_=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Qb=function(t,r){return function(n){var a=s_(t,r);return l_(a,n)}},OJ=function(t,r){return function(n){var a=s_(t,r),i=[].concat(wJ(a.map(function(o,s){return o*s}).slice(1)),[0]);return l_(i,n)}},ex=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=yJ(c,4);a=u[0],i=u[1],o=u[2],s=u[3]}}}var d=Qb(a,o),h=Qb(i,s),p=OJ(a,o),g=function(v){return v>1?1:v<0?0:v},m=function(v){for(var x=v>1?1:v,w=x,A=0;A<8;++A){var b=d(w)-x,S=p(w);if(Math.abs(b-x)<tc||S<tc)return h(w);w=g(w-b/S)}return h(w)};return m.isStepper=!1,m},_J=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,l=function(u,d,h){var p=-(u-d)*n,g=h*i,m=h+(p-g)*s/1e3,y=h*s/1e3+u;return Math.abs(y-d)<tc&&Math.abs(m)<tc?[d,0]:[y,m]};return l.isStepper=!0,l.dt=s,l},jJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ex(a);case"spring":return _J();default:if(a.split("(")[0]==="cubic-bezier")return ex(a)}return typeof a=="function"?a:null};function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function tx(e){return EJ(e)||kJ(e)||c_(e)||TJ()}function TJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EJ(e){if(Array.isArray(e))return ch(e)}function rx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rx(Object(r),!0).forEach(function(n){lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lh(e,t,r){return t=CJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CJ(e){var t=NJ(e,"string");return zo(t)==="symbol"?t:String(t)}function NJ(e,t){if(zo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MJ(e,t){return RJ(e)||$J(e,t)||c_(e,t)||IJ()}function IJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c_(e,t){if(e){if(typeof e=="string")return ch(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ch(e,t)}}function ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $J(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function RJ(e){if(Array.isArray(e))return e}var rc=function(t,r,n){return t+(r-t)*n},uh=function(t){var r=t.from,n=t.to;return r!==n},DJ=function e(t,r,n){var a=so(function(i,o){if(uh(o)){var s=t(o.from,o.to,o.velocity),l=MJ(s,2),c=l[0],u=l[1];return dt(dt({},o),{},{from:c,velocity:u})}return o},r);return n<1?so(function(i,o){return uh(o)?dt(dt({},o),{},{velocity:rc(o.velocity,a[i].velocity,n),from:rc(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const LJ=function(e,t,r,n,a){var i=pJ(e,t),o=i.reduce(function(y,v){return dt(dt({},y),{},lh({},v,[e[v],t[v]]))},{}),s=i.reduce(function(y,v){return dt(dt({},y),{},lh({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return so(function(v,x){return x.from},s)},p=function(){return!Object.values(s).filter(uh).length},g=function(v){c||(c=v);var x=v-c,w=x/r.dt;s=DJ(r,s,w),a(dt(dt(dt({},e),t),h())),c=v,p()||(l=requestAnimationFrame(d))},m=function(v){u||(u=v);var x=(v-u)/n,w=so(function(b,S){return rc.apply(void 0,tx(S).concat([r(x)]))},o);if(a(dt(dt(dt({},e),t),w)),x<1)l=requestAnimationFrame(d);else{var A=so(function(b,S){return rc.apply(void 0,tx(S).concat([r(1)]))},o);a(dt(dt(dt({},e),t),A))}};return d=r.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Ja(e){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}var BJ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function FJ(e,t){if(e==null)return{};var r=UJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UJ(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Od(e){return GJ(e)||WJ(e)||zJ(e)||VJ()}function VJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zJ(e,t){if(e){if(typeof e=="string")return dh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dh(e,t)}}function WJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GJ(e){if(Array.isArray(e))return dh(e)}function dh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nx(Object(r),!0).forEach(function(n){Ji(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ji(e,t,r){return t=u_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u_(n.key),n)}}function KJ(e,t,r){return qJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u_(e){var t=YJ(e,"string");return Ja(t)==="symbol"?t:String(t)}function YJ(e,t){if(Ja(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ja(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fh(e,t)}function fh(e,t){return fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fh(e,t)}function JJ(e){var t=ZJ();return function(){var n=nc(e),a;if(t){var i=nc(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return hh(this,a)}}function hh(e,t){if(t&&(Ja(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ph(e)}function ph(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nc(e){return nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nc(e)}var gr=function(e){XJ(r,e);var t=JJ(r);function r(n,a){var i;HJ(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,d=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(ph(i)),i.changeStyle=i.changeStyle.bind(ph(i)),!s||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),hh(i);if(d&&d.length)i.state={style:d[0].style};else if(c){if(typeof h=="function")return i.state={style:c},hh(i);i.state={style:l?Ji({},l,c):c}}else i.state={style:{}};return i}return KJ(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,d=i.from,h=this.state.style;if(s){if(!o){var p={style:l?Ji({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(aJ(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?d:a.to;if(this.state&&h){var y={style:l?Ji({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(y)}this.runAnimation(Jt(Jt({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,c=a.easing,u=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=LJ(o,s,jJ(c),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,c=o[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(m,y,v){if(v===0)return m;var x=y.duration,w=y.easing,A=w===void 0?"ease":w,b=y.style,S=y.properties,O=y.onAnimationEnd,_=v>0?o[v-1]:y,T=S||Object.keys(b);if(typeof A=="function"||A==="spring")return[].concat(Od(m),[i.runJSAnimation.bind(i,{from:_.style,to:b,duration:x,easing:A}),x]);var I=Zb(T,x,A),E=Jt(Jt(Jt({},_.style),b),{},{transition:I});return[].concat(Od(m),[E,x,O]).filter(mJ)};return this.manager.start([l].concat(Od(o.reduce(p,[u,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=dJ());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=s?Ji({},s,l):l,y=Zb(Object.keys(m),o,c);g.start([u,i,Jt(Jt({},m),{},{transition:y}),o,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=FJ(a,BJ),c=P.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!s||c===0||o<=0)return i;var d=function(p){var g=p.props,m=g.style,y=m===void 0?{}:m,v=g.className,x=P.cloneElement(p,Jt(Jt({},l),{},{style:Jt(Jt({},y),u),className:v}));return x};return c===1?d(P.Children.only(i)):j.createElement("div",null,P.Children.map(i,function(h){return d(h)}))}}]),r}(P.PureComponent);gr.displayName="Animate";gr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};gr.propTypes={from:_e.oneOfType([_e.object,_e.string]),to:_e.oneOfType([_e.object,_e.string]),attributeName:_e.string,duration:_e.number,begin:_e.number,easing:_e.oneOfType([_e.string,_e.func]),steps:_e.arrayOf(_e.shape({duration:_e.number.isRequired,style:_e.object.isRequired,easing:_e.oneOfType([_e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_e.func]),properties:_e.arrayOf("string"),onAnimationEnd:_e.func})),children:_e.oneOfType([_e.node,_e.func]),isActive:_e.bool,canBegin:_e.bool,onAnimationEnd:_e.func,shouldReAnimate:_e.bool,onAnimationStart:_e.func,onAnimationReStart:_e.func};function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}function QJ(e,t){return nZ(e)||rZ(e,t)||tZ(e,t)||eZ()}function eZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZ(e,t){if(e){if(typeof e=="string")return ax(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ax(e,t)}}function ax(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function nZ(e){if(Array.isArray(e))return e}function ix(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ox(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ix(Object(r),!0).forEach(function(n){aZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ix(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aZ(e,t,r){return t=iZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iZ(e){var t=oZ(e,"string");return Wo(t)=="symbol"?t:t+""}function oZ(e,t){if(Wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sx=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>o?o:i[h];u="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),u+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),u+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),u+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*d[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);u="M ".concat(t,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*g,`
            L `).concat(t+n,",").concat(r+a-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},sZ=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(i,i+s),u=Math.max(i,i+s),d=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=u&&a>=d&&a<=h}return!1},lZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wm=function(t){var r=ox(ox({},lZ),t),n=P.useRef(),a=P.useState(-1),i=QJ(a,2),o=i[0],s=i[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&s(A)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,y=r.animationBegin,v=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=be("recharts-rectangle",p);return x?j.createElement(gr,{canBegin:o>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:g,isActive:x},function(A){var b=A.width,S=A.height,O=A.x,_=A.y;return j.createElement(gr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:v,easing:g},j.createElement("path",ac({},se(r,!0),{className:w,d:sx(O,_,b,S,h),ref:n})))}):j.createElement("path",ac({},se(r,!0),{className:w,d:sx(l,c,u,d,h)}))},cZ=["points","className","baseLinePoints","connectNulls"];function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pa.apply(this,arguments)}function uZ(e,t){if(e==null)return{};var r=dZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lx(e){return mZ(e)||pZ(e)||hZ(e)||fZ()}function fZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hZ(e,t){if(e){if(typeof e=="string")return mh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mh(e,t)}}function pZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mZ(e){if(Array.isArray(e))return mh(e)}function mh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cx=function(t){return t&&t.x===+t.x&&t.y===+t.y},gZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){cx(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),cx(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},lo=function(t,r){var n=gZ(t);r&&(n=[n.reduce(function(i,o){return[].concat(lx(i),lx(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},yZ=function(t,r,n){var a=lo(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(lo(r.reverse(),n).slice(1))},vZ=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=uZ(t,cZ);if(!r||!r.length)return null;var s=be("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",c=yZ(r,a,i);return j.createElement("g",{className:s},j.createElement("path",Pa({},se(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?j.createElement("path",Pa({},se(o,!0),{fill:"none",d:lo(r,i)})):null,l?j.createElement("path",Pa({},se(o,!0),{fill:"none",d:lo(a,i)})):null)}var u=lo(r,i);return j.createElement("path",Pa({},se(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(this,arguments)}var xu=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=be("recharts-dot",i);return r===+r&&n===+n&&a===+a?j.createElement("circle",gh({},se(t,!1),Al(t),{className:o,cx:r,cy:n,r:a})):null};function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}var bZ=["x","y","top","left","width","height","className"];function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(this,arguments)}function ux(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ux(Object(r),!0).forEach(function(n){wZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ux(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wZ(e,t,r){return t=SZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SZ(e){var t=PZ(e,"string");return Go(t)=="symbol"?t:t+""}function PZ(e,t){if(Go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AZ(e,t){if(e==null)return{};var r=OZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _Z=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},jZ=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,h=t.height,p=h===void 0?0:h,g=t.className,m=AZ(t,bZ),y=xZ({x:n,y:i,top:s,left:c,width:d,height:p},m);return!Q(n)||!Q(i)||!Q(d)||!Q(p)||!Q(s)||!Q(c)?null:j.createElement("path",yh({},se(y,!0),{className:be("recharts-cross",g),d:_Z(n,i,d,p,s,c)}))},TZ=mu,kZ=SO,EZ=wr;function CZ(e,t){return e&&e.length?TZ(e,EZ(t),kZ):void 0}var NZ=CZ;const MZ=Ce(NZ);var IZ=mu,$Z=wr,RZ=PO;function DZ(e,t){return e&&e.length?IZ(e,$Z(t),RZ):void 0}var LZ=DZ;const BZ=Ce(LZ);var FZ=["cx","cy","angle","ticks","axisLine"],UZ=["ticks","tick","angle","tickFormatter","stroke"];function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(this,arguments)}function dx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dx(Object(r),!0).forEach(function(n){wu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fx(e,t){if(e==null)return{};var r=VZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f_(n.key),n)}}function WZ(e,t,r){return hx(e.prototype,t),hx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GZ(e,t,r){return t=ic(t),HZ(e,d_()?Reflect.construct(t,r||[],ic(e).constructor):t.apply(e,r))}function HZ(e,t){if(t&&(Za(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qZ(e)}function qZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d_=function(){return!!e})()}function ic(e){return ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ic(e)}function KZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vh(e,t)}function vh(e,t){return vh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vh(e,t)}function wu(e,t,r){return t=f_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f_(e){var t=YZ(e,"string");return Za(t)=="symbol"?t:t+""}function YZ(e,t){if(Za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Su=function(e){function t(){return zZ(this,t),GZ(this,t,arguments)}return KZ(t,e),WZ(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,l=i.cy;return Re(s,l,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=MZ(s,function(u){return u.coordinate||0}),c=BZ(s,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=fx(n,FZ),u=s.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),d=Re(a,i,u[0],o),h=Re(a,i,u[1],o),p=On(On(On({},se(c,!1)),{},{fill:"none"},se(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return j.createElement("line",co({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,l=a.tickFormatter,c=a.stroke,u=fx(a,UZ),d=this.getTickTextAnchor(),h=se(u,!1),p=se(o,!1),g=i.map(function(m,y){var v=n.getTickValueCoord(m),x=On(On(On(On({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:y},v),{},{payload:m});return j.createElement(Pe,co({className:be("recharts-polar-radius-axis-tick",JO(o)),key:"tick-".concat(m.coordinate)},Jn(n.props,m,y)),t.renderTickItem(o,x,l?l(m.value,y):m.value))});return j.createElement(Pe,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:j.createElement(Pe,{className:be("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),ct.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return j.isValidElement(n)?o=j.cloneElement(n,a):de(n)?o=n(a):o=j.createElement(Zn,co({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(P.PureComponent);wu(Su,"displayName","PolarRadiusAxis");wu(Su,"axisType","radiusAxis");wu(Su,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Qa(e){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},In.apply(this,arguments)}function px(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?px(Object(r),!0).forEach(function(n){Pu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):px(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p_(n.key),n)}}function JZ(e,t,r){return mx(e.prototype,t),mx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZZ(e,t,r){return t=oc(t),QZ(e,h_()?Reflect.construct(t,r||[],oc(e).constructor):t.apply(e,r))}function QZ(e,t){if(t&&(Qa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eQ(e)}function eQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h_=function(){return!!e})()}function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oc(e)}function tQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bh(e,t)}function bh(e,t){return bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bh(e,t)}function Pu(e,t,r){return t=p_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p_(e){var t=rQ(e,"string");return Qa(t)=="symbol"?t:t+""}function rQ(e,t){if(Qa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nQ=Math.PI/180,gx=1e-5,Au=function(e){function t(){return XZ(this,t),ZZ(this,t,arguments)}return tQ(t,e),JZ(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.orientation,c=a.tickSize,u=c||8,d=Re(i,o,s,n.coordinate),h=Re(i,o,s+(l==="inner"?-1:1)*u,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*nQ),o;return i>gx?o=a==="outer"?"start":"end":i<-gx?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=_n(_n({},se(this.props,!1)),{},{fill:"none"},se(s,!1));if(l==="circle")return j.createElement(xu,In({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:i,r:o}));var u=this.props.ticks,d=u.map(function(h){return Re(a,i,o,h.coordinate)});return j.createElement(vZ,In({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,l=a.tickFormatter,c=a.stroke,u=se(this.props,!1),d=se(o,!1),h=_n(_n({},u),{},{fill:"none"},se(s,!1)),p=i.map(function(g,m){var y=n.getTickLineCoord(g),v=n.getTickTextAnchor(g),x=_n(_n(_n({textAnchor:v},u),{},{stroke:"none",fill:c},d),{},{index:m,payload:g,x:y.x2,y:y.y2});return j.createElement(Pe,In({className:be("recharts-polar-angle-axis-tick",JO(o)),key:"tick-".concat(g.coordinate)},Jn(n.props,g,m)),s&&j.createElement("line",In({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&t.renderTickItem(o,x,l?l(g.value,m):g.value))});return j.createElement(Pe,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:j.createElement(Pe,{className:be("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return j.isValidElement(n)?o=j.cloneElement(n,a):de(n)?o=n(a):o=j.createElement(Zn,In({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(P.PureComponent);Pu(Au,"displayName","PolarAngleAxis");Pu(Au,"axisType","angleAxis");Pu(Au,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var aQ=bA,iQ=aQ(Object.getPrototypeOf,Object),oQ=iQ,sQ=Wr,lQ=oQ,cQ=Gr,uQ="[object Object]",dQ=Function.prototype,fQ=Object.prototype,m_=dQ.toString,hQ=fQ.hasOwnProperty,pQ=m_.call(Object);function mQ(e){if(!cQ(e)||sQ(e)!=uQ)return!1;var t=lQ(e);if(t===null)return!0;var r=hQ.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&m_.call(r)==pQ}var gQ=mQ;const yQ=Ce(gQ);var vQ=Wr,bQ=Gr,xQ="[object Boolean]";function wQ(e){return e===!0||e===!1||bQ(e)&&vQ(e)==xQ}var SQ=wQ;const PQ=Ce(SQ);function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sc.apply(this,arguments)}function AQ(e,t){return TQ(e)||jQ(e,t)||_Q(e,t)||OQ()}function OQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Q(e,t){if(e){if(typeof e=="string")return yx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yx(e,t)}}function yx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function TQ(e){if(Array.isArray(e))return e}function vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vx(Object(r),!0).forEach(function(n){kQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kQ(e,t,r){return t=EQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EQ(e){var t=CQ(e,"string");return Ho(t)=="symbol"?t:t+""}function CQ(e,t){if(Ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xx=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},NQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MQ=function(t){var r=bx(bx({},NQ),t),n=P.useRef(),a=P.useState(-1),i=AQ(a,2),o=i[0],s=i[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,y=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var x=be("recharts-trapezoid",p);return v?j.createElement(gr,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:v},function(w){var A=w.upperWidth,b=w.lowerWidth,S=w.height,O=w.x,_=w.y;return j.createElement(gr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:g},j.createElement("path",sc({},se(r,!0),{className:x,d:xx(O,_,A,b,S),ref:n})))}):j.createElement("g",null,j.createElement("path",sc({},se(r,!0),{className:x,d:xx(l,c,u,d,h)})))},IQ=["option","shapeType","propTransformer","activeClassName","isActive"];function qo(e){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(e)}function $Q(e,t){if(e==null)return{};var r=RQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wx(Object(r),!0).forEach(function(n){DQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DQ(e,t,r){return t=LQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LQ(e){var t=BQ(e,"string");return qo(t)=="symbol"?t:t+""}function BQ(e,t){if(qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FQ(e,t){return lc(lc({},t),e)}function UQ(e,t){return e==="symbols"}function Sx(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return j.createElement(Wm,r);case"trapezoid":return j.createElement(MQ,r);case"sector":return j.createElement(e_,r);case"symbols":if(UQ(t))return j.createElement(cm,r);break;default:return null}}function VQ(e){return P.isValidElement(e)?e.props:e}function g_(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?FQ:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,l=$Q(e,IQ),c;if(P.isValidElement(t))c=P.cloneElement(t,lc(lc({},l),VQ(t)));else if(de(t))c=t(l);else if(yQ(t)&&!PQ(t)){var u=a(t,l);c=j.createElement(Sx,{shapeType:r,elementProps:u})}else{var d=l;c=j.createElement(Sx,{shapeType:r,elementProps:d})}return s?j.createElement(Pe,{className:o},c):c}function Ou(e,t){return t!=null&&"trapezoids"in e.props}function _u(e,t){return t!=null&&"sectors"in e.props}function Ko(e,t){return t!=null&&"points"in e.props}function zQ(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function WQ(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function GQ(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function HQ(e,t){var r;return Ou(e,t)?r=zQ:_u(e,t)?r=WQ:Ko(e,t)&&(r=GQ),r}function qQ(e,t){var r;return Ou(e,t)?r="trapezoids":_u(e,t)?r="sectors":Ko(e,t)&&(r="points"),r}function KQ(e,t){if(Ou(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(_u(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ko(e,t)?t.payload:{}}function YQ(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=qQ(r,t),i=KQ(r,t),o=n.filter(function(l,c){var u=_s(i,l),d=r.props[a].filter(function(g){var m=HQ(r,t);return m(g,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return u&&p}),s=n.indexOf(o[o.length-1]);return s}var ol;function ei(e){"@babel/helpers - typeof";return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(e)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aa.apply(this,arguments)}function Px(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Px(Object(r),!0).forEach(function(n){Gt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Px(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ax(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v_(n.key),n)}}function JQ(e,t,r){return Ax(e.prototype,t),Ax(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZQ(e,t,r){return t=cc(t),QQ(e,y_()?Reflect.construct(t,r,cc(e).constructor):t.apply(e,r))}function QQ(e,t){if(t&&(ei(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eee(e)}function eee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y_=function(){return!!e})()}function cc(e){return cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cc(e)}function tee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xh(e,t)}function xh(e,t){return xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xh(e,t)}function Gt(e,t,r){return t=v_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v_(e){var t=ree(e,"string");return ei(t)=="symbol"?t:t+""}function ree(e,t){if(ei(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ei(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qr=function(e){function t(r){var n;return XQ(this,t),n=ZQ(this,t,[r]),Gt(n,"pieRef",null),Gt(n,"sectorRefs",[]),Gt(n,"id",Oi("recharts-pie-")),Gt(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),de(a)&&a()}),Gt(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),de(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return tee(t,e),JQ(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,l=i.dataKey,c=i.valueKey,u=se(this.props,!1),d=se(o,!1),h=se(s,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,y){var v=(m.startAngle+m.endAngle)/2,x=Re(m.cx,m.cy,m.outerRadius+p,v),w=Ie(Ie(Ie(Ie({},u),m),{},{stroke:"none"},d),{},{index:y,textAnchor:t.getTextAnchor(x.x,m.cx)},x),A=Ie(Ie(Ie(Ie({},u),m),{},{fill:"none",stroke:m.fill},h),{},{index:y,points:[Re(m.cx,m.cy,m.outerRadius,v),x]}),b=l;return ge(l)&&ge(c)?b="value":ge(l)&&(b=c),j.createElement(Pe,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},s&&t.renderLabelLineItem(s,A,"line"),t.renderLabelItem(o,w,at(m,b)))});return j.createElement(Pe,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,l=i.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var d=a.isActiveIndex(u),h=l&&a.hasActiveIndex()?l:null,p=d?o:h,g=Ie(Ie({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return j.createElement(Pe,Aa({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Jn(a.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),j.createElement(g_,Aa({option:p,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,u=a.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return j.createElement(gr,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,y=[],v=i&&i[0],x=v.startAngle;return i.forEach(function(w,A){var b=h&&h[A],S=A>0?Rt(w,"paddingAngle",0):0;if(b){var O=Nt(b.endAngle-b.startAngle,w.endAngle-w.startAngle),_=Ie(Ie({},w),{},{startAngle:x+S,endAngle:x+O(m)+S});y.push(_),x=_.endAngle}else{var T=w.endAngle,I=w.startAngle,E=Nt(0,T-I),M=E(m),F=Ie(Ie({},w),{},{startAngle:x+S,endAngle:x+M+S});y.push(F),x=F.endAngle}}),j.createElement(Pe,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!_s(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,l=a.label,c=a.cx,u=a.cy,d=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Q(c)||!Q(u)||!Q(d)||!Q(h))return null;var m=be("recharts-pie",s);return j.createElement(Pe,{tabIndex:this.props.rootTabIndex,className:m,ref:function(v){n.pieRef=v}},this.renderSectors(),l&&this.renderLabels(o),ct.renderCallByParent(this.props,null,!1),(!p||g)&&$r.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(j.isValidElement(n))return j.cloneElement(n,a);if(de(n))return n(a);var o=be("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return j.createElement(ec,Aa({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(j.isValidElement(n))return j.cloneElement(n,a);var o=i;if(de(n)&&(o=n(a),j.isValidElement(o)))return o;var s=be("recharts-pie-label-text",typeof n!="boolean"&&!de(n)?n.className:"");return j.createElement(Zn,Aa({},a,{alignmentBaseline:"middle",className:s}),o)}}])}(P.PureComponent);ol=qr;Gt(qr,"displayName","Pie");Gt(qr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!dr.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Gt(qr,"parseDeltaAngle",function(e,t){var r=bt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Gt(qr,"getRealPieData",function(e){var t=e.data,r=e.children,n=se(e,!1),a=Dt(r,lu);return t&&t.length?t.map(function(i,o){return Ie(Ie(Ie({payload:i},n),i),a[o]&&a[o].props)}):a.length?a.map(function(i){return Ie(Ie({},n),i.props)}):[]});Gt(qr,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=XO(a,i),s=n+xt(e.cx,a,a/2),l=r+xt(e.cy,i,i/2),c=xt(e.innerRadius,o,0),u=xt(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});Gt(qr,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ie(Ie({},t.type.defaultProps),t.props):t.props,a=ol.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=ol.parseCoordinateOfPie(n,r),m=ol.parseDeltaAngle(o,s),y=Math.abs(m),v=c;ge(c)&&ge(d)?(gn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):ge(c)&&(gn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=d);var x=a.filter(function(_){return at(_,v,0)!==0}).length,w=(y>=360?x:x-1)*l,A=y-x*p-w,b=a.reduce(function(_,T){var I=at(T,v,0);return _+(Q(I)?I:0)},0),S;if(b>0){var O;S=a.map(function(_,T){var I=at(_,v,0),E=at(_,u,T),M=(Q(I)?I:0)/b,F;T?F=O.endAngle+bt(m)*l*(I!==0?1:0):F=o;var V=F+bt(m)*((I!==0?p:0)+M*A),z=(F+V)/2,G=(g.innerRadius+g.outerRadius)/2,L=[{name:E,value:I,payload:_,dataKey:v,type:h}],Y=Re(g.cx,g.cy,G,z);return O=Ie(Ie(Ie({percent:M,cornerRadius:i,name:E,tooltipPayload:L,midAngle:z,middleRadius:G,tooltipPosition:Y},_),g),{},{value:at(_,v),startAngle:F,endAngle:V,payload:_,paddingAngle:bt(m)*l}),O})}return Ie(Ie({},g),{},{sectors:S,data:a})});var nee=Math.ceil,aee=Math.max;function iee(e,t,r,n){for(var a=-1,i=aee(nee((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var oee=iee,see=LA,Ox=1/0,lee=17976931348623157e292;function cee(e){if(!e)return e===0?e:0;if(e=see(e),e===Ox||e===-Ox){var t=e<0?-1:1;return t*lee}return e===e?e:0}var b_=cee,uee=oee,dee=su,_d=b_;function fee(e){return function(t,r,n){return n&&typeof n!="number"&&dee(t,r,n)&&(r=n=void 0),t=_d(t),r===void 0?(r=t,t=0):r=_d(r),n=n===void 0?t<r?1:-1:_d(n),uee(t,r,n,e)}}var hee=fee,pee=hee,mee=pee(),gee=mee;const uc=Ce(gee);function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}function _x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_x(Object(r),!0).forEach(function(n){x_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_x(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x_(e,t,r){return t=yee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yee(e){var t=vee(e,"string");return Yo(t)=="symbol"?t:t+""}function vee(e,t){if(Yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bee=["Webkit","Moz","O","ms"],xee=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=bee.reduce(function(i,o){return jx(jx({},i),{},x_({},o+n,r))},{});return a[t]=r,a};function ti(e){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(e)}function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}function Tx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tx(Object(r),!0).forEach(function(n){Et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S_(n.key),n)}}function See(e,t,r){return kx(e.prototype,t),kx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pee(e,t,r){return t=fc(t),Aee(e,w_()?Reflect.construct(t,r,fc(e).constructor):t.apply(e,r))}function Aee(e,t){if(t&&(ti(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oee(e)}function Oee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w_=function(){return!!e})()}function fc(e){return fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fc(e)}function _ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wh(e,t)}function wh(e,t){return wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wh(e,t)}function Et(e,t,r){return t=S_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S_(e){var t=jee(e,"string");return ti(t)=="symbol"?t:t+""}function jee(e,t){if(ti(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ti(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tee=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=io().domain(uc(0,l)).range([i,i+o-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},Ex=function(t){return t.changedTouches&&!!t.changedTouches.length},ri=function(e){function t(r){var n;return wee(this,t),n=Pee(this,t,[r]),Et(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Et(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Et(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),Et(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Et(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Et(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Et(n,"handleSlideDragStart",function(a){var i=Ex(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _ee(t,e),See(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,d),g=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=at(i[n],s,n);return de(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-d-s,c+u-d-o):m<0&&(m=Math.max(m,c-o,c-s));var y=this.getIndex({startX:o+m,endX:s+m});(y.startIndex!==h||y.endIndex!==p)&&g&&g(y),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=Ex(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[o],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,m=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,d+h-p-c):x<0&&(x=Math.max(x,d-c)),v[o]=c+x;var w=this.getIndex(v),A=w.startIndex,b=w.endIndex,S=function(){var _=y.length-1;return o==="startX"&&(s>l?A%m===0:b%m===0)||s<l&&b===_||o==="endX"&&(s>l?b%m===0:A%m===0)||s>l&&b===_};this.setState(Et(Et({},o,c+x),"brushMoveStartX",n.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[a],d=s.indexOf(u);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Et({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return j.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,d=P.Children.only(c);return d?j.cloneElement(d,{x:a,y:i,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,y=l.endIndex,v=Math.max(n,this.props.x),x=jd(jd({},se(this.props,!1)),{},{x:v,y:c,width:u,height:d}),w=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return j.createElement(Pe,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),s.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return j.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return j.createElement(Pe,{className:"recharts-brush-texts"},j.createElement(Zn,dc({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:o+s/2},g),this.getTextOfTick(a)),j.createElement(Zn,dc({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:o+s/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!Q(s)||!Q(l)||!Q(c)||!Q(u)||c<=0||u<=0)return null;var w=be("recharts-brush",i),A=j.Children.count(o)===1,b=xee("userSelect","none");return j.createElement(Pe,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||y||v||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(i+s/2)-1;return j.createElement(j.Fragment,null,j.createElement("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),j.createElement("line",{x1:a+1,y1:c,x2:a+o-1,y2:c,fill:"none",stroke:"#fff"}),j.createElement("line",{x1:a+1,y1:c+2,x2:a+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return j.isValidElement(n)?i=j.cloneElement(n,a):de(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return jd({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},i&&i.length?Tee({data:i,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>a?s=l:o=l}return a>=n[s]?s:o}}])}(P.PureComponent);Et(ri,"displayName","Brush");Et(ri,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var kee=gm;function Eee(e,t){var r;return kee(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var Cee=Eee,Nee=dA,Mee=wr,Iee=Cee,$ee=jt,Ree=su;function Dee(e,t,r){var n=$ee(e)?Nee:Iee;return r&&Ree(e,t,r)&&(t=void 0),n(e,Mee(t))}var Lee=Dee;const Bee=Ce(Lee);var hr=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Cx=MA;function Fee(e,t,r){t=="__proto__"&&Cx?Cx(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Uee=Fee,Vee=Uee,zee=CA,Wee=wr;function Gee(e,t){var r={};return t=Wee(t),zee(e,function(n,a,i){Vee(r,a,t(n,a,i))}),r}var Hee=Gee;const qee=Ce(Hee);function Kee(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Yee=Kee,Xee=gm;function Jee(e,t){var r=!0;return Xee(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Zee=Jee,Qee=Yee,ete=Zee,tte=wr,rte=jt,nte=su;function ate(e,t,r){var n=rte(e)?Qee:ete;return r&&nte(e,t,r)&&(t=void 0),n(e,tte(t))}var ite=ate;const P_=Ce(ite);var ote=["x","y"];function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(this,arguments)}function Nx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nx(Object(r),!0).forEach(function(n){ste(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ste(e,t,r){return t=lte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lte(e){var t=cte(e,"string");return Xo(t)=="symbol"?t:t+""}function cte(e,t){if(Xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ute(e,t){if(e==null)return{};var r=dte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fte(e,t){var r=e.x,n=e.y,a=ute(e,ote),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Gi(Gi(Gi(Gi(Gi({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Mx(e){return j.createElement(g_,Sh({shapeType:"rectangle",propTransformer:fte,activeClassName:"recharts-active-bar"},e))}var hte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||ea(),r)}},pte=["value","background"],A_;function ni(e){"@babel/helpers - typeof";return ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ni(e)}function mte(e,t){if(e==null)return{};var r=gte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hc.apply(this,arguments)}function Ix(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ix(Object(r),!0).forEach(function(n){sn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ix(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,__(n.key),n)}}function vte(e,t,r){return $x(e.prototype,t),$x(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bte(e,t,r){return t=pc(t),xte(e,O_()?Reflect.construct(t,r,pc(e).constructor):t.apply(e,r))}function xte(e,t){if(t&&(ni(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wte(e)}function wte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O_=function(){return!!e})()}function pc(e){return pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pc(e)}function Ste(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ph(e,t)}function Ph(e,t){return Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ph(e,t)}function sn(e,t,r){return t=__(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __(e){var t=Pte(e,"string");return ni(t)=="symbol"?t:t+""}function Pte(e,t){if(ni(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ni(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var la=function(e){function t(){var r;yte(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=bte(this,t,[].concat(a)),sn(r,"state",{isAnimationFinished:!1}),sn(r,"id",Oi("recharts-bar-")),sn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),sn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Ste(t,e),vte(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,l=i.activeIndex,c=i.activeBar,u=se(this.props,!1);return n&&n.map(function(d,h){var p=h===l,g=p?c:o,m=Qe(Qe(Qe({},u),d),{},{isActive:p,option:g,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return j.createElement(Pe,hc({className:"recharts-bar-rectangle"},Jn(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),j.createElement(Mx,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state.prevData;return j.createElement(gr,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(y,v){var x=h&&h[v];if(x){var w=Nt(x.x,y.x),A=Nt(x.y,y.y),b=Nt(x.width,y.width),S=Nt(x.height,y.height);return Qe(Qe({},y),{},{x:w(g),y:A(g),width:b(g),height:S(g)})}if(o==="horizontal"){var O=Nt(0,y.height),_=O(g);return Qe(Qe({},y),{},{y:y.y+y.height-_,height:_})}var T=Nt(0,y.width),I=T(g);return Qe(Qe({},y),{},{width:I})});return j.createElement(Pe,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!_s(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,l=se(this.props.background,!1);return i.map(function(c,u){c.value;var d=c.background,h=mte(c,pte);if(!d)return null;var p=Qe(Qe(Qe(Qe(Qe({},h),{},{fill:"#eee"},d),l),Jn(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return j.createElement(Mx,hc({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,d=Dt(u,js);if(!d)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(y,v){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:at(y,v)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return j.createElement(Pe,g,d.map(function(m){return j.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,v=be("recharts-bar",o),x=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,A=x||w,b=ge(m)?this.id:m;return j.createElement(Pe,{className:v},x||w?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(b)},j.createElement("rect",{x:x?c:c-d/2,y:w?u:u-h/2,width:x?d:d*2,height:w?h:h*2}))):null,j.createElement(Pe,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(b,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,b),(!p||y)&&$r.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(P.PureComponent);A_=la;sn(la,"displayName","Bar");sn(la,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!dr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});sn(la,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=nY(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,y=m!==void 0?Qe(Qe({},m),r.props):r.props,v=y.dataKey,x=y.children,w=y.minPointSize,A=g==="horizontal"?o:i,b=c?A.scale.domain():null,S=uY({numericAxis:A}),O=Dt(x,lu),_=d.map(function(T,I){var E,M,F,V,z,G;c?E=aY(c[u+I],b):(E=at(T,v),Array.isArray(E)||(E=[S,E]));var L=hte(w,A_.defaultProps.minPointSize)(E[1],I);if(g==="horizontal"){var Y,W=[o.scale(E[0]),o.scale(E[1])],ne=W[0],ie=W[1];M=Ab({axis:i,ticks:s,bandSize:a,offset:p.offset,entry:T,index:I}),F=(Y=ie??ne)!==null&&Y!==void 0?Y:void 0,V=p.size;var ee=ne-ie;if(z=Number.isNaN(ee)?0:ee,G={x:M,y:o.y,width:V,height:o.height},Math.abs(L)>0&&Math.abs(z)<Math.abs(L)){var oe=bt(z||L)*(Math.abs(L)-Math.abs(z));F-=oe,z+=oe}}else{var xe=[i.scale(E[0]),i.scale(E[1])],Se=xe[0],$=xe[1];if(M=Se,F=Ab({axis:o,ticks:l,bandSize:a,offset:p.offset,entry:T,index:I}),V=$-Se,z=p.size,G={x:i.x,y:F,width:i.width,height:z},Math.abs(L)>0&&Math.abs(V)<Math.abs(L)){var K=bt(V||L)*(Math.abs(L)-Math.abs(V));V+=K}}return Qe(Qe(Qe({},T),{},{x:M,y:F,width:V,height:z,value:c?E:E[1],payload:T,background:G},O[I]&&O[I].props),{},{tooltipPayload:[KO(r,T)],tooltipPosition:{x:M+V/2,y:F+z/2}})});return Qe({data:_,layout:g},h)});function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function Ate(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j_(n.key),n)}}function Ote(e,t,r){return Rx(e.prototype,t),Rx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dx(Object(r),!0).forEach(function(n){ju(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ju(e,t,r){return t=j_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j_(e){var t=_te(e,"string");return Jo(t)=="symbol"?t:t+""}function _te(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T_=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Ct(c,la);return u.reduce(function(p,g){var m=r[g],y=m.orientation,v=m.domain,x=m.padding,w=x===void 0?{}:x,A=m.mirror,b=m.reversed,S="".concat(y).concat(A?"Mirror":""),O,_,T,I,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var M=v[1]-v[0],F=1/0,V=m.categoricalDomain.sort();if(V.forEach(function(xe,Se){Se>0&&(F=Math.min((xe||0)-(V[Se-1]||0),F))}),Number.isFinite(F)){var z=F/M,G=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(O=z*G/2),m.padding==="no-gap"){var L=xt(t.barCategoryGap,z*G),Y=z*G/2;O=Y-L-(Y-L)/G*L}}}a==="xAxis"?_=[n.left+(w.left||0)+(O||0),n.left+n.width-(w.right||0)-(O||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(O||0),n.top+n.height-(w.bottom||0)-(O||0)]:_=m.range,b&&(_=[_[1],_[0]]);var W=WO(m,i,h),ne=W.scale,ie=W.realScaleType;ne.domain(v).range(_),GO(ne);var ee=HO(ne,Qt(Qt({},m),{},{realScaleType:ie}));a==="xAxis"?(E=y==="top"&&!A||y==="bottom"&&A,T=n.left,I=d[S]-E*m.height):a==="yAxis"&&(E=y==="left"&&!A||y==="right"&&A,T=d[S]-E*m.width,I=n.top);var oe=Qt(Qt(Qt({},m),ee),{},{realScaleType:ie,x:T,y:I,scale:ne,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return oe.bandSize=Jl(oe,ee),!m.hide&&a==="xAxis"?d[S]+=(E?-1:1)*oe.height:m.hide||(d[S]+=(E?-1:1)*oe.width),Qt(Qt({},p),{},ju({},g,oe))},{})},k_=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},jte=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return k_({x:r,y:n},{x:a,y:i})},E_=function(){function e(t){Ate(this,e),this.scale=t}return Ote(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();ju(E_,"EPS",1e-4);var Gm=function(t){var r=Object.keys(t).reduce(function(n,a){return Qt(Qt({},n),{},ju({},a,E_.create(t[a])))},{});return Qt(Qt({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return qee(a,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return P_(a,function(i,o){return r[o].isInRange(i)})}})};function Tte(e){return(e%180+180)%180}var kte=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Tte(a),o=i*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Ete=wr,Cte=ws,Nte=iu;function Mte(e){return function(t,r,n){var a=Object(t);if(!Cte(t)){var i=Ete(r);t=Nte(t),r=function(s){return i(a[s],s,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var Ite=Mte,$te=b_;function Rte(e){var t=$te(e),r=t%1;return t===t?r?t-r:t:0}var Dte=Rte,Lte=OA,Bte=wr,Fte=Dte,Ute=Math.max;function Vte(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Fte(r);return a<0&&(a=Ute(n+a,0)),Lte(e,Bte(t),a)}var zte=Vte,Wte=Ite,Gte=zte,Hte=Wte(Gte),qte=Hte;const Kte=Ce(qte);var Yte=J4(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Hm=P.createContext(void 0),qm=P.createContext(void 0),C_=P.createContext(void 0),N_=P.createContext({}),M_=P.createContext(void 0),I_=P.createContext(0),$_=P.createContext(0),Lx=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,u=Yte(i);return j.createElement(Hm.Provider,{value:n},j.createElement(qm.Provider,{value:a},j.createElement(N_.Provider,{value:i},j.createElement(C_.Provider,{value:u},j.createElement(M_.Provider,{value:o},j.createElement(I_.Provider,{value:c},j.createElement($_.Provider,{value:l},s)))))))},Xte=function(){return P.useContext(M_)},R_=function(t){var r=P.useContext(Hm);r==null&&ea();var n=r[t];return n==null&&ea(),n},Jte=function(){var t=P.useContext(Hm);return on(t)},Zte=function(){var t=P.useContext(qm),r=Kte(t,function(n){return P_(n.domain,Number.isFinite)});return r||on(t)},D_=function(t){var r=P.useContext(qm);r==null&&ea();var n=r[t];return n==null&&ea(),n},Qte=function(){var t=P.useContext(C_);return t},ere=function(){return P.useContext(N_)},Km=function(){return P.useContext($_)},Ym=function(){return P.useContext(I_)};function ai(e){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function tre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B_(n.key),n)}}function nre(e,t,r){return rre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function are(e,t,r){return t=mc(t),ire(e,L_()?Reflect.construct(t,r||[],mc(e).constructor):t.apply(e,r))}function ire(e,t){if(t&&(ai(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ore(e)}function ore(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L_=function(){return!!e})()}function mc(e){return mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mc(e)}function sre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ah(e,t)}function Ah(e,t){return Ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ah(e,t)}function Bx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bx(Object(r),!0).forEach(function(n){Xm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xm(e,t,r){return t=B_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B_(e){var t=lre(e,"string");return ai(t)=="symbol"?t:t+""}function lre(e,t){if(ai(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ai(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cre(e,t){return hre(e)||fre(e,t)||dre(e,t)||ure()}function ure(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dre(e,t){if(e){if(typeof e=="string")return Ux(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ux(e,t)}}function Ux(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function hre(e){if(Array.isArray(e))return e}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(this,arguments)}var pre=function(t,r){var n;return j.isValidElement(t)?n=j.cloneElement(t,r):de(t)?n=t(r):n=j.createElement("line",Oh({},r,{className:"recharts-reference-line-line"})),n},mre=function(t,r,n,a,i,o,s,l,c){var u=i.x,d=i.y,h=i.width,p=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:o});if(hr(c,"discard")&&!t.y.isInRange(m))return null;var y=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?y.reverse():y}if(r){var v=c.x,x=t.x.apply(v,{position:o});if(hr(c,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:d+p},{x,y:d}];return s==="top"?w.reverse():w}if(a){var A=c.segment,b=A.map(function(S){return t.apply(S,{position:o})});return hr(c,"discard")&&Bee(b,function(S){return!t.isInRange(S)})?null:b}return null};function gre(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=Xte(),u=R_(a),d=D_(i),h=Qte();if(!c||!h)return null;gn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Gm({x:u.scale,y:d.scale}),g=it(t),m=it(r),y=n&&n.length===2,v=mre(p,g,m,y,h,e.position,u.orientation,d.orientation,e);if(!v)return null;var x=cre(v,2),w=x[0],A=w.x,b=w.y,S=x[1],O=S.x,_=S.y,T=hr(e,"hidden")?"url(#".concat(c,")"):void 0,I=Fx(Fx({clipPath:T},se(e,!0)),{},{x1:A,y1:b,x2:O,y2:_});return j.createElement(Pe,{className:be("recharts-reference-line",s)},pre(o,I),ct.renderCallByParent(e,jte({x1:A,y1:b,x2:O,y2:_})))}var Jm=function(e){function t(){return tre(this,t),are(this,t,arguments)}return sre(t,e),nre(t,[{key:"render",value:function(){return j.createElement(gre,this.props)}}])}(j.Component);Xm(Jm,"displayName","ReferenceLine");Xm(Jm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_h.apply(this,arguments)}function ii(e){"@babel/helpers - typeof";return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(e)}function Vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vx(Object(r),!0).forEach(function(n){Tu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U_(n.key),n)}}function bre(e,t,r){return vre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xre(e,t,r){return t=gc(t),wre(e,F_()?Reflect.construct(t,r||[],gc(e).constructor):t.apply(e,r))}function wre(e,t){if(t&&(ii(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sre(e)}function Sre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F_=function(){return!!e})()}function gc(e){return gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gc(e)}function Pre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jh(e,t)}function jh(e,t){return jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jh(e,t)}function Tu(e,t,r){return t=U_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U_(e){var t=Are(e,"string");return ii(t)=="symbol"?t:t+""}function Are(e,t){if(ii(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ii(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ore=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=Gm({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return hr(t,"discard")&&!o.isInRange(s)?null:s},ku=function(e){function t(){return yre(this,t),xre(this,t,arguments)}return Pre(t,e),bre(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=it(a),u=it(i);if(gn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=Ore(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,m=g.shape,y=g.className,v=hr(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=zx(zx({clipPath:v},se(this.props,!0)),{},{cx:h,cy:p});return j.createElement(Pe,{className:be("recharts-reference-dot",y)},t.renderDot(m,x),ct.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(j.Component);Tu(ku,"displayName","ReferenceDot");Tu(ku,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tu(ku,"renderDot",function(e,t){var r;return j.isValidElement(e)?r=j.cloneElement(e,t):de(e)?r=e(t):r=j.createElement(xu,_h({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Th.apply(this,arguments)}function oi(e){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(e)}function Wx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wx(Object(r),!0).forEach(function(n){Eu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z_(n.key),n)}}function Tre(e,t,r){return jre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kre(e,t,r){return t=yc(t),Ere(e,V_()?Reflect.construct(t,r||[],yc(e).constructor):t.apply(e,r))}function Ere(e,t){if(t&&(oi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cre(e)}function Cre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V_=function(){return!!e})()}function yc(e){return yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yc(e)}function Nre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kh(e,t)}function kh(e,t){return kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kh(e,t)}function Eu(e,t,r){return t=z_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z_(e){var t=Mre(e,"string");return oi(t)=="symbol"?t:t+""}function Mre(e,t){if(oi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ire=function(t,r,n,a,i){var o=i.x1,s=i.x2,l=i.y1,c=i.y2,u=i.xAxis,d=i.yAxis;if(!u||!d)return null;var h=Gm({x:u.scale,y:d.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return hr(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:k_(p,g)},Cu=function(e){function t(){return _re(this,t),kre(this,t,arguments)}return Nre(t,e),Tre(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;gn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=it(a),h=it(i),p=it(o),g=it(s),m=this.props.shape;if(!d&&!h&&!p&&!g&&!m)return null;var y=Ire(d,h,p,g,this.props);if(!y&&!m)return null;var v=hr(this.props,"hidden")?"url(#".concat(u,")"):void 0;return j.createElement(Pe,{className:be("recharts-reference-area",l)},t.renderRect(m,Gx(Gx({clipPath:v},se(this.props,!0)),y)),ct.renderCallByParent(this.props,y))}}])}(j.Component);Eu(Cu,"displayName","ReferenceArea");Eu(Cu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Eu(Cu,"renderRect",function(e,t){var r;return j.isValidElement(e)?r=j.cloneElement(e,t):de(e)?r=e(t):r=j.createElement(Wm,Th({},t,{className:"recharts-reference-area-rect"})),r});function W_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function $re(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return kte(n,r)}function Rre(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function vc(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Dre(e,t){return W_(e,t+1)}function Lre(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,l=0,c=1,u=o,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:W_(n,c)};var m=l,y,v=function(){return y===void 0&&(y=r(g,m)),y},x=g.coordinate,w=l===0||vc(e,x,v,u,s);w||(l=0,u=o,c+=1),w&&(u=x+e*(v()/2+a),l+=c)},h;c<=i.length;)if(h=d(),h)return h.v;return[]}function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function Hx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hx(Object(r),!0).forEach(function(n){Bre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bre(e,t,r){return t=Fre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fre(e){var t=Ure(e,"string");return Zo(t)=="symbol"?t:t+""}function Ure(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vre(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var y=e*(p.coordinate+e*m()/2-l);i[h]=p=pt(pt({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[h]=p=pt(pt({},p),{},{tickCoord:p.coordinate});var v=vc(e,p.tickCoord,m,s,l);v&&(l=p.tickCoord-e*(m()/2+a),i[h]=pt(pt({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}function zre(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var u=n[s-1],d=r(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=pt(pt({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=vc(e,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-e*(d/2+a),o[s-1]=pt(pt({},u),{},{isShow:!0}))}for(var g=i?s-1:s,m=function(x){var w=o[x],A,b=function(){return A===void 0&&(A=r(w,x)),A};if(x===0){var S=e*(w.coordinate-e*b()/2-l);o[x]=w=pt(pt({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[x]=w=pt(pt({},w),{},{tickCoord:w.coordinate});var O=vc(e,w.tickCoord,b,l,c);O&&(l=w.tickCoord+e*(b()/2+a),o[x]=pt(pt({},w),{},{isShow:!0}))},y=0;y<g;y++)m(y);return o}function Zm(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Q(l)||dr.isSsr)return Dre(a,typeof l=="number"&&Q(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",g=u&&p==="width"?ao(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,A){var b=de(c)?c(w.value,A):w.value;return p==="width"?$re(ao(b,{fontSize:t,letterSpacing:r}),g,d):ao(b,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?bt(a[1].coordinate-a[0].coordinate):1,v=Rre(i,y,p);return l==="equidistantPreserveStart"?Lre(y,v,m,a,o):(l==="preserveStart"||l==="preserveStartEnd"?h=zre(y,v,m,a,o,l==="preserveStartEnd"):h=Vre(y,v,m,a,o),h.filter(function(x){return x.isShow}))}var Wre=["viewBox"],Gre=["viewBox"],Hre=["ticks"];function si(e){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(e)}function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oa.apply(this,arguments)}function qx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qx(Object(r),!0).forEach(function(n){Qm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Td(e,t){if(e==null)return{};var r=qre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H_(n.key),n)}}function Yre(e,t,r){return Kx(e.prototype,t),Kx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xre(e,t,r){return t=bc(t),Jre(e,G_()?Reflect.construct(t,r,bc(e).constructor):t.apply(e,r))}function Jre(e,t){if(t&&(si(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zre(e)}function Zre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G_=function(){return!!e})()}function bc(e){return bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bc(e)}function Qre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eh(e,t)}function Eh(e,t){return Eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Eh(e,t)}function Qm(e,t,r){return t=H_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H_(e){var t=ene(e,"string");return si(t)=="symbol"?t:t+""}function ene(e,t){if(si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ni=function(e){function t(r){var n;return Kre(this,t),n=Xre(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Qre(t,e),Yre(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Td(n,Wre),s=this.props,l=s.viewBox,c=Td(s,Gre);return!Ea(i,l)||!Ea(o,c)||!Ea(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,l=a.height,c=a.orientation,u=a.tickSize,d=a.mirror,h=a.tickMargin,p,g,m,y,v,x,w=d?-1:1,A=n.tickSize||u,b=Q(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,y=o+ +!d*l,m=y-w*A,x=m-w*h,v=b;break;case"left":m=y=n.coordinate,g=i+ +!d*s,p=g-w*A,v=p-w*h,x=b;break;case"right":m=y=n.coordinate,g=i+ +d*s,p=g+w*A,v=p+w*h,x=b;break;default:p=g=n.coordinate,y=o+ +d*l,m=y+w*A,x=m+w*h,v=b;break}return{line:{x1:p,y1:m,x2:g,y2:y},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=vt(vt(vt({},se(this.props,!1)),se(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=vt(vt({},d),{},{x1:a,y1:i+h*s,x2:a+o,y2:i+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=vt(vt({},d),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+s})}return j.createElement("line",Oa({},d,{className:be("recharts-cartesian-axis-line",Rt(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,h=s.unit,p=Zm(vt(vt({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=se(this.props,!1),v=se(u,!1),x=vt(vt({},y),{},{fill:"none"},se(l,!1)),w=p.map(function(A,b){var S=o.getTickLineCoord(A),O=S.line,_=S.tick,T=vt(vt(vt(vt({textAnchor:g,verticalAnchor:m},y),{},{stroke:"none",fill:c},v),_),{},{index:b,payload:A,visibleTicksCount:p.length,tickFormatter:d});return j.createElement(Pe,Oa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Jn(o.props,A,b)),l&&j.createElement("line",Oa({},x,O,{className:be("recharts-cartesian-axis-tick-line",Rt(l,"className"))})),u&&t.renderTickItem(u,T,"".concat(de(d)?d(A.value,b):A.value).concat(h||"")))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var d=this.props,h=d.ticks,p=Td(d,Hre),g=h;return de(l)&&(g=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!g||!g.length?null:j.createElement(Pe,{className:be("recharts-cartesian-axis",c),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ct.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return j.isValidElement(n)?o=j.cloneElement(n,a):de(n)?o=n(a):o=j.createElement(Zn,Oa({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(P.Component);Qm(Ni,"displayName","CartesianAxis");Qm(Ni,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tne=["x1","y1","x2","y2","key"],rne=["offset"];function ta(e){"@babel/helpers - typeof";return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(e)}function Yx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yx(Object(r),!0).forEach(function(n){nne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nne(e,t,r){return t=ane(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ane(e){var t=ine(e,"string");return ta(t)=="symbol"?t:t+""}function ine(e,t){if(ta(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ta(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fn.apply(this,arguments)}function Xx(e,t){if(e==null)return{};var r=one(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function one(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sne=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,l=t.ry;return j.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function q_(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(de(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=Xx(t,tne),c=se(l,!1);c.offset;var u=Xx(c,rne);r=j.createElement("line",Fn({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function lne(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var c=mt(mt({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return q_(a,c)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function cne(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var c=mt(mt({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return q_(a,c)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function une(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],m=g?a+o-h:u[p+1]-h;if(m<=0)return null;var y=p%t.length;return j.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function dne(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],m=g?i+s-h:u[p+1]-h;if(m<=0)return null;var y=p%n.length;return j.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:l,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var fne=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return zO(Zm(mt(mt(mt({},Ni.defaultProps),n),{},{ticks:Er(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},hne=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return zO(Zm(mt(mt(mt({},Ni.defaultProps),n),{},{ticks:Er(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},fa={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ch(e){var t,r,n,a,i,o,s=Km(),l=Ym(),c=ere(),u=mt(mt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:fa.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:fa.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:fa.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:fa.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:fa.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:fa.verticalFill,x:Q(e.x)?e.x:c.left,y:Q(e.y)?e.y:c.top,width:Q(e.width)?e.width:c.width,height:Q(e.height)?e.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,m=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,x=Jte(),w=Zte();if(!Q(p)||p<=0||!Q(g)||g<=0||!Q(d)||d!==+d||!Q(h)||h!==+h)return null;var A=u.verticalCoordinatesGenerator||fne,b=u.horizontalCoordinatesGenerator||hne,S=u.horizontalPoints,O=u.verticalPoints;if((!S||!S.length)&&de(b)){var _=y&&y.length,T=b({yAxis:w?mt(mt({},w),{},{ticks:_?y:w.ticks}):void 0,width:s,height:l,offset:c},_?!0:m);gn(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ta(T),"]")),Array.isArray(T)&&(S=T)}if((!O||!O.length)&&de(A)){var I=v&&v.length,E=A({xAxis:x?mt(mt({},x),{},{ticks:I?v:x.ticks}):void 0,width:s,height:l,offset:c},I?!0:m);gn(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ta(E),"]")),Array.isArray(E)&&(O=E)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(sne,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),j.createElement(lne,Fn({},u,{offset:c,horizontalPoints:S,xAxis:x,yAxis:w})),j.createElement(cne,Fn({},u,{offset:c,verticalPoints:O,xAxis:x,yAxis:w})),j.createElement(une,Fn({},u,{horizontalPoints:S})),j.createElement(dne,Fn({},u,{verticalPoints:O})))}Ch.displayName="CartesianGrid";var pne=["type","layout","connectNulls","ref"],mne=["key"];function li(e){"@babel/helpers - typeof";return li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(e)}function Jx(e,t){if(e==null)return{};var r=gne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}function Zx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zx(Object(r),!0).forEach(function(n){er(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ha(e){return xne(e)||bne(e)||vne(e)||yne()}function yne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vne(e,t){if(e){if(typeof e=="string")return Nh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nh(e,t)}}function bne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xne(e){if(Array.isArray(e))return Nh(e)}function Nh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y_(n.key),n)}}function Sne(e,t,r){return Qx(e.prototype,t),Qx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pne(e,t,r){return t=xc(t),Ane(e,K_()?Reflect.construct(t,r,xc(e).constructor):t.apply(e,r))}function Ane(e,t){if(t&&(li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return One(e)}function One(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K_=function(){return!!e})()}function xc(e){return xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xc(e)}function _ne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mh(e,t)}function Mh(e,t){return Mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mh(e,t)}function er(e,t,r){return t=Y_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_(e){var t=jne(e,"string");return li(t)=="symbol"?t:t+""}function jne(e,t){if(li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ci=function(e){function t(){var r;wne(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Pne(this,t,[].concat(a)),er(r,"state",{isAnimationFinished:!0,totalLength:0}),er(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),er(r,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(v,x){return v+x});if(!c)return r.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/c),d=o%c,h=s-o,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>d){p=[].concat(ha(l.slice(0,g)),[d-m]);break}var y=p.length%2===0?[0,h]:[h];return[].concat(ha(t.repeat(l,u)),ha(p),y).map(function(v){return"".concat(v,"px")}).join(", ")}),er(r,"id",Oi("recharts-line-")),er(r,"pathRef",function(o){r.mainCurve=o}),er(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),er(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return _ne(t,e),Sne(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,s=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,d=Dt(u,js);if(!d)return null;var h=function(m,y){return{x:m.x,y:m.y,value:m.value,errorVal:at(m.payload,y)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return j.createElement(Pe,p,d.map(function(g){return j.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=se(this.props,!1),h=se(l,!0),p=c.map(function(m,y){var v=kt(kt(kt({key:"dot-".concat(y),r:3},d),h),{},{value:m.value,dataKey:u,cx:m.x,cy:m.y,index:y,payload:m.payload});return t.renderDotItem(l,v)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return j.createElement(Pe,uo({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var d=Jx(s,pne),h=kt(kt(kt({},se(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:u});return j.createElement(ec,uo({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,m=o.width,y=o.height,v=this.state,x=v.prevPoints,w=v.totalLength;return j.createElement(gr,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var b=A.t;if(x){var S=x.length/s.length,O=s.map(function(M,F){var V=Math.floor(F*S);if(x[V]){var z=x[V],G=Nt(z.x,M.x),L=Nt(z.y,M.y);return kt(kt({},M),{},{x:G(b),y:L(b)})}if(g){var Y=Nt(m*2,M.x),W=Nt(y/2,M.y);return kt(kt({},M),{},{x:Y(b),y:W(b)})}return kt(kt({},M),{},{x:M.x,y:M.y})});return i.renderCurveStatically(O,n,a)}var _=Nt(0,w),T=_(b),I;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});I=i.getStrokeDasharray(T,w,E)}else I=i.generateSimpleStrokeDasharray(w,T);return i.renderCurveStatically(s,n,a,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,s=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&o&&o.length&&(!c&&u>0||!_s(c,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,c=a.xAxis,u=a.yAxis,d=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,y=a.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=s.length===1,w=be("recharts-line",l),A=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,S=A||b,O=ge(y)?this.id:y,_=(n=se(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=_.r,I=T===void 0?3:T,E=_.strokeWidth,M=E===void 0?2:E,F=n5(o)?o:{},V=F.clipDot,z=V===void 0?!0:V,G=I*2+M;return j.createElement(Pe,{className:w},A||b?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(O)},j.createElement("rect",{x:A?h:h-p/2,y:b?d:d-g/2,width:A?p:p*2,height:b?g:g*2})),!z&&j.createElement("clipPath",{id:"clipPath-dots-".concat(O)},j.createElement("rect",{x:h-G/2,y:d-G/2,width:p+G,height:g+G}))):null,!x&&this.renderCurve(S,O),this.renderErrorBar(S,O),(x||o)&&this.renderDots(S,z,O),(!m||v)&&$r.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(ha(n),[0]):n,o=[],s=0;s<a;++s)o=[].concat(ha(o),ha(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(j.isValidElement(n))i=j.cloneElement(n,a);else if(de(n))i=n(a);else{var o=a.key,s=Jx(a,mne),l=be("recharts-line-dot",typeof n!="boolean"?n.className:"");i=j.createElement(xu,uo({key:o},s,{className:l}))}return i}}])}(P.PureComponent);er(ci,"displayName","Line");er(ci,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!dr.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});er(ci,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(h,p){var g=at(h,o);return u==="horizontal"?{x:Pb({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:ge(g)?null:n.scale(g),value:g,payload:h}:{x:ge(g)?null:r.scale(g),y:Pb({axis:n,ticks:i,bandSize:s,entry:h,index:p}),value:g,payload:h}});return kt({points:d,layout:u},c)});function ui(e){"@babel/helpers - typeof";return ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(e)}function Tne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z_(n.key),n)}}function Ene(e,t,r){return kne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cne(e,t,r){return t=wc(t),Nne(e,X_()?Reflect.construct(t,r||[],wc(e).constructor):t.apply(e,r))}function Nne(e,t){if(t&&(ui(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mne(e)}function Mne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X_=function(){return!!e})()}function wc(e){return wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wc(e)}function Ine(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ih(e,t)}function Ih(e,t){return Ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ih(e,t)}function J_(e,t,r){return t=Z_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z_(e){var t=$ne(e,"string");return ui(t)=="symbol"?t:t+""}function $ne(e,t){if(ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(this,arguments)}function Rne(e){var t=e.xAxisId,r=Km(),n=Ym(),a=R_(t);return a==null?null:j.createElement(Ni,$h({},a,{className:be("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Er(o,!0)}}))}var di=function(e){function t(){return Tne(this,t),Cne(this,t,arguments)}return Ine(t,e),Ene(t,[{key:"render",value:function(){return j.createElement(Rne,this.props)}}])}(j.Component);J_(di,"displayName","XAxis");J_(di,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function fi(e){"@babel/helpers - typeof";return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi(e)}function Dne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tj(n.key),n)}}function Bne(e,t,r){return Lne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fne(e,t,r){return t=Sc(t),Une(e,Q_()?Reflect.construct(t,r||[],Sc(e).constructor):t.apply(e,r))}function Une(e,t){if(t&&(fi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vne(e)}function Vne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q_=function(){return!!e})()}function Sc(e){return Sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sc(e)}function zne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rh(e,t)}function Rh(e,t){return Rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rh(e,t)}function ej(e,t,r){return t=tj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tj(e){var t=Wne(e,"string");return fi(t)=="symbol"?t:t+""}function Wne(e,t){if(fi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(this,arguments)}var Gne=function(t){var r=t.yAxisId,n=Km(),a=Ym(),i=D_(r);return i==null?null:j.createElement(Ni,Dh({},i,{className:be("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Er(s,!0)}}))},hi=function(e){function t(){return Dne(this,t),Fne(this,t,arguments)}return zne(t,e),Bne(t,[{key:"render",value:function(){return j.createElement(Gne,this.props)}}])}(j.Component);ej(hi,"displayName","YAxis");ej(hi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ew(e){return Yne(e)||Kne(e)||qne(e)||Hne()}function Hne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qne(e,t){if(e){if(typeof e=="string")return Lh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lh(e,t)}}function Kne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yne(e){if(Array.isArray(e))return Lh(e)}function Lh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bh=function(t,r,n,a,i){var o=Dt(t,Jm),s=Dt(t,ku),l=[].concat(ew(o),ew(s)),c=Dt(t,Cu),u="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(m,y){if(y.props[u]===n&&hr(y.props,"extendDomain")&&Q(y.props[d])){var v=y.props[d];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(m,y){if(y.props[u]===n&&hr(y.props,"extendDomain")&&Q(y.props[p])&&Q(y.props[g])){var v=y.props[p],x=y.props[g];return[Math.min(m[0],v,x),Math.max(m[1],v,x)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,y){return Q(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},h)),h},rj={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,d||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var y=this._events[m],v=arguments.length,x,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,p),!0;case 6:return y.fn.call(y.context,u,d,h,p,g),!0}for(w=1,x=new Array(v-1);w<v;w++)x[w-1]=arguments[w];y.fn.apply(y.context,x)}else{var A=y.length,b;for(w=0;w<A;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,d);break;case 4:y[w].fn.call(y[w].context,u,d,h);break;default:if(!x)for(b=1,x=new Array(v-1);b<v;b++)x[b-1]=arguments[b];y[w].fn.apply(y[w].context,x)}}return!0},s.prototype.on=function(c,u,d){return i(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return i(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&o(this,p);else{for(var m=0,y=[],v=g.length;m<v;m++)(g[m].fn!==u||h&&!g[m].once||d&&g[m].context!==d)&&y.push(g[m]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(rj);var Xne=rj.exports;const Jne=Ce(Xne);var kd=new Jne,Ed="recharts.syncMouseEvents";function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function Zne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nj(n.key),n)}}function eae(e,t,r){return Qne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cd(e,t,r){return t=nj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nj(e){var t=tae(e,"string");return Qo(t)=="symbol"?t:t+""}function tae(e,t){if(Qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rae=function(){function e(){Zne(this,e),Cd(this,"activeIndex",0),Cd(this,"coordinateList",[]),Cd(this,"layout","horizontal")}return eae(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function nae(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Q(n)&&Q(a))return!0}return!1}function aae(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function aj(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Re(t,r,n,a),s=Re(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function iae(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=Re(s,l,c,d),p=Re(s,l,u,d);n=h.x,a=h.y,i=p.x,o=p.y}else return aj(t);return[{x:n,y:a},{x:i,y:o}]}function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(n){oae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oae(e,t,r){return t=sae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sae(e){var t=lae(e,"string");return es(t)=="symbol"?t:t+""}function lae(e,t){if(es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cae(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,m=ec;if(h==="ScatterChart")g=o,m=jZ;else if(h==="BarChart")g=aae(d,o,l,u),m=Wm;else if(d==="radial"){var y=aj(o),v=y.cx,x=y.cy,w=y.radius,A=y.startAngle,b=y.endAngle;g={cx:v,cy:x,startAngle:A,endAngle:b,innerRadius:w,outerRadius:w},m=e_}else g={points:iae(d,o,l)},m=ec;var S=Ys(Ys(Ys(Ys({stroke:"#ccc",pointerEvents:"none"},l),g),se(p,!1)),{},{payload:s,payloadIndex:c,className:be("recharts-tooltip-cursor",p.className)});return P.isValidElement(p)?P.cloneElement(p,S):P.createElement(m,S)}var uae=["item"],dae=["children","className","width","height","style","compact","title","desc"];function pi(e){"@babel/helpers - typeof";return pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(e)}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(this,arguments)}function rw(e,t){return pae(e)||hae(e,t)||oj(e,t)||fae()}function fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function pae(e){if(Array.isArray(e))return e}function nw(e,t){if(e==null)return{};var r=mae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sj(n.key),n)}}function vae(e,t,r){return yae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bae(e,t,r){return t=Pc(t),xae(e,ij()?Reflect.construct(t,r,Pc(e).constructor):t.apply(e,r))}function xae(e,t){if(t&&(pi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wae(e)}function wae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ij(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ij=function(){return!!e})()}function Pc(e){return Pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pc(e)}function Sae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fh(e,t)}function Fh(e,t){return Fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fh(e,t)}function mi(e){return Oae(e)||Aae(e)||oj(e)||Pae()}function Pae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oj(e,t){if(e){if(typeof e=="string")return Uh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uh(e,t)}}function Aae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oae(e){if(Array.isArray(e))return Uh(e)}function Uh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ce(e,t,r){return t=sj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sj(e){var t=_ae(e,"string");return pi(t)=="symbol"?t:t+""}function _ae(e,t){if(pi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jae={xAxis:["bottom","top"],yAxis:["left","right"]},Tae={width:"100%",height:"100%"},lj={x:0,y:0};function Xs(e){return e}var kae=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Eae=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return U(U(U({},a),Re(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,c=a.angle;return U(U(U({},a),Re(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return lj},Nu=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(mi(s),mi(c)):s},[]);return o.length>0?o:t&&t.length&&Q(a)&&Q(i)?t.slice(a,i+1):[]};function cj(e){return e==="number"?[0,"auto"]:void 0}var Vh=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=Nu(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?s:d;h=Pl(p,o.dataKey,a)}else h=d&&d[n]||s[n];return h?[].concat(mi(l),[KO(c,h)]):l},[])},iw=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=kae(i,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=JK(o,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=Vh(t,r,u,d),p=Eae(n,s,u,i);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},Cae=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=t.stackOffset,p=VO(u,i);return n.reduce(function(g,m){var y,v=m.type.defaultProps!==void 0?U(U({},m.type.defaultProps),m.props):m.props,x=v.type,w=v.dataKey,A=v.allowDataOverflow,b=v.allowDuplicatedCategory,S=v.scale,O=v.ticks,_=v.includeHidden,T=v[o];if(g[T])return g;var I=Nu(t.data,{graphicalItems:a.filter(function(ee){var oe,xe=o in ee.props?ee.props[o]:(oe=ee.type.defaultProps)===null||oe===void 0?void 0:oe[o];return xe===T}),dataStartIndex:l,dataEndIndex:c}),E=I.length,M,F,V;nae(v.domain,A,x)&&(M=th(v.domain,null,A),p&&(x==="number"||S!=="auto")&&(V=oo(I,w,"category")));var z=cj(x);if(!M||M.length===0){var G,L=(G=v.domain)!==null&&G!==void 0?G:z;if(w){if(M=oo(I,w,x),x==="category"&&p){var Y=K3(M);b&&Y?(F=M,M=uc(0,E)):b||(M=jb(L,M,m).reduce(function(ee,oe){return ee.indexOf(oe)>=0?ee:[].concat(mi(ee),[oe])},[]))}else if(x==="category")b?M=M.filter(function(ee){return ee!==""&&!ge(ee)}):M=jb(L,M,m).reduce(function(ee,oe){return ee.indexOf(oe)>=0||oe===""||ge(oe)?ee:[].concat(mi(ee),[oe])},[]);else if(x==="number"){var W=rY(I,a.filter(function(ee){var oe,xe,Se=o in ee.props?ee.props[o]:(oe=ee.type.defaultProps)===null||oe===void 0?void 0:oe[o],$="hide"in ee.props?ee.props.hide:(xe=ee.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Se===T&&(_||!$)}),w,i,u);W&&(M=W)}p&&(x==="number"||S!=="auto")&&(V=oo(I,w,"category"))}else p?M=uc(0,E):s&&s[T]&&s[T].hasStack&&x==="number"?M=h==="expand"?[0,1]:qO(s[T].stackGroups,l,c):M=UO(I,a.filter(function(ee){var oe=o in ee.props?ee.props[o]:ee.type.defaultProps[o],xe="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return oe===T&&(_||!xe)}),x,u,!0);if(x==="number")M=Bh(d,M,T,i,O),L&&(M=th(L,M,A));else if(x==="category"&&L){var ne=L,ie=M.every(function(ee){return ne.indexOf(ee)>=0});ie&&(M=ne)}}return U(U({},g),{},ce({},T,U(U({},v),{},{axisType:i,domain:M,categoricalDomain:V,duplicateDomain:F,originalDomain:(y=v.domain)!==null&&y!==void 0?y:z,isCategorical:p,layout:u})))},{})},Nae=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=Nu(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=VO(u,i),m=-1;return n.reduce(function(y,v){var x=v.type.defaultProps!==void 0?U(U({},v.type.defaultProps),v.props):v.props,w=x[o],A=cj("number");if(!y[w]){m++;var b;return g?b=uc(0,p):s&&s[w]&&s[w].hasStack?(b=qO(s[w].stackGroups,l,c),b=Bh(d,b,w,i)):(b=th(A,UO(h,n.filter(function(S){var O,_,T=o in S.props?S.props[o]:(O=S.type.defaultProps)===null||O===void 0?void 0:O[o],I="hide"in S.props?S.props.hide:(_=S.type.defaultProps)===null||_===void 0?void 0:_.hide;return T===w&&!I}),"number",u),a.defaultProps.allowDataOverflow),b=Bh(d,b,w,i)),U(U({},y),{},ce({},w,U(U({axisType:i},a.defaultProps),{},{hide:!0,orientation:Rt(jae,"".concat(i,".").concat(m%2),null),domain:b,originalDomain:A,isCategorical:g,layout:u})))}return y},{})},Mae=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,d="".concat(a,"Id"),h=Dt(u,i),p={};return h.length?p=Cae(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=Nae(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},Iae=function(t){var r=on(t),n=Er(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ym(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Jl(r,n)}},ow=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ct(r,ri),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},$ae=function(t){return!t||!t.length?!1:t.some(function(r){var n=un(r&&r.type);return n&&n.indexOf("Bar")>=0})},sw=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Rae=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,d=n.children,h=n.margin||{},p=Ct(d,ri),g=Ct(d,dn),m=Object.keys(l).reduce(function(b,S){var O=l[S],_=O.orientation;return!O.mirror&&!O.hide?U(U({},b),{},ce({},_,b[_]+O.width)):b},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(b,S){var O=o[S],_=O.orientation;return!O.mirror&&!O.hide?U(U({},b),{},ce({},_,Rt(b,"".concat(_))+O.height)):b},{top:h.top||0,bottom:h.bottom||0}),v=U(U({},y),m),x=v.bottom;p&&(v.bottom+=p.props.height||ri.defaultProps.height),g&&r&&(v=eY(v,a,n,r));var w=c-v.left-v.right,A=u-v.top-v.bottom;return U(U({brushBottom:x},v),{},{width:Math.max(w,0),height:Math.max(A,0)})},Dae=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},eg=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,h=function(v,x){var w=x.graphicalItems,A=x.stackGroups,b=x.offset,S=x.updateId,O=x.dataStartIndex,_=x.dataEndIndex,T=v.barSize,I=v.layout,E=v.barGap,M=v.barCategoryGap,F=v.maxBarSize,V=sw(I),z=V.numericAxisName,G=V.cateAxisName,L=$ae(w),Y=[];return w.forEach(function(W,ne){var ie=Nu(v.data,{graphicalItems:[W],dataStartIndex:O,dataEndIndex:_}),ee=W.type.defaultProps!==void 0?U(U({},W.type.defaultProps),W.props):W.props,oe=ee.dataKey,xe=ee.maxBarSize,Se=ee["".concat(z,"Id")],$=ee["".concat(G,"Id")],K={},D=l.reduce(function(st,Pt){var Kr=x["".concat(Pt.axisType,"Map")],Yr=ee["".concat(Pt.axisType,"Id")];Kr&&Kr[Yr]||Pt.axisType==="zAxis"||ea();var Sn=Kr[Yr];return U(U({},st),{},ce(ce({},Pt.axisType,Sn),"".concat(Pt.axisType,"Ticks"),Er(Sn)))},K),k=D[G],R=D["".concat(G,"Ticks")],B=A&&A[Se]&&A[Se].hasStack&&dY(W,A[Se].stackGroups),N=un(W.type).indexOf("Bar")>=0,H=Jl(k,R),J=[],te=L&&ZK({barSize:T,stackGroups:A,totalSize:Dae(D,G)});if(N){var ae,he,ke=ge(xe)?F:xe,we=(ae=(he=Jl(k,R,!0))!==null&&he!==void 0?he:ke)!==null&&ae!==void 0?ae:0;J=QK({barGap:E,barCategoryGap:M,bandSize:we!==H?we:H,sizeList:te[$],maxBarSize:ke}),we!==H&&(J=J.map(function(st){return U(U({},st),{},{position:U(U({},st.position),{},{offset:st.position.offset-we/2})})}))}var Xe=W&&W.type&&W.type.getComposedData;Xe&&Y.push({props:U(U({},Xe(U(U({},D),{},{displayedData:ie,props:v,dataKey:oe,item:W,bandSize:H,barPosition:J,offset:b,stackedData:B,layout:I,dataStartIndex:O,dataEndIndex:_}))),{},ce(ce(ce({key:W.key||"item-".concat(ne)},z,D[z]),G,D[G]),"animationId",S)),childIndex:o5(W,v.children),item:W})}),Y},p=function(v,x){var w=v.props,A=v.dataStartIndex,b=v.dataEndIndex,S=v.updateId;if(!Sv({props:w}))return null;var O=w.children,_=w.layout,T=w.stackOffset,I=w.data,E=w.reverseStackOrder,M=sw(_),F=M.numericAxisName,V=M.cateAxisName,z=Dt(O,n),G=cY(I,z,"".concat(F,"Id"),"".concat(V,"Id"),T,E),L=l.reduce(function(ee,oe){var xe="".concat(oe.axisType,"Map");return U(U({},ee),{},ce({},xe,Mae(w,U(U({},oe),{},{graphicalItems:z,stackGroups:oe.axisType===F&&G,dataStartIndex:A,dataEndIndex:b}))))},{}),Y=Rae(U(U({},L),{},{props:w,graphicalItems:z}),x==null?void 0:x.legendBBox);Object.keys(L).forEach(function(ee){L[ee]=u(w,L[ee],Y,ee.replace("Map",""),r)});var W=L["".concat(V,"Map")],ne=Iae(W),ie=h(w,U(U({},L),{},{dataStartIndex:A,dataEndIndex:b,updateId:S,graphicalItems:z,stackGroups:G,offset:Y}));return U(U({formattedGraphicalItems:ie,graphicalItems:z,offset:Y,stackGroups:G},ne),L)},g=function(y){function v(x){var w,A,b;return gae(this,v),b=bae(this,v,[x]),ce(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ce(b,"accessibilityManager",new rae),ce(b,"handleLegendBBoxUpdate",function(S){if(S){var O=b.state,_=O.dataStartIndex,T=O.dataEndIndex,I=O.updateId;b.setState(U({legendBBox:S},p({props:b.props,dataStartIndex:_,dataEndIndex:T,updateId:I},U(U({},b.state),{},{legendBBox:S}))))}}),ce(b,"handleReceiveSyncEvent",function(S,O,_){if(b.props.syncId===S){if(_===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(O)}}),ce(b,"handleBrushChange",function(S){var O=S.startIndex,_=S.endIndex;if(O!==b.state.dataStartIndex||_!==b.state.dataEndIndex){var T=b.state.updateId;b.setState(function(){return U({dataStartIndex:O,dataEndIndex:_},p({props:b.props,dataStartIndex:O,dataEndIndex:_,updateId:T},b.state))}),b.triggerSyncEvent({dataStartIndex:O,dataEndIndex:_})}}),ce(b,"handleMouseEnter",function(S){var O=b.getMouseInfo(S);if(O){var _=U(U({},O),{},{isTooltipActive:!0});b.setState(_),b.triggerSyncEvent(_);var T=b.props.onMouseEnter;de(T)&&T(_,S)}}),ce(b,"triggeredAfterMouseMove",function(S){var O=b.getMouseInfo(S),_=O?U(U({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(_),b.triggerSyncEvent(_);var T=b.props.onMouseMove;de(T)&&T(_,S)}),ce(b,"handleItemMouseEnter",function(S){b.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),ce(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),ce(b,"handleMouseMove",function(S){S.persist(),b.throttleTriggeredAfterMouseMove(S)}),ce(b,"handleMouseLeave",function(S){b.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};b.setState(O),b.triggerSyncEvent(O);var _=b.props.onMouseLeave;de(_)&&_(O,S)}),ce(b,"handleOuterEvent",function(S){var O=i5(S),_=Rt(b.props,"".concat(O));if(O&&de(_)){var T,I;/.*touch.*/i.test(O)?I=b.getMouseInfo(S.changedTouches[0]):I=b.getMouseInfo(S),_((T=I)!==null&&T!==void 0?T:{},S)}}),ce(b,"handleClick",function(S){var O=b.getMouseInfo(S);if(O){var _=U(U({},O),{},{isTooltipActive:!0});b.setState(_),b.triggerSyncEvent(_);var T=b.props.onClick;de(T)&&T(_,S)}}),ce(b,"handleMouseDown",function(S){var O=b.props.onMouseDown;if(de(O)){var _=b.getMouseInfo(S);O(_,S)}}),ce(b,"handleMouseUp",function(S){var O=b.props.onMouseUp;if(de(O)){var _=b.getMouseInfo(S);O(_,S)}}),ce(b,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),ce(b,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&b.handleMouseDown(S.changedTouches[0])}),ce(b,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&b.handleMouseUp(S.changedTouches[0])}),ce(b,"handleDoubleClick",function(S){var O=b.props.onDoubleClick;if(de(O)){var _=b.getMouseInfo(S);O(_,S)}}),ce(b,"handleContextMenu",function(S){var O=b.props.onContextMenu;if(de(O)){var _=b.getMouseInfo(S);O(_,S)}}),ce(b,"triggerSyncEvent",function(S){b.props.syncId!==void 0&&kd.emit(Ed,b.props.syncId,S,b.eventEmitterSymbol)}),ce(b,"applySyncEvent",function(S){var O=b.props,_=O.layout,T=O.syncMethod,I=b.state.updateId,E=S.dataStartIndex,M=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)b.setState(U({dataStartIndex:E,dataEndIndex:M},p({props:b.props,dataStartIndex:E,dataEndIndex:M,updateId:I},b.state)));else if(S.activeTooltipIndex!==void 0){var F=S.chartX,V=S.chartY,z=S.activeTooltipIndex,G=b.state,L=G.offset,Y=G.tooltipTicks;if(!L)return;if(typeof T=="function")z=T(Y,S);else if(T==="value"){z=-1;for(var W=0;W<Y.length;W++)if(Y[W].value===S.activeLabel){z=W;break}}var ne=U(U({},L),{},{x:L.left,y:L.top}),ie=Math.min(F,ne.x+ne.width),ee=Math.min(V,ne.y+ne.height),oe=Y[z]&&Y[z].value,xe=Vh(b.state,b.props.data,z),Se=Y[z]?{x:_==="horizontal"?Y[z].coordinate:ie,y:_==="horizontal"?ee:Y[z].coordinate}:lj;b.setState(U(U({},S),{},{activeLabel:oe,activeCoordinate:Se,activePayload:xe,activeTooltipIndex:z}))}else b.setState(S)}),ce(b,"renderCursor",function(S){var O,_=b.state,T=_.isTooltipActive,I=_.activeCoordinate,E=_.activePayload,M=_.offset,F=_.activeTooltipIndex,V=_.tooltipAxisBandSize,z=b.getTooltipEventType(),G=(O=S.props.active)!==null&&O!==void 0?O:T,L=b.props.layout,Y=S.key||"_recharts-cursor";return j.createElement(cae,{key:Y,activeCoordinate:I,activePayload:E,activeTooltipIndex:F,chartName:r,element:S,isActive:G,layout:L,offset:M,tooltipAxisBandSize:V,tooltipEventType:z})}),ce(b,"renderPolarAxis",function(S,O,_){var T=Rt(S,"type.axisType"),I=Rt(b.state,"".concat(T,"Map")),E=S.type.defaultProps,M=E!==void 0?U(U({},E),S.props):S.props,F=I&&I[M["".concat(T,"Id")]];return P.cloneElement(S,U(U({},F),{},{className:be(T,F.className),key:S.key||"".concat(O,"-").concat(_),ticks:Er(F,!0)}))}),ce(b,"renderPolarGrid",function(S){var O=S.props,_=O.radialLines,T=O.polarAngles,I=O.polarRadius,E=b.state,M=E.radiusAxisMap,F=E.angleAxisMap,V=on(M),z=on(F),G=z.cx,L=z.cy,Y=z.innerRadius,W=z.outerRadius;return P.cloneElement(S,{polarAngles:Array.isArray(T)?T:Er(z,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(I)?I:Er(V,!0).map(function(ne){return ne.coordinate}),cx:G,cy:L,innerRadius:Y,outerRadius:W,key:S.key||"polar-grid",radialLines:_})}),ce(b,"renderLegend",function(){var S=b.state.formattedGraphicalItems,O=b.props,_=O.children,T=O.width,I=O.height,E=b.props.margin||{},M=T-(E.left||0)-(E.right||0),F=BO({children:_,formattedGraphicalItems:S,legendWidth:M,legendContent:c});if(!F)return null;var V=F.item,z=nw(F,uae);return P.cloneElement(V,U(U({},z),{},{chartWidth:T,chartHeight:I,margin:E,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),ce(b,"renderTooltip",function(){var S,O=b.props,_=O.children,T=O.accessibilityLayer,I=Ct(_,Wt);if(!I)return null;var E=b.state,M=E.isTooltipActive,F=E.activeCoordinate,V=E.activePayload,z=E.activeLabel,G=E.offset,L=(S=I.props.active)!==null&&S!==void 0?S:M;return P.cloneElement(I,{viewBox:U(U({},G),{},{x:G.left,y:G.top}),active:L,label:z,payload:L?V:[],coordinate:F,accessibilityLayer:T})}),ce(b,"renderBrush",function(S){var O=b.props,_=O.margin,T=O.data,I=b.state,E=I.offset,M=I.dataStartIndex,F=I.dataEndIndex,V=I.updateId;return P.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Gs(b.handleBrushChange,S.props.onChange),data:T,x:Q(S.props.x)?S.props.x:E.left,y:Q(S.props.y)?S.props.y:E.top+E.height+E.brushBottom-(_.bottom||0),width:Q(S.props.width)?S.props.width:E.width,startIndex:M,endIndex:F,updateId:"brush-".concat(V)})}),ce(b,"renderReferenceElement",function(S,O,_){if(!S)return null;var T=b,I=T.clipPathId,E=b.state,M=E.xAxisMap,F=E.yAxisMap,V=E.offset,z=S.type.defaultProps||{},G=S.props,L=G.xAxisId,Y=L===void 0?z.xAxisId:L,W=G.yAxisId,ne=W===void 0?z.yAxisId:W;return P.cloneElement(S,{key:S.key||"".concat(O,"-").concat(_),xAxis:M[Y],yAxis:F[ne],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:I})}),ce(b,"renderActivePoints",function(S){var O=S.item,_=S.activePoint,T=S.basePoint,I=S.childIndex,E=S.isRange,M=[],F=O.props.key,V=O.item.type.defaultProps!==void 0?U(U({},O.item.type.defaultProps),O.item.props):O.item.props,z=V.activeDot,G=V.dataKey,L=U(U({index:I,dataKey:G,cx:_.x,cy:_.y,r:4,fill:zm(O.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},se(z,!1)),Al(z));return M.push(v.renderActiveDot(z,L,"".concat(F,"-activePoint-").concat(I))),T?M.push(v.renderActiveDot(z,U(U({},L),{},{cx:T.x,cy:T.y}),"".concat(F,"-basePoint-").concat(I))):E&&M.push(null),M}),ce(b,"renderGraphicChild",function(S,O,_){var T=b.filterFormatItem(S,O,_);if(!T)return null;var I=b.getTooltipEventType(),E=b.state,M=E.isTooltipActive,F=E.tooltipAxis,V=E.activeTooltipIndex,z=E.activeLabel,G=b.props.children,L=Ct(G,Wt),Y=T.props,W=Y.points,ne=Y.isRange,ie=Y.baseLine,ee=T.item.type.defaultProps!==void 0?U(U({},T.item.type.defaultProps),T.item.props):T.item.props,oe=ee.activeDot,xe=ee.hide,Se=ee.activeBar,$=ee.activeShape,K=!!(!xe&&M&&L&&(oe||Se||$)),D={};I!=="axis"&&L&&L.props.trigger==="click"?D={onClick:Gs(b.handleItemMouseEnter,S.props.onClick)}:I!=="axis"&&(D={onMouseLeave:Gs(b.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Gs(b.handleItemMouseEnter,S.props.onMouseEnter)});var k=P.cloneElement(S,U(U({},T.props),D));function R(Pt){return typeof F.dataKey=="function"?F.dataKey(Pt.payload):null}if(K)if(V>=0){var B,N;if(F.dataKey&&!F.allowDuplicatedCategory){var H=typeof F.dataKey=="function"?R:"payload.".concat(F.dataKey.toString());B=Pl(W,H,z),N=ne&&ie&&Pl(ie,H,z)}else B=W==null?void 0:W[V],N=ne&&ie&&ie[V];if($||Se){var J=S.props.activeIndex!==void 0?S.props.activeIndex:V;return[P.cloneElement(S,U(U(U({},T.props),D),{},{activeIndex:J})),null,null]}if(!ge(B))return[k].concat(mi(b.renderActivePoints({item:T,activePoint:B,basePoint:N,childIndex:V,isRange:ne})))}else{var te,ae=(te=b.getItemByXY(b.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:k},he=ae.graphicalItem,ke=he.item,we=ke===void 0?S:ke,Xe=he.childIndex,st=U(U(U({},T.props),D),{},{activeIndex:Xe});return[P.cloneElement(we,st),null,null]}return ne?[k,null,null]:[k,null]}),ce(b,"renderCustomized",function(S,O,_){return P.cloneElement(S,U(U({key:"recharts-customized-".concat(_)},b.props),b.state))}),ce(b,"renderMap",{CartesianGrid:{handler:Xs,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Xs},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Xs},YAxis:{handler:Xs},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:Oi("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=v9(b.triggeredAfterMouseMove,(A=x.throttleDelay)!==null&&A!==void 0?A:1e3/60),b.state={},b}return Sae(v,y),vae(v,[{key:"componentDidMount",value:function(){var w,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,A=w.children,b=w.data,S=w.height,O=w.layout,_=Ct(A,Wt);if(_){var T=_.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,E=Vh(this.state,b,T,I),M=this.state.tooltipTicks[T].coordinate,F=(this.state.offset.top+S)/2,V=O==="horizontal",z=V?{x:M,y:F}:{y:M,x:F},G=this.state.formattedGraphicalItems.find(function(Y){var W=Y.item;return W.type.name==="Scatter"});G&&(z=U(U({},z),G.props.points[T].tooltipPosition),E=G.props.points[T].tooltipPayload);var L={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:I,activePayload:E,activeCoordinate:z};this.setState(L),this.renderCursor(_),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var b,S;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){gf([Ct(w.children,Wt)],[Ct(this.props.children,Wt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ct(this.props.children,Wt);if(w&&typeof w.props.shared=="boolean"){var A=w.props.shared?"axis":"item";return s.indexOf(A)>=0?A:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var A=this.container,b=A.getBoundingClientRect(),S=O9(b),O={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},_=b.width/A.offsetWidth||1,T=this.inRange(O.chartX,O.chartY,_);if(!T)return null;var I=this.state,E=I.xAxisMap,M=I.yAxisMap,F=this.getTooltipEventType();if(F!=="axis"&&E&&M){var V=on(E).scale,z=on(M).scale,G=V&&V.invert?V.invert(O.chartX):null,L=z&&z.invert?z.invert(O.chartY):null;return U(U({},O),{},{xValue:G,yValue:L})}var Y=iw(this.state,this.props.data,this.props.layout,T);return Y?U(U({},O),Y):null}},{key:"inRange",value:function(w,A){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,O=w/b,_=A/b;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,I=O>=T.left&&O<=T.left+T.width&&_>=T.top&&_<=T.top+T.height;return I?{x:O,y:_}:null}var E=this.state,M=E.angleAxisMap,F=E.radiusAxisMap;if(M&&F){var V=on(M);return Eb({x:O,y:_},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,A=this.getTooltipEventType(),b=Ct(w,Wt),S={};b&&A==="axis"&&(b.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Al(this.props,this.handleOuterEvent);return U(U({},O),S)}},{key:"addListener",value:function(){kd.on(Ed,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kd.removeListener(Ed,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,A,b){for(var S=this.state.formattedGraphicalItems,O=0,_=S.length;O<_;O++){var T=S[O];if(T.item===w||T.props.key===w.key||A===un(T.item.type)&&b===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,A=this.state.offset,b=A.left,S=A.top,O=A.height,_=A.width;return j.createElement("defs",null,j.createElement("clipPath",{id:w},j.createElement("rect",{x:b,y:S,height:O,width:_})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(A,b){var S=rw(b,2),O=S[0],_=S[1];return U(U({},A),{},ce({},O,_.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(A,b){var S=rw(b,2),O=S[0],_=S[1];return U(U({},A),{},ce({},O,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(w){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(w){var A=this.state,b=A.formattedGraphicalItems,S=A.activeItem;if(b&&b.length)for(var O=0,_=b.length;O<_;O++){var T=b[O],I=T.props,E=T.item,M=E.type.defaultProps!==void 0?U(U({},E.type.defaultProps),E.props):E.props,F=un(E.type);if(F==="Bar"){var V=(I.data||[]).find(function(Y){return sZ(w,Y)});if(V)return{graphicalItem:T,payload:V}}else if(F==="RadialBar"){var z=(I.data||[]).find(function(Y){return Eb(w,Y)});if(z)return{graphicalItem:T,payload:z}}else if(Ou(T,S)||_u(T,S)||Ko(T,S)){var G=YQ({graphicalItem:T,activeTooltipItem:S,itemData:M.data}),L=M.activeIndex===void 0?G:M.activeIndex;return{graphicalItem:U(U({},T),{},{childIndex:L}),payload:Ko(T,S)?M.data[G]:T.props.data[G]}}}return null}},{key:"render",value:function(){var w=this;if(!Sv(this))return null;var A=this.props,b=A.children,S=A.className,O=A.width,_=A.height,T=A.style,I=A.compact,E=A.title,M=A.desc,F=nw(A,dae),V=se(F,!1);if(I)return j.createElement(Lx,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement(vf,_a({},V,{width:O,height:_,title:E,desc:M}),this.renderClipPath(),Av(b,this.renderMap)));if(this.props.accessibilityLayer){var z,G;V.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,V.role=(G=this.props.role)!==null&&G!==void 0?G:"application",V.onKeyDown=function(Y){w.accessibilityManager.keyboardEvent(Y)},V.onFocus=function(){w.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return j.createElement(Lx,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement("div",_a({className:be("recharts-wrapper",S),style:U({position:"relative",cursor:"default",width:O,height:_},T)},L,{ref:function(W){w.container=W}}),j.createElement(vf,_a({},V,{width:O,height:_,title:E,desc:M,style:Tae}),this.renderClipPath(),Av(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);ce(g,"displayName",r),ce(g,"defaultProps",U({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ce(g,"getDerivedStateFromProps",function(y,v){var x=y.dataKey,w=y.data,A=y.children,b=y.width,S=y.height,O=y.layout,_=y.stackOffset,T=y.margin,I=v.dataStartIndex,E=v.dataEndIndex;if(v.updateId===void 0){var M=ow(y);return U(U(U({},M),{},{updateId:0},p(U(U({props:y},M),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:w,prevWidth:b,prevHeight:S,prevLayout:O,prevStackOffset:_,prevMargin:T,prevChildren:A})}if(x!==v.prevDataKey||w!==v.prevData||b!==v.prevWidth||S!==v.prevHeight||O!==v.prevLayout||_!==v.prevStackOffset||!Ea(T,v.prevMargin)){var F=ow(y),V={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},z=U(U({},iw(v,w,O)),{},{updateId:v.updateId+1}),G=U(U(U({},F),V),z);return U(U(U({},G),p(U({props:y},G),v)),{},{prevDataKey:x,prevData:w,prevWidth:b,prevHeight:S,prevLayout:O,prevStackOffset:_,prevMargin:T,prevChildren:A})}if(!gf(A,v.prevChildren)){var L,Y,W,ne,ie=Ct(A,ri),ee=ie&&(L=(Y=ie.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&L!==void 0?L:I,oe=ie&&(W=(ne=ie.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&W!==void 0?W:E,xe=ee!==I||oe!==E,Se=!ge(w),$=Se&&!xe?v.updateId:v.updateId+1;return U(U({updateId:$},p(U(U({props:y},v),{},{updateId:$,dataStartIndex:ee,dataEndIndex:oe}),v)),{},{prevChildren:A,dataStartIndex:ee,dataEndIndex:oe})}return null}),ce(g,"renderActiveDot",function(y,v,x){var w;return P.isValidElement(y)?w=P.cloneElement(y,v):de(y)?w=y(v):w=j.createElement(xu,v),j.createElement(Pe,{className:"recharts-active-dot",key:x},w)});var m=P.forwardRef(function(v,x){return j.createElement(g,_a({},v,{ref:x}))});return m.displayName=g.displayName,m},Lae=eg({chartName:"LineChart",GraphicalChild:ci,axisComponents:[{axisType:"xAxis",AxisComp:di},{axisType:"yAxis",AxisComp:hi}],formatAxisMap:T_}),Bae=eg({chartName:"BarChart",GraphicalChild:la,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:di},{axisType:"yAxis",AxisComp:hi}],formatAxisMap:T_}),Fae=eg({chartName:"PieChart",GraphicalChild:qr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Au},{axisType:"radiusAxis",AxisComp:Su}],formatAxisMap:wY,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const uj=6048e5,Uae=864e5,lw=Symbol.for("constructDateFrom");function Vr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&lw in e?e[lw](t):e instanceof Date?new e.constructor(t):new Date(t)}function Xt(e,t){return Vr(t||e,e)}function Vae(e,t,r){const n=Xt(e,r==null?void 0:r.in);return isNaN(t)?Vr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}let zae={};function Mu(){return zae}function ts(e,t){var s,l,c,u;const r=Mu(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Xt(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Ac(e,t){return ts(e,{...t,weekStartsOn:1})}function dj(e,t){const r=Xt(e,t==null?void 0:t.in),n=r.getFullYear(),a=Vr(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Ac(a),o=Vr(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Ac(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function cw(e){const t=Xt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Wae(e,...t){const r=Vr.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function uw(e,t){const r=Xt(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Gae(e,t,r){const[n,a]=Wae(r==null?void 0:r.in,e,t),i=uw(n),o=uw(a),s=+i-cw(i),l=+o-cw(o);return Math.round((s-l)/Uae)}function Hae(e,t){const r=dj(e,t),n=Vr(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ac(n)}function qae(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Kae(e){return!(!qae(e)&&typeof e!="number"||isNaN(+Xt(e)))}function Yae(e,t){const r=Xt(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Xae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jae=(e,t,r)=>{let n;const a=Xae[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nd(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Zae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tie={date:Nd({formats:Zae,defaultWidth:"full"}),time:Nd({formats:Qae,defaultWidth:"full"}),dateTime:Nd({formats:eie,defaultWidth:"full"})},rie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nie=(e,t,r,n)=>rie[e];function Hi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const aie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uie=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},die={ordinalNumber:uie,era:Hi({values:aie,defaultWidth:"wide"}),quarter:Hi({values:iie,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hi({values:oie,defaultWidth:"wide"}),day:Hi({values:sie,defaultWidth:"wide"}),dayPeriod:Hi({values:lie,defaultWidth:"wide",formattingValues:cie,defaultFormattingWidth:"wide"})};function qi(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?hie(s,d=>d.test(o)):fie(s,d=>d.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function fie(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function hie(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function pie(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(a.length);return{value:o,rest:s}}}const mie=/^(\d+)(th|st|nd|rd)?/i,gie=/\d+/i,yie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vie={any:[/^b/i,/^(a|c)/i]},bie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xie={any:[/1/i,/2/i,/3/i,/4/i]},wie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Aie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Oie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_ie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jie={ordinalNumber:pie({matchPattern:mie,parsePattern:gie,valueCallback:e=>parseInt(e,10)}),era:qi({matchPatterns:yie,defaultMatchWidth:"wide",parsePatterns:vie,defaultParseWidth:"any"}),quarter:qi({matchPatterns:bie,defaultMatchWidth:"wide",parsePatterns:xie,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qi({matchPatterns:wie,defaultMatchWidth:"wide",parsePatterns:Sie,defaultParseWidth:"any"}),day:qi({matchPatterns:Pie,defaultMatchWidth:"wide",parsePatterns:Aie,defaultParseWidth:"any"}),dayPeriod:qi({matchPatterns:Oie,defaultMatchWidth:"any",parsePatterns:_ie,defaultParseWidth:"any"})},Tie={code:"en-US",formatDistance:Jae,formatLong:tie,formatRelative:nie,localize:die,match:jie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kie(e,t){const r=Xt(e,t==null?void 0:t.in);return Gae(r,Yae(r))+1}function Eie(e,t){const r=Xt(e,t==null?void 0:t.in),n=+Ac(r)-+Hae(r);return Math.round(n/uj)+1}function fj(e,t){var u,d,h,p;const r=Xt(e,t==null?void 0:t.in),n=r.getFullYear(),a=Mu(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Vr((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=ts(o,t),l=Vr((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=ts(l,t);return+r>=+s?n+1:+r>=+c?n:n-1}function Cie(e,t){var s,l,c,u;const r=Mu(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=fj(e,t),i=Vr((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ts(i,t)}function Nie(e,t){const r=Xt(e,t==null?void 0:t.in),n=+ts(r,t)-+Cie(r,t);return Math.round(n/uj)+1}function je(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Zr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return je(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):je(r+1,2)},d(e,t){return je(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return je(e.getHours()%12||12,t.length)},H(e,t){return je(e.getHours(),t.length)},m(e,t){return je(e.getMinutes(),t.length)},s(e,t){return je(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return je(a,t.length)}},pa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dw={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Zr.y(e,t)},Y:function(e,t,r,n){const a=fj(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return je(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):je(i,t.length)},R:function(e,t){const r=dj(e);return je(r,t.length)},u:function(e,t){const r=e.getFullYear();return je(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return je(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return je(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Zr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return je(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Nie(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):je(a,t.length)},I:function(e,t,r){const n=Eie(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):je(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Zr.d(e,t)},D:function(e,t,r){const n=kie(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):je(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return je(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return je(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return je(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=pa.noon:n===0?a=pa.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=pa.evening:n>=12?a=pa.afternoon:n>=4?a=pa.morning:a=pa.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Zr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Zr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):je(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):je(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Zr.s(e,t)},S:function(e,t){return Zr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return hw(n);case"XXXX":case"XX":return Mn(n);case"XXXXX":case"XXX":default:return Mn(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return hw(n);case"xxxx":case"xx":return Mn(n);case"xxxxx":case"xxx":default:return Mn(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fw(n,":");case"OOOO":default:return"GMT"+Mn(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fw(n,":");case"zzzz":default:return"GMT"+Mn(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return je(n,t.length)},T:function(e,t,r){return je(+e,t.length)}};function fw(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+je(i,2)}function hw(e,t){return e%60===0?(e>0?"-":"+")+je(Math.abs(e)/60,2):Mn(e,t)}function Mn(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=je(Math.trunc(n/60),2),i=je(n%60,2);return r+a+t+i}const pw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},hj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Mie=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return pw(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",pw(n,t)).replace("{{time}}",hj(a,t))},Iie={p:hj,P:Mie},$ie=/^D+$/,Rie=/^Y+$/,Die=["D","DD","YY","YYYY"];function Lie(e){return $ie.test(e)}function Bie(e){return Rie.test(e)}function Fie(e,t,r){const n=Uie(e,t,r);if(console.warn(n),Die.includes(e))throw new RangeError(n)}function Uie(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wie=/^'([^]*?)'?$/,Gie=/''/g,Hie=/[a-zA-Z]/;function mw(e,t,r){var u,d,h,p;const n=Mu(),a=n.locale??Tie,i=n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=Xt(e,r==null?void 0:r.in);if(!Kae(s))throw new RangeError("Invalid time value");let l=t.match(zie).map(g=>{const m=g[0];if(m==="p"||m==="P"){const y=Iie[m];return y(g,a.formatLong)}return g}).join("").match(Vie).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:qie(g)};if(dw[m])return{isToken:!0,value:g};if(m.match(Hie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(l=a.localize.preprocessor(s,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(g=>{if(!g.isToken)return g.value;const m=g.value;(Bie(m)||Lie(m))&&Fie(m,t,String(e));const y=dw[m[0]];return y(s,m,a.localize,c)}).join("")}function qie(e){const t=e.match(Wie);return t?t[1].replace(Gie,"'"):e}function Kie(e,t,r){return Vae(e,-t,r)}const Yie=()=>{var we,Xe,st,Pt,Kr,Yr,Sn,Sr,tg;const[e,t]=P.useState("chat"),[r,n]=P.useState(!1),a=br();P.useState("");const[i,o]=P.useState([]),[s,l]=P.useState({title:"",message:"",priority:"medium",category:""}),[c,u]=P.useState([]),[d,h]=P.useState([]),[p,g]=P.useState("all"),[m,y]=P.useState("all"),[v,x]=P.useState("newest"),[w,A]=P.useState(""),[b,S]=P.useState({totalGames:0,activeGames:0,completedGames:0,averageGameDuration:0,mostPopularGridSize:5,publicGamesPercentage:0,totalPlayers:0,dailyStats:[],gridSizeDistribution:[],playerCountDistribution:[]}),[O,_]=P.useState(!0),[T,I]=P.useState(!1),[E,M]=P.useState({totalBots:8,maxBotsInLobby:5,maxBotsInGames:3,minBotsWithOpenGames:1,chatFrequency:{greeting:.5,taunt:.2,reaction:.3,lobbyChat:.08},messageDelay:{min:2e3,max:5e3}}),[F,V]=P.useState([]),[z,G]=P.useState(!1),[L,Y]=P.useState({greetings:[],taunts:[],reactions:{},lobby:[]}),[W,ne]=P.useState("lobby"),[ie,ee]=P.useState("");P.useEffect(()=>{const C=localStorage.getItem("adminSession");if(!C){a("/admin-login");return}const q=JSON.parse(C);Date.now()-q.timestamp>24*60*60*1e3&&(localStorage.removeItem("adminSession"),a("/admin-login"))},[]);const oe=async()=>{if(window.confirm("Are you sure you want to clear all chat messages?")){n(!0);try{await Un(X(Z,"lobbyChatMessages"))}catch(C){console.error("Error clearing chat:",C)}finally{n(!1)}}},xe=async()=>{if(window.confirm("Remove all inactive games?")){n(!0);try{const C=X(Z,"games"),le=(await nt(C)).val();for(const[me,De]of Object.entries(le)){const Le=De.lastActivity||0;Date.now()-Le>30*60*1e3&&await Un(X(Z,`games/${me}`))}}catch(C){console.error("Error removing games:",C)}finally{n(!1)}}},Se=async()=>{if(!(!s.title.trim()||!s.message.trim())){n(!0);try{const C=X(Z,"announcements"),q={id:Date.now(),title:s.title.trim(),message:s.message.trim(),timestamp:Date.now(),priority:s.priority,category:s.category.trim()||void 0};await Ue(C,[...i,q]),l({title:"",message:"",priority:"medium",category:""})}catch(C){console.error("Error posting announcement:",C)}finally{n(!1)}}},$=async C=>{if(window.confirm("Delete this announcement?"))try{const q=i.filter(le=>le.id!==C);await Ue(X(Z,"announcements"),q)}catch(q){console.error("Error deleting announcement:",q)}};P.useEffect(()=>{const C=X(Z,"announcements"),q=We(C,le=>{const me=le.val();if(me){const De=Array.isArray(me)?me:Object.values(me);o(De)}});return()=>q()},[]),P.useEffect(()=>{const C=X(Z,"lobbyChatMessages"),q=We(C,le=>{const me=le.val();if(me){const De=Object.entries(me).map(([Le,Je])=>({id:Le,...Je}));u(De.sort((Le,Je)=>Je.timestamp-Le.timestamp))}else u([])});return()=>q()},[]),P.useEffect(()=>{const C=X(Z,"games"),q=We(C,le=>{const me=le.val();if(me){const De=Object.entries(me).map(([Le,Je])=>({id:Le,...Je}));h(De),S(R(De))}else h([])});return()=>q()},[]),P.useEffect(()=>{const C=X(Z,"botManager/messagesEnabled"),q=We(C,le=>{const me=le.exists()?le.val():!0;_(me)});return()=>q()},[]),P.useEffect(()=>{const C=X(Z,"botManager/config"),q=We(C,De=>{var Le,Je,Xr,Ts,Mi,Oe;if(De.exists()){const ze=De.val(),ks={totalBots:ze.TOTAL_BOTS||8,maxBotsInLobby:ze.MAX_BOTS_IN_LOBBY||5,maxBotsInGames:ze.MAX_BOTS_IN_GAMES||3,minBotsWithOpenGames:ze.MIN_BOTS_WITH_OPEN_GAMES||1,chatFrequency:{greeting:((Le=ze.CHAT_FREQUENCY)==null?void 0:Le.GREETING)||.5,taunt:((Je=ze.CHAT_FREQUENCY)==null?void 0:Je.TAUNT)||.2,reaction:((Xr=ze.CHAT_FREQUENCY)==null?void 0:Xr.REACTION)||.3,lobbyChat:((Ts=ze.CHAT_FREQUENCY)==null?void 0:Ts.LOBBY_CHAT)||.08},messageDelay:{min:((Mi=ze.MESSAGE_DELAY)==null?void 0:Mi.MIN)||2e3,max:((Oe=ze.MESSAGE_DELAY)==null?void 0:Oe.MAX)||5e3}};M(ks)}}),le=X(Z,"botManager/personalities"),me=We(le,De=>{if(De.exists()){const Le=De.val(),Je=Array.isArray(Le)?Le:Object.values(Le);V(Je)}});return()=>{q(),me()}},[]),P.useEffect(()=>{const C=X(Z,"botManager/messages"),q=We(C,le=>{if(le.exists()){const me=le.val(),De={greetings:Array.isArray(me.greetings)?me.greetings:[],taunts:Array.isArray(me.taunts)?me.taunts:[],reactions:me.reactions||{win:[],lose:[],draw:[]},lobby:Array.isArray(me.lobby)?me.lobby:[]};Y(De)}});return()=>q()},[]);const K=async()=>{if(!T){I(!0);try{const C=!O;await Ue(X(Z,"botManager/messagesEnabled"),C),_(C)}catch(C){console.error("Error toggling bot messages:",C)}finally{I(!1)}}},D=C=>{switch(C){case"waiting":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"playing":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"finished":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},k=C=>{switch(C){case"high":return f.jsx("span",{className:"text-red-500",children:"â—"});case"medium":return f.jsx("span",{className:"text-yellow-500",children:"â—"});case"low":return f.jsx("span",{className:"text-green-500",children:"â—"});default:return f.jsx("span",{className:"text-blue-500",children:"â—"})}},R=C=>{var Mi;const q={},le={},me={};let De=0,Le=0,Je=0,Xr=new Set;for(let Oe=6;Oe>=0;Oe--){const ze=mw(Kie(new Date,Oe),"yyyy-MM-dd");q[ze]={games:0,players:0}}C.forEach(Oe=>{var ze,ks;try{const ca=Oe.createdAt?mw(new Date(Oe.createdAt),"yyyy-MM-dd"):null;ca&&q[ca]&&(q[ca].games++,q[ca].players+=Object.keys(Oe.players||{}).length);const rg=((ze=Oe.settings)==null?void 0:ze.gridSize)||5;le[rg]=(le[rg]||0)+1;const ng=Object.keys(Oe.players||{}).length;me[ng]=(me[ng]||0)+1,(ks=Oe.settings)!=null&&ks.isPublic&&Je++,Oe.status==="finished"&&typeof Oe.lastActivity=="number"&&typeof Oe.createdAt=="number"&&!isNaN(Oe.lastActivity)&&!isNaN(Oe.createdAt)&&(Le++,De+=Oe.lastActivity-Oe.createdAt),Object.keys(Oe.players||{}).forEach(yj=>Xr.add(yj))}catch(ca){console.error("Error processing game analytics:",ca)}});const Ts=Le?De/Le/1e3/60:0;return{totalGames:C.length,activeGames:C.filter(Oe=>Oe.status==="playing").length,completedGames:Le,averageGameDuration:Ts,mostPopularGridSize:Object.entries(le).length?parseInt(((Mi=Object.entries(le).sort(([,Oe],[,ze])=>ze-Oe)[0])==null?void 0:Mi[0])||"5"):5,publicGamesPercentage:C.length?Je/C.length*100:0,totalPlayers:Xr.size,dailyStats:Object.entries(q).map(([Oe,ze])=>({date:Oe,games:ze.games,players:ze.players})),gridSizeDistribution:Object.entries(le).map(([Oe,ze])=>({size:parseInt(Oe),count:ze})),playerCountDistribution:Object.entries(me).map(([Oe,ze])=>({count:parseInt(Oe),percentage:C.length?ze/C.length*100:0}))}},B=async()=>{G(!0);try{const C={TOTAL_BOTS:E.totalBots,MAX_BOTS_IN_LOBBY:E.maxBotsInLobby,MAX_BOTS_IN_GAMES:E.maxBotsInGames,MIN_BOTS_WITH_OPEN_GAMES:E.minBotsWithOpenGames,CHAT_FREQUENCY:{GREETING:E.chatFrequency.greeting,TAUNT:E.chatFrequency.taunt,REACTION:E.chatFrequency.reaction,LOBBY_CHAT:E.chatFrequency.lobbyChat},MESSAGE_DELAY:{MIN:E.messageDelay.min,MAX:E.messageDelay.max},GAME_CREATION_INTERVAL:12e4,MAX_WAITING_GAMES:2};await Ue(X(Z,"botManager/config"),C),alert("Bot configuration saved")}catch(C){console.error("Error saving bot config:",C),alert("Error saving bot configuration")}finally{G(!1)}},N=async()=>{G(!0);try{const C={};F.forEach((q,le)=>{C[le]=q}),await Ue(X(Z,"botManager/personalities"),C),console.log("Bot personalities saved successfully!"),alert("Bot personalities saved successfully!")}catch(C){console.error("Error saving bot personalities:",C),alert("Failed to save bot personalities. Please try again.")}finally{G(!1)}},H=(C,q,le)=>{const me=[...F];me[C]={...me[C],[q]:le},V(me)},J=()=>{V([...F,{name:`Bot ${F.length+1}`,skill:.5,chatStyle:"friendly",avatar:"ðŸ¤–"}])},te=C=>{if(!window.confirm("Are you sure you want to remove this bot personality?"))return;const q=[...F];q.splice(C,1),V(q)},ae=async()=>{n(!0);try{const C={greetings:L.greetings||[],taunts:L.taunts||[],reactions:L.reactions||{win:[],lose:[],draw:[]},lobby:L.lobby||[]};await Ue(X(Z,"botManager/messages"),C),alert("Bot messages saved successfully!")}catch(C){console.error("Error saving bot messages:",C),alert("Failed to save bot messages. Please try again.")}finally{n(!1)}},he=()=>{if(!ie.trim())return;const C={...L};if(W==="reactions"){alert("For reaction messages, please edit them directly in the Firebase database. The current UI doesn't support nested reaction categories."),ee("");return}else C[W]=[...C[W]||[],ie.trim()];Y(C),ee("")},ke=(C,q)=>{const le={...L};if(C==="reactions"){alert("For reaction messages, please edit them directly in the Firebase database. The current UI doesn't support removing nested reaction categories.");return}else{const me=le[C];le[C]=[...me.slice(0,q),...me.slice(q+1)]}Y(le)};return f.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[f.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-white",children:"Admin Panel"}),f.jsx("div",{className:"flex mb-6 border-b",children:["chat","games","announcements","analytics","bots"].map(C=>f.jsx("button",{onClick:()=>t(C),className:`px-4 py-2 ${e===C?"border-b-2 border-blue-500":"text-gray-500"}`,children:C.charAt(0).toUpperCase()+C.slice(1)},C))}),f.jsxs("div",{className:"space-y-4",children:[e==="chat"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("button",{onClick:oe,disabled:r,className:`bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 
                                                 transition-colors disabled:opacity-50`,children:"Clear Chat History"}),f.jsx("button",{onClick:K,disabled:T,className:`ml-4 px-4 py-2 rounded transition-colors disabled:opacity-50 ${O?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:O?"Disable Bot Messages":"Enable Bot Messages"}),f.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total Messages: ",c.length]})]}),f.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Time"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Player"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Message"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"ID"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:c.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:4,className:"px-4 py-3 text-center text-gray-500 dark:text-gray-400",children:"No chat messages"})}):c.map(C=>f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[f.jsx("td",{className:"px-4 py-2 text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:new Date(C.timestamp).toLocaleString()}),f.jsx("td",{className:"px-4 py-2 font-medium text-blue-500",children:C.playerName}),f.jsx("td",{className:"px-4 py-2 text-gray-700 dark:text-gray-300",children:C.message}),f.jsxs("td",{className:"px-4 py-2 text-xs text-gray-500 dark:text-gray-400",children:[C.playerId.slice(0,8),"..."]})]},C.id))})]})})}),f.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-4 mt-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800 dark:text-white",children:"About Bot Messages"}),f.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:["Bots periodically send messages in the online lobby to make the game feel alive. The ",f.jsx("strong",{children:O?"Disable Bot Messages":"Enable Bot Messages"})," button allows you to turn this feature on or off globally."]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:`w-3 h-3 rounded-full ${O?"bg-green-500":"bg-red-500"} mr-2`}),f.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Bot messages are currently ",f.jsx("strong",{children:O?"enabled":"disabled"})]})]})]})]}),e==="games"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:xe,disabled:r,className:`bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 
                                                     transition-colors disabled:opacity-50`,children:"Remove Inactive Games"}),f.jsxs("select",{value:p,onChange:C=>g(C.target.value),className:"px-4 py-2 rounded border dark:bg-gray-700 dark:border-gray-600",children:[f.jsx("option",{value:"all",children:"All Games"}),f.jsx("option",{value:"waiting",children:"Waiting"}),f.jsx("option",{value:"playing",children:"In Progress"}),f.jsx("option",{value:"finished",children:"Finished"})]})]}),f.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total Games: ",d.length]})]}),f.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Game ID"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Status"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Players"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Grid Size"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Type"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Created"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Last Activity"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:d.filter(C=>p==="all"||C.status===p).map(C=>{var q,le,me,De;return f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[f.jsxs("td",{className:"px-4 py-2 text-sm font-mono text-gray-500 dark:text-gray-400",children:[C.id.slice(0,8),"..."]}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D(C.status)}`,children:C.status})}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("div",{className:"space-y-1",children:Object.entries(C.players).map(([Le,Je])=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Je.color}}),f.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[Je.name,C.winner===Le&&" ðŸ‘‘",Je.score!==void 0&&` (${Je.score})`]})]},Le))})}),f.jsxs("td",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300",children:[((q=C.settings)==null?void 0:q.gridSize)||"-","x",((le=C.settings)==null?void 0:le.gridSize)||"-"]}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs 
                                                                    ${(me=C.settings)!=null&&me.isPublic?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"}`,children:(De=C.settings)!=null&&De.isPublic?"Public":"Private"})}),f.jsx("td",{className:"px-4 py-2 text-xs text-gray-500 dark:text-gray-400",children:new Date(C.createdAt).toLocaleString()}),f.jsx("td",{className:"px-4 py-2 text-xs text-gray-500 dark:text-gray-400",children:new Date(C.lastActivity).toLocaleString()}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("button",{onClick:()=>Un(X(Z,`games/${C.id}`)),className:"text-red-500 hover:text-red-700 text-sm",children:"Delete"})})]},C.id)})})]})})})]}),e==="announcements"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between bg-white dark:bg-gray-700 p-4 rounded-lg shadow",children:[f.jsxs("div",{className:"flex gap-4 items-center",children:[f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:"Search announcements...",value:w,onChange:C=>A(C.target.value),className:"pl-10 pr-4 py-2 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsx(Ek,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),f.jsxs("select",{value:m,onChange:C=>y(C.target.value),className:"p-2 border rounded-lg dark:bg-gray-600 dark:border-gray-500",children:[f.jsx("option",{value:"all",children:"All Priorities"}),f.jsx("option",{value:"high",children:"High Priority"}),f.jsx("option",{value:"medium",children:"Medium Priority"}),f.jsx("option",{value:"low",children:"Low Priority"})]}),f.jsxs("select",{value:v,onChange:C=>x(C.target.value),className:"p-2 border rounded-lg dark:bg-gray-600 dark:border-gray-500",children:[f.jsx("option",{value:"newest",children:"Newest First"}),f.jsx("option",{value:"oldest",children:"Oldest First"}),f.jsx("option",{value:"priority",children:"By Priority"})]})]}),f.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total Announcements: ",i.length]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.filter(C=>!(m!=="all"&&C.priority!==m||w&&!C.title.toLowerCase().includes(w.toLowerCase())&&!C.message.toLowerCase().includes(w.toLowerCase()))).sort((C,q)=>{if(v==="newest")return q.timestamp-C.timestamp;if(v==="oldest")return C.timestamp-q.timestamp;if(v==="priority"){const le={high:3,medium:2,low:1};return(le[q.priority||"low"]||0)-(le[C.priority||"low"]||0)}return 0}).map(C=>f.jsxs("div",{className:`bg-white dark:bg-gray-700 rounded-lg shadow-lg overflow-hidden 
                                                         transition-transform hover:scale-[1.02] group`,children:[f.jsx("div",{className:`h-1 ${C.priority==="high"?"bg-red-500":C.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[k(C.priority),C.title]}),C.category&&f.jsx("span",{className:`inline-block mt-1 px-2 py-1 bg-gray-100 dark:bg-gray-600 
                                                                       rounded text-xs text-gray-600 dark:text-gray-300`,children:C.category})]}),f.jsx("button",{onClick:()=>$(C.id),className:`text-gray-400 hover:text-red-500 transition-colors p-1
                                                                     opacity-0 group-hover:opacity-100`,children:f.jsx(Ck,{size:16})})]}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-3 whitespace-pre-wrap",children:C.message}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[f.jsx(Fd,{}),new Date(C.timestamp).toLocaleString()]})]})]},C.id))}),f.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-6",children:[f.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx($n,{className:"text-blue-500"}),"New Announcement"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",value:s.title,onChange:C=>l(q=>({...q,title:C.target.value})),placeholder:"Announcement Title",className:"w-full p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:s.priority,onChange:C=>l(q=>({...q,priority:C.target.value})),className:"w-1/2 p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500",children:[f.jsx("option",{value:"low",children:"ðŸŸ¢ Low Priority"}),f.jsx("option",{value:"medium",children:"ðŸŸ¡ Medium Priority"}),f.jsx("option",{value:"high",children:"ðŸ”´ High Priority"})]}),f.jsx("input",{type:"text",value:s.category,onChange:C=>l(q=>({...q,category:C.target.value})),placeholder:"Category (optional)",className:"w-1/2 p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"})]})]}),f.jsx("textarea",{value:s.message,onChange:C=>l(q=>({...q,message:C.target.value})),placeholder:"Announcement Message",rows:4,className:"w-full p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.message.length,"/500 characters"]}),f.jsxs("button",{onClick:Se,disabled:r||!s.title.trim()||!s.message.trim(),className:`bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg
                                                         disabled:opacity-50 transition-colors flex items-center gap-2`,children:[f.jsx($n,{}),"Post Announcement"]})]})]})]})]}),e==="analytics"&&f.jsxs("div",{className:"space-y-8",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"Total Games",value:b.totalGames,color:"bg-blue-500"},{title:"Active Games",value:b.activeGames,color:"bg-green-500"},{title:"Total Players",value:b.totalPlayers,color:"bg-purple-500"},{title:"Avg. Game Duration",value:`${Math.round(b.averageGameDuration)}min`,color:"bg-yellow-500"}].map((C,q)=>f.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:`${C.color} rounded-full p-3 text-white`,children:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 3a7 7 0 100 14 7 7 0 000-14z",clipRule:"evenodd"})})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:C.title}),f.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:C.value})]})]})},q))}),f.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"Game Activity (Last 7 Days)"}),f.jsx("div",{className:"h-80",children:f.jsxs(Lae,{width:800,height:300,data:b.dailyStats,margin:{top:5,right:30,left:20,bottom:5},children:[f.jsx(Ch,{strokeDasharray:"3 3"}),f.jsx(di,{dataKey:"date"}),f.jsx(hi,{}),f.jsx(Wt,{}),f.jsx(dn,{}),f.jsx(ci,{type:"monotone",dataKey:"games",stroke:"#3B82F6",name:"Games"}),f.jsx(ci,{type:"monotone",dataKey:"players",stroke:"#10B981",name:"Players"})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"Grid Size Distribution"}),f.jsx("div",{className:"h-64",children:f.jsxs(Bae,{width:400,height:250,data:b.gridSizeDistribution,children:[f.jsx(Ch,{strokeDasharray:"3 3"}),f.jsx(di,{dataKey:"size"}),f.jsx(hi,{}),f.jsx(Wt,{}),f.jsx(la,{dataKey:"count",fill:"#8884d8"})]})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"Player Count Distribution"}),f.jsx("div",{className:"h-64",children:f.jsxs(Fae,{width:400,height:250,children:[f.jsx(qr,{data:b.playerCountDistribution,dataKey:"percentage",nameKey:"count",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:b.playerCountDistribution.map((C,q)=>f.jsx(lu,{fill:`hsl(${q*45}, 70%, 50%)`},q))}),f.jsx(Wt,{}),f.jsx(dn,{})]})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"Game Privacy"}),f.jsx("div",{className:"flex items-center justify-center",children:f.jsxs("div",{className:"relative pt-1 w-full",children:[f.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[f.jsx("div",{children:f.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200",children:"Public Games"})}),f.jsx("div",{className:"text-right",children:f.jsxs("span",{className:"text-xs font-semibold inline-block text-blue-600",children:[Math.round(b.publicGamesPercentage),"%"]})})]}),f.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200",children:f.jsx("div",{style:{width:`${b.publicGamesPercentage}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500"})})]})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"Most Popular Grid Size"}),f.jsx("div",{className:"text-center",children:f.jsxs("span",{className:"text-4xl font-bold text-blue-500",children:[b.mostPopularGridSize,"x",b.mostPopularGridSize]})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"Game Completion Rate"}),f.jsx("div",{className:"text-center",children:f.jsxs("span",{className:"text-4xl font-bold text-green-500",children:[Math.round(b.completedGames/b.totalGames*100),"%"]})})]})]})]}),e==="bots"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-6",children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white",children:"Bot Configuration"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Bots"}),f.jsx("input",{type:"number",value:E.totalBots,onChange:C=>M(q=>({...q,totalBots:parseInt(C.target.value)})),className:"w-full p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total number of bots in the system"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Max Bots in Lobby"}),f.jsx("input",{type:"number",value:E.maxBotsInLobby,onChange:C=>M(q=>({...q,maxBotsInLobby:parseInt(C.target.value)})),className:"w-full p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Maximum number of bots that can be in the lobby at once"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Max Bots in Games"}),f.jsx("input",{type:"number",value:E.maxBotsInGames,onChange:C=>M(q=>({...q,maxBotsInGames:parseInt(C.target.value)})),className:"w-full p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Maximum number of bots that can be playing games at once"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Min Bots With Open Games"}),f.jsx("input",{type:"number",value:E.minBotsWithOpenGames,onChange:C=>M(q=>({...q,minBotsWithOpenGames:parseInt(C.target.value)})),className:"w-full p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Minimum number of bots hosting open games"})]})]}),f.jsxs("div",{className:"border-t pt-4 dark:border-gray-600",children:[f.jsx("h4",{className:"text-md font-medium mb-3 text-gray-800 dark:text-white",children:"Chat Settings"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Greeting Frequency (0-1)"}),f.jsx("input",{type:"number",min:"0",max:"1",step:"0.1",value:E.chatFrequency.greeting,onChange:C=>M(q=>({...q,chatFrequency:{...q.chatFrequency,greeting:parseFloat(C.target.value)}})),className:"w-full p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Chance to greet when player joins (0.5 = 50%)"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Taunt Frequency (0-1)"}),f.jsx("input",{type:"number",min:"0",max:"1",step:"0.1",value:E.chatFrequency.taunt,onChange:C=>M(q=>({...q,chatFrequency:{...q.chatFrequency,taunt:parseFloat(C.target.value)}})),className:"w-full p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Chance to taunt during games (0.2 = 20%)"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Reaction Frequency (0-1)"}),f.jsx("input",{type:"number",min:"0",max:"1",step:"0.1",value:E.chatFrequency.reaction,onChange:C=>M(q=>({...q,chatFrequency:{...q.chatFrequency,reaction:parseFloat(C.target.value)}})),className:"w-full p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Chance to react to game events (0.3 = 30%)"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Lobby Chat Frequency (0-1)"}),f.jsx("input",{type:"number",min:"0",max:"1",step:"0.1",value:E.chatFrequency.lobbyChat,onChange:C=>M(q=>({...q,chatFrequency:{...q.chatFrequency,lobbyChat:parseFloat(C.target.value)}})),className:"w-full p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Chance for bots to chat in the lobby (0.08 = 8%)"})]})]})]}),f.jsxs("div",{className:"border-t pt-4 dark:border-gray-600",children:[f.jsx("h4",{className:"text-md font-medium mb-3 text-gray-800 dark:text-white",children:"Message Timing"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Min Message Delay (ms)"}),f.jsx("input",{type:"number",value:E.messageDelay.min,onChange:C=>M(q=>({...q,messageDelay:{...q.messageDelay,min:parseInt(C.target.value)}})),className:"w-full p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Minimum delay before a bot sends a message (2000 = 2 seconds)"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Max Message Delay (ms)"}),f.jsx("input",{type:"number",value:E.messageDelay.max,onChange:C=>M(q=>({...q,messageDelay:{...q.messageDelay,max:parseInt(C.target.value)}})),className:"w-full p-3 border rounded-lg dark:bg-gray-600 dark:border-gray-500"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Maximum delay before a bot sends a message (5000 = 5 seconds)"})]})]})]})]}),f.jsx("div",{className:"mt-6",children:f.jsx("button",{onClick:B,disabled:z,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:z?"Saving...":"Save Bot Configuration"})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Bot Personalities"}),f.jsxs("button",{onClick:J,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Bot"]})]}),f.jsx("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border dark:border-gray-600",children:f.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[f.jsx("span",{className:"font-semibold",children:"Bot Personalities:"})," Each bot has a name, skill level (0-1), and chat style that determines its messages. Skill level of 0 is a complete beginner, 1 is expert. Chat styles affect the types of messages they will use."]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2 text-left",children:"Name"}),f.jsx("th",{className:"px-4 py-2 text-left",children:"Skill Level"}),f.jsx("th",{className:"px-4 py-2 text-left",children:"Chat Style"}),f.jsx("th",{className:"px-4 py-2 text-left",children:"Avatar"}),f.jsx("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),f.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:[F.map((C,q)=>f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[f.jsx("td",{className:"px-4 py-2",children:f.jsx("input",{type:"text",value:C.name,onChange:le=>H(q,"name",le.target.value),className:"w-full p-2 border rounded dark:bg-gray-600 dark:border-gray-500"})}),f.jsx("td",{className:"px-4 py-2",children:f.jsxs("div",{className:"flex flex-col space-y-1",children:[f.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:C.skill,onChange:le=>H(q,"skill",parseFloat(le.target.value)),className:"w-full"}),f.jsxs("span",{className:"text-xs text-center",children:[C.skill," (",C.skill<.3?"Beginner":C.skill<.6?"Intermediate":C.skill<.9?"Advanced":"Expert",")"]})]})}),f.jsx("td",{className:"px-4 py-2",children:f.jsxs("select",{value:C.chatStyle,onChange:le=>H(q,"chatStyle",le.target.value),className:"w-full p-2 border rounded dark:bg-gray-600 dark:border-gray-500",children:[f.jsx("option",{value:"friendly",children:"Friendly"}),f.jsx("option",{value:"competitive",children:"Competitive"}),f.jsx("option",{value:"casual",children:"Casual"}),f.jsx("option",{value:"pro",children:"Pro"}),f.jsx("option",{value:"funny",children:"Funny"}),f.jsx("option",{value:"aggressive",children:"Aggressive"}),f.jsx("option",{value:"random",children:"Random"})]})}),f.jsx("td",{className:"px-4 py-2",children:f.jsxs("select",{value:C.avatar,onChange:le=>H(q,"avatar",le.target.value),className:"w-full p-2 border rounded dark:bg-gray-600 dark:border-gray-500",children:[f.jsx("option",{value:"ðŸŽ®",children:"ðŸŽ® Game"}),f.jsx("option",{value:"ðŸ˜Ž",children:"ðŸ˜Ž Cool"}),f.jsx("option",{value:"ðŸŽ²",children:"ðŸŽ² Dice"}),f.jsx("option",{value:"ðŸ†",children:"ðŸ† Trophy"}),f.jsx("option",{value:"ðŸŒŸ",children:"ðŸŒŸ Star"}),f.jsx("option",{value:"ðŸ¤–",children:"ðŸ¤– Robot"}),f.jsx("option",{value:"ðŸ¦„",children:"ðŸ¦„ Unicorn"}),f.jsx("option",{value:"ðŸ¦‰",children:"ðŸ¦‰ Owl"}),f.jsx("option",{value:"ðŸ¦…",children:"ðŸ¦… Eagle"}),f.jsx("option",{value:"ðŸ¥­",children:"ðŸ¥­ Mango"}),f.jsx("option",{value:"ðŸ’ª",children:"ðŸ’ª Strong"})]})}),f.jsx("td",{className:"px-4 py-2 text-right",children:f.jsx("button",{onClick:()=>te(q),className:"text-white bg-red-500 hover:bg-red-600 px-3 py-1 rounded",children:"Delete"})})]},q)),F.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"px-4 py-4 text-center text-gray-500 dark:text-gray-400",children:'No bot personalities defined. Click "Add Bot" to create one.'})})]})]})}),f.jsx("div",{className:"mt-4 flex justify-end",children:f.jsx("button",{onClick:N,disabled:z,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:z?"Saving...":"Save Bot Personalities"})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-6",children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white",children:"Bot Messages"}),f.jsx("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border dark:border-gray-600",children:f.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[f.jsx("span",{className:"font-semibold",children:"Message Categories:"})," Configure the messages that bots can send in different situations. You can add, edit, or remove messages for each category. These messages are randomly selected when a bot needs to say something."]})}),f.jsxs("div",{className:"mb-4",children:[f.jsx("div",{className:"flex flex-wrap space-x-2 mb-4",children:Object.keys(L).map(C=>{var q,le,me,De,Le,Je,Xr;return f.jsxs("button",{onClick:()=>ne(C),className:`px-4 py-2 mb-2 rounded-lg flex items-center gap-2 ${W===C?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200"}`,children:[C==="greetings"&&f.jsx("span",{children:"ðŸ‘‹"}),C==="taunts"&&f.jsx("span",{children:"ðŸ˜ˆ"}),C==="reactions"&&f.jsx("span",{children:"ðŸ˜®"}),C==="lobby"&&f.jsx("span",{children:"ðŸ’¬"}),C.charAt(0).toUpperCase()+C.slice(1),f.jsx("span",{className:"ml-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 text-xs px-2 py-1 rounded-full",children:C==="reactions"?(((le=(q=L.reactions)==null?void 0:q.win)==null?void 0:le.length)||0)+(((De=(me=L.reactions)==null?void 0:me.lose)==null?void 0:De.length)||0)+(((Je=(Le=L.reactions)==null?void 0:Le.draw)==null?void 0:Je.length)||0):((Xr=L[C])==null?void 0:Xr.length)||0})]},C)})}),f.jsxs("div",{className:"border p-4 rounded-lg dark:border-gray-600 bg-gray-50 dark:bg-gray-800 mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsxs("h4",{className:"font-semibold text-gray-800 dark:text-white flex items-center gap-2",children:[W==="greetings"&&f.jsx("span",{children:"ðŸ‘‹"}),W==="taunts"&&f.jsx("span",{children:"ðŸ˜ˆ"}),W==="reactions"&&f.jsx("span",{children:"ðŸ˜®"}),W==="lobby"&&f.jsx("span",{children:"ðŸ’¬"}),W.charAt(0).toUpperCase()+W.slice(1)," Messages"]}),f.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:W==="reactions"?`${(((Xe=(we=L.reactions)==null?void 0:we.win)==null?void 0:Xe.length)||0)+(((Pt=(st=L.reactions)==null?void 0:st.lose)==null?void 0:Pt.length)||0)+(((Yr=(Kr=L.reactions)==null?void 0:Kr.draw)==null?void 0:Yr.length)||0)} messages`:`${((Sn=L[W])==null?void 0:Sn.length)||0} message${((Sr=L[W])==null?void 0:Sr.length)!==1?"s":""}`})]}),f.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:[W==="greetings"&&"Messages sent when a player joins the lobby.",W==="taunts"&&"Competitive messages sent during gameplay.",W==="reactions"&&"Messages reacting to game events like winning or losing.",W==="lobby"&&"General chat messages that bots send in the online lobby."]}),f.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-4 border rounded-lg dark:border-gray-600 bg-white dark:bg-gray-700 p-2",children:W==="reactions"?f.jsxs("div",{className:"text-center p-4",children:[f.jsx("div",{className:"text-3xl mb-2",children:"ðŸ˜®"}),f.jsx("div",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"Reaction Messages"}),f.jsx("div",{className:"space-y-4 mt-4",children:Object.entries(L.reactions||{}).map(([C,q])=>f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-600 p-3 rounded-lg",children:[f.jsxs("div",{className:"font-medium mb-2 flex justify-between",children:[f.jsxs("span",{children:[C.charAt(0).toUpperCase()+C.slice(1)," Reactions"]}),f.jsxs("span",{className:"text-xs bg-gray-200 dark:bg-gray-500 px-2 py-1 rounded-full",children:[Array.isArray(q)?q.length:0," messages"]})]}),Array.isArray(q)&&q.length>0?f.jsx("ul",{className:"text-sm text-gray-600 dark:text-gray-300 list-disc list-inside",children:q.map((le,me)=>f.jsx("li",{children:le},me))}):f.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No messages"})]},C))}),f.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-4",children:"Edit reaction messages directly in the Firebase database or contact the developer to implement a full UI for nested message categories."})]}):f.jsxs(f.Fragment,{children:[(tg=L[W])==null?void 0:tg.map((C,q)=>f.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-700 p-3 rounded-lg border dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-gray-400 text-xs",children:["#",q+1]}),f.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:C})]}),f.jsx("button",{onClick:()=>ke(W,q),className:"text-white bg-red-500 hover:bg-red-600 px-3 py-1 rounded text-sm",children:"Delete"})]},q)),(!L[W]||L[W].length===0)&&f.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[f.jsx("div",{className:"text-3xl mb-2",children:"ðŸ“"}),f.jsx("div",{children:"No messages in this category yet."}),f.jsx("div",{className:"text-sm",children:"Add some using the form below."})]})]})}),f.jsxs("div",{className:"flex",children:[f.jsx("input",{type:"text",value:ie,onChange:C=>ee(C.target.value),placeholder:`Add new ${W} message...`,className:"flex-1 p-3 border rounded-l-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",onKeyPress:C=>{C.key==="Enter"&&ie.trim()&&W!=="reactions"&&he()},disabled:W==="reactions"}),f.jsxs("button",{onClick:he,disabled:!ie.trim()||W==="reactions",className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white px-4 py-2 rounded-r-lg flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add"]})]})]})]}),f.jsx("div",{className:"mt-4 flex justify-end",children:f.jsx("button",{onClick:ae,disabled:z,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg disabled:opacity-50 flex items-center gap-2",children:z?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),"Save Bot Messages"]})})})]})]})]})]})})})},Xie=()=>{var y;const{gameId:e}=Lw(),t=br(),[r,n]=P.useState(null),[a,i]=P.useState(null),[o]=P.useState(()=>{const v=localStorage.getItem(Or.LOCAL_PLAYER_ID);if(v)return v;const x=Math.random().toString(36).substr(2,9);return localStorage.setItem(Or.LOCAL_PLAYER_ID,x),x}),[s,l]=P.useState(()=>localStorage.getItem(Or.PLAYER_NAME)||""),[c,u]=P.useState(0),[d,h]=P.useState(!1);P.useEffect(()=>{if(!e||!s.trim()||d)return;(async()=>{try{const x=X(Z,`games/${e}`),A=(await nt(x)).val();if(!A){i("Game not found");return}if(A.status!=="playing"&&A.status!=="waiting"){A.status==="finished"?i("This game has already finished"):A.status==="abandoned"?i("This game has been abandoned"):i("This game is not currently in progress");return}if(!A.players||Object.keys(A.players).length===0){i("Invalid game data: no players found");return}await Ne(X(Z,`games/${e}/spectators/${o}`),{name:s,joinedAt:ye(),online:!0}),h(!0)}catch(x){console.error("Error joining as spectator:",x),i(`Failed to join as spectator: ${x instanceof Error?x.message:"Unknown error"}`)}})()},[e,o,s,d]),P.useEffect(()=>{if(!e||!d)return;const v=X(Z,`games/${e}/spectators/${o}`),x=()=>{Ne(v,{online:!1,leftAt:ye()})};return Ne(v,{online:!0,lastSeen:ye()}),window.addEventListener("beforeunload",x),()=>{window.removeEventListener("beforeunload",x),x()}},[e,o,d]),P.useEffect(()=>{if(!e)return;const v=X(Z,`games/${e}`),x=We(v,w=>{const A=w.val();if(A){n(A);const b=A.spectators||{},S=Object.values(b).filter(O=>O.online).length;u(S)}else i("Game no longer exists")});return()=>x()},[e]);const p=()=>{t("/online")},g=v=>{var S;const x=v.players||{},w=Object.keys(x),A=v.currentPlayer||(w.length>0?w[0]:""),b=w.indexOf(A);return{currentPlayer:b>=0?b:0,players:w.map((O,_)=>{const T=x[O]||{};return{id:_,name:T.name||`Player ${_+1}`,score:T.score||0,color:T.color||"#808080",online:T.online||!1}}),lines:Array.isArray(v.lines)?v.lines:v.lines?Object.values(v.lines):[],boxes:Array.isArray(v.boxes)?v.boxes:v.boxes?Object.values(v.boxes):[],gridSize:((S=v.settings)==null?void 0:S.gridSize)||5,gameOver:v.status==="finished"}};return a?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 px-4",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-md w-full",children:[f.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"Error"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:a}),f.jsx("button",{onClick:p,className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded",children:"Back to Lobby"})]})}):r?r.players&&Object.keys(r.players).length>0?f.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-4",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 mb-4 flex justify-between items-center",children:[f.jsxs("button",{onClick:p,className:"text-blue-500 hover:text-blue-600 flex items-center gap-2",children:[f.jsx(Pk,{})," Back to Lobby"]}),f.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Spectating Game"}),f.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[f.jsx(zn,{className:"text-blue-500"}),f.jsxs("span",{children:[c," ",c===1?"Spectator":"Spectators"]})]})]}),f.jsx("div",{className:"bg-yellow-50 dark:bg-gray-700 p-4 rounded-lg mb-4 border-l-4 border-yellow-400 shadow-md",children:f.jsxs("p",{className:"text-yellow-700 dark:text-yellow-200 font-handwritten",children:["âš ï¸ ",f.jsx("span",{className:"font-bold",children:"Noob Dev Alert:"})," This spectator feature is experimental and may take some time to load or have visual glitches. Please be patient with a solo dev just trying his best! Thanks for trying it out anyway â¤ï¸"]})}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Game ID: ",f.jsx("span",{className:"font-mono",children:e})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[f.jsx(Nk,{className:"text-green-500"}),f.jsx("span",{children:r.status==="playing"?"Game in progress":r.status})]})]}),f.jsx(Hp,{gameState:g(r),onLineClick:()=>{},resetGame:()=>{},settings:{gridSize:((y=r.settings)==null?void 0:y.gridSize)||5,playerCount:Object.keys(r.players).length,playerNames:Object.values(r.players).map(v=>v.name),lineWidth:2,theme:"light",soundEnabled:!0,gridLines:!1,animations:!0,botEnabled:!1,quickStart:!1,showCoordinates:!1},onSettingsChange:()=>{},isBotMoving:!1,onBackToMenu:p,isSpectatorMode:!0}),f.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[f.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2 text-gray-800 dark:text-white",children:[f.jsx(zn,{className:"text-blue-500"})," Spectators"]}),c>0?f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:r.spectators&&Object.entries(r.spectators).filter(([,v])=>v.online).map(([v,x])=>f.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[f.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),x.name,v===o&&" (You)"]},v))}):f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No other spectators"})]})]})]})}):f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 px-4",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-md w-full",children:[f.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"Game Not Available"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"This game cannot be spectated. It may have ended or there's an issue with the game data."}),f.jsx("button",{onClick:p,className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded",children:"Back to Lobby"})]})}):f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:f.jsx("div",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Loading game..."})})};function Jie(){const[e,t]=P.useState(()=>{const r=localStorage.getItem("gameSettings");return r?JSON.parse(r):{playerCount:2,gridSize:5,playerNames:["Player 1","Player 2"],lineWidth:2,theme:"light",soundEnabled:!0,gridLines:!1,animations:!0}});return f.jsx(yk,{children:f.jsx(sk,{children:f.jsxs(DT,{children:[f.jsx(ar,{path:"/",element:f.jsx(VR,{settings:e,onSettingsChange:t})}),f.jsx(ar,{path:"/setup",element:f.jsx(WR,{onStartGame:t,initialSettings:e})}),f.jsx(ar,{path:"/game",element:f.jsx(aD,{settings:e})}),f.jsx(ar,{path:"/online",element:f.jsx(sD,{})}),f.jsx(ar,{path:"/online-game/:gameId",element:f.jsx(dD,{})}),f.jsx(ar,{path:"/online/setup",element:f.jsx(hD,{})}),f.jsx(ar,{path:"/admin-login",element:f.jsx(pD,{})}),f.jsx(ar,{path:"/admin-panel",element:f.jsx(Yie,{})}),f.jsx(ar,{path:"/spectate-game/:gameId",element:f.jsx(Xie,{})})]})})})}var Zie="@vercel/analytics",Qie="1.4.1",eoe=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function pj(){return typeof window<"u"}function mj(){try{const e="production"}catch{}return"production"}function toe(e="auto"){if(e==="auto"){window.vam=mj();return}window.vam=e}function roe(){return(pj()?window.vam:mj())||"production"}function Md(){return roe()==="development"}var noe="https://va.vercel-scripts.com/v1/script.debug.js",aoe="/_vercel/insights/script.js";function ioe(e={debug:!0}){var t;if(!pj())return;toe(e.mode),eoe(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const r=e.scriptSrc||(Md()?noe:aoe);if(document.head.querySelector(`script[src*="${r}"]`))return;const n=document.createElement("script");n.src=r,n.defer=!0,n.dataset.sdkn=Zie+(e.framework?`/${e.framework}`:""),n.dataset.sdkv=Qie,e.disableAutoTrack&&(n.dataset.disableAutoTrack="1"),e.endpoint&&(n.dataset.endpoint=e.endpoint),e.dsn&&(n.dataset.dsn=e.dsn),n.onerror=()=>{const a=Md()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${a}`)},Md()&&e.debug===!1&&(n.dataset.debug="false"),document.head.appendChild(n)}function ooe({route:e,path:t}){var r;(r=window.va)==null||r.call(window,"pageview",{route:e,path:t})}function soe(e){return P.useEffect(()=>{var t;e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),P.useEffect(()=>{ioe({framework:e.framework||"react",...e.route!==void 0&&{disableAutoTrack:!0},...e})},[]),P.useEffect(()=>{e.route&&e.path&&ooe({route:e.route,path:e.path})},[e.route,e.path]),null}var loe="@vercel/speed-insights",coe="1.1.0",uoe=()=>{window.si||(window.si=function(...t){(window.siq=window.siq||[]).push(t)})};function doe(){return typeof window<"u"}function foe(){try{const e="production"}catch{}return"production"}function gw(){return foe()==="development"}var gj="https://va.vercel-scripts.com/v1/speed-insights",hoe=`${gj}/script.js`,poe=`${gj}/script.debug.js`,moe="/_vercel/speed-insights/script.js";function goe(e={}){var t;if(!doe()||e.route===null)return null;uoe();const n=!!e.dsn?hoe:moe,a=e.scriptSrc||(gw()?poe:n);if(document.head.querySelector(`script[src*="${a}"]`))return null;e.beforeSend&&((t=window.si)==null||t.call(window,"beforeSend",e.beforeSend));const i=document.createElement("script");return i.src=a,i.defer=!0,i.dataset.sdkn=loe+(e.framework?`/${e.framework}`:""),i.dataset.sdkv=coe,e.sampleRate&&(i.dataset.sampleRate=e.sampleRate.toString()),e.route&&(i.dataset.route=e.route),e.endpoint&&(i.dataset.endpoint=e.endpoint),e.dsn&&(i.dataset.dsn=e.dsn),gw()&&e.debug===!1&&(i.dataset.debug="false"),i.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${a}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(i),{setRoute:o=>{i.dataset.route=o??void 0}}}function yoe(e){P.useEffect(()=>{var r;e.beforeSend&&((r=window.si)==null||r.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]);const t=P.useRef(null);return P.useEffect(()=>{if(t.current)e.route&&t.current(e.route);else{const r=goe({framework:e.framework||"react",...e});r&&(t.current=r.setRoute)}},[e.route]),null}const voe=Ow(K1),jn=_w(voe);async function boe(){try{console.log("Initializing bot management structure in Firebase...");const e=X(jn,"botManager");(await nt(e)).exists()&&console.log("âš ï¸ Bot manager structure already exists. Some data will be preserved."),await Ue(X(jn,"botManager/config"),SP),console.log("âœ… Bot configuration initialized");const r={};ff.forEach((o,s)=>{r[String(s)]=o}),await Ue(X(jn,"botManager/personalities"),r),console.log("âœ… Bot personalities initialized");const n={};for(const[o,s]of Object.entries(PP))o==="reactions"&&typeof s=="object"&&!Array.isArray(s)?n[o]=s:n[o]=Array.isArray(s)?s:[];await Ue(X(jn,"botManager/messages"),n),console.log("âœ… Bot messages initialized"),await Ue(X(jn,"botManager/messagesEnabled"),!0),console.log("âœ… Bot messages enabled flag initialized");const a={},i=Date.now();ff.forEach((o,s)=>{const l=`bot_${i}_${s}`;a[l]={id:l,...o,status:"lobby",lastAction:i}}),await Ue(X(jn,"preserved/bots"),a),console.log("âœ… Preserved bots data initialized"),await Ue(X(jn,"botManager/activeClients"),0),console.log("âœ… Active clients counter initialized"),console.log("ðŸŽ‰ Bot management structure initialized successfully!"),console.log("You can now use the admin panel to manage bots."),console.log("âš ï¸ Remember to comment out the initFirebase import in main.tsx after running once!")}catch(e){console.error("âŒ Error initializing bot management:",e),console.error(e)}}boe();Dd.createRoot(document.getElementById("root")).render(f.jsxs(j.StrictMode,{children:[f.jsx(Jie,{}),f.jsx(soe,{}),f.jsx(yoe,{})]}));
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}